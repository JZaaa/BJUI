<div class="bjui-pageContent bj-page-wrapper-content">
    <div class="bg-white bj-p-20">
        <h3 class="page-header">第三方插件：zTree —— 树插件</h3>
        <blockquote>
            <p>本节主要介绍jQuery树插件 - zTree，插件地址：<a href="http://www.treejs.cn/" target="_blank">http://www.treejs.cn/</a>。</p>
        </blockquote>
        <h4>初始化</h4>
        <ul>
            <li><span class="label label-default">DOM示例1：</span>ul添加id, 添加class<code>(ztree)</code>和属性<code>data-toggle="ztree"</code>后即可触发，data属性设置要展示的JSON数据及其他参数。<br>
                <p>示例代码：</p>
                <script type="text/plain" class="language-markup line-numbers">
                    <ul id="ztree-test-demo1" class="ztree" data-toggle="ztree" data-nodes="[{id:1,pid:0,name:'表单元素',faicon:'rss',children:[{id:10,pId:1,name:'按钮'},{id:11,pId:1,name:'文本框'}]}]"></ul>
                </script>
            </li>
            <li><span class="label label-default">DOM示例2：</span>ul添加id, 添加class<code>(ztree)</code>和属性<code>data-toggle="ztree"</code>后即可触发，然后使用集合属性<code>data-options</code>定义JSON数据及其他参数。<br>
                <p>示例代码：</p>
                <script type="text/plain" class="language-markup line-numbers">
                    <ul id="ztree-test-demo2" class="ztree" data-toggle="ztree" data-options="{nodes:[{id:1,pid:0,name:'表单元素',faicon:'rss',children:[{id:10,pId:1,name:'按钮'},{id:11,pId:1,name:'文本框'}]}]}"></ul>
                </script>
            </li>
            <li><span class="label label-default">DOM示例3：</span>ul添加id, 添加class<code>(ztree)</code>和属性<code>data-toggle="ztree"</code>后即可触发，使用li元素定义要展示的数据。<br>
                <p>示例代码：</p>
                <script type="text/plain" class="language-markup line-numbers">
                    <ul id="ztree-test-demo3" class="ztree" data-toggle="ztree">
                        <li data-id="1" data-pid="0" data-faicon="rss" data-faicon-close="cab">表单元素</li>
                        <li data-id="10" data-pid="1" data-url="form-button.html" data-tabid="form-button" data-faicon="bell">按钮</li>
                        <li data-id="11" data-pid="1" data-url="form-input.html" data-tabid="form-input" data-faicon="info-circle">文本框</li>
                    </ul>
                </script>
            </li>
            <li>jQuery API：<a href="http://www.treejs.cn/v3/api.php" target="_blank">http://www.treejs.cn/v3/api.php</a></li>
        </ul>
        <blockquote class="point">
            <p>考虑到nodes定义的JSON数据写到HTML中可能会破坏DOM结构， nodes参数支持定义为方法名，该方法返回需要的JSON数据。例：</p>
            <script type="text/plain" class="language-js line-numbers">
                <script type="text/javascript">
                    function ztree_returnjson() {
                        return [{id:1,pid:0,name:'表单元素',children:[{id:10,pId:1,name:'按钮'},{id:11,pId:1,name:'文本框'}]}]
                    }
                &lt;/script>
                <ul id="ztree-test-demo2" class="ztree" data-toggle="ztree" data-options="{nodes:'ztree_returnjson'}"></ul>
            </script>
        </blockquote>
        <h4>DOM初始化的zTree参数</h4>
        <blockquote>
            <p>推荐使用集合属性<code>data-options</code>定义参数，如果使用<code>data属性</code>定义参数，注意转换成对应的名称，参见<a href="doc/base/data.html" data-toggle="navtab" data-id="doc-base">data属性</a>一节。</p>
        </blockquote>
        <table class="table table-striped table-hover">
            <thead>
                <tr>
                    <th width="160">属性名称</th>
                    <th>类型、参数</th>
                    <th>默认值</th>
                    <th>描述信息</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>nodes</td>
                    <td>object/string/function</td>
                    <td>null</td>
                    <td>zTree展示的JSON数据，参数格式可以是：JSON对象，JSON格式的字符串，返回JSON数据的方法名，返回JSON数据的方法</td>
                </tr>
                <tr>
                    <td>└ faicon</td>
                    <td>string</td>
                    <td>null</td>
                    <td>定义zTree节点显示的字体图标，图标名称见<a href="http://fortawesome.github.io/Font-Awesome/icons/" target="_blank">Font Awesome</a>，定义图标名称不要加<code>fa-</code></td>
                </tr>
                <tr>
                    <td>└ faiconClose</td>
                    <td>string</td>
                    <td>null</td>
                    <td>定义zTree父节点折叠后显示的字体图标。</td>
                </tr>
                <tr>
                    <td>expandAll</td>
                    <td>Boolean</td>
                    <td>false</td>
                    <td>展开整棵树</td>
                </tr>
                <tr>
                    <td>simpleData</td>
                    <td>Boolean</td>
                    <td>true</td>
                    <td>使用简单JSON数据</td>
                </tr>
                <tr>
                    <td>addHoverDom</td>
                    <td>function(treeId, treeNode)</td>
                    <td>null</td>
                    <td>鼠标放到节点上时，显示的自定义DOM，函数可选字符串"edit"：显示自定义的添加和删除按钮，删除按钮点击时有确认事件，如果定义了删除事件[onRemove]，则删除时将调用该事件，否则直接删除</td>
                </tr>
                <tr>
                    <td>removeHoverDom</td>
                    <td>function(treeId, treeNode)</td>
                    <td>null</td>
                    <td>鼠标离开节点时，隐藏自定义DOM，函数可选字符串"edit"：隐藏自定义的添加和删除按钮，addHoverDom和removeHoverDom需要同时出现</td>
                </tr>
                <tr>
                    <td>maxAddLevel</td>
                    <td>Int</td>
                    <td>2</td>
                    <td>允许添加的最大子节点深度，仅使用默认的{"addHoverDom":"edit"}时有效，level > maxAddLevel 的节点上将不会显示添加按钮。</td>
                </tr>
                <tr>
                    <td>addDiyDom</td>
                    <td>function(treeId, treeNode)</td>
                    <td>false</td>
                    <td>用于在节点上固定显示用户自定义DOM</td>
                </tr>
                <tr>
                    <td>editEnable</td>
                    <td>Boolean</td>
                    <td>false</td>
                    <td>允许编辑节点</td>
                </tr>
                <tr>
                    <td>showRemoveBtn</td>
                    <td>Boolean</td>
                    <td>false</td>
                    <td>显示默认的编辑按钮</td>
                </tr>
                <tr>
                    <td>showRenameBtn</td>
                    <td>Boolean</td>
                    <td>false</td>
                    <td>显示默认的删除按钮</td>
                </tr>
                <tr>
                    <td>checkEnable</td>
                    <td>Boolean</td>
                    <td>false</td>
                    <td>设置 zTree 的节点上是否显示 checkbox / radio</td>
                </tr>
                <tr>
                    <td>chkStyle</td>
                    <td>String</td>
                    <td>checkbox</td>
                    <td>勾选框类型(checkbox 或 radio）[ {"checkEnable":true} 生效 ]</td>
                </tr>
                <tr>
                    <td>radioType</td>
                    <td>String</td>
                    <td>all</td>
                    <td>radio 的分组范围，参数'all'：整棵树为一个分组，参数'level'：每一节点范围当作一个分组</td>
                </tr>
                <tr>
                    <td>onClick</td>
                    <td>function(event, treeId, treeNode, clickFlag)</td>
                    <td>null</td>
                    <td>用于捕获节点被点击的事件回调函数，<br>请为该函数添加<code>event.preventDefault()</code>以阻止a链接的默认事件
                    </td>
                </tr>
                <tr>
                    <td>beforeDrag</td>
                    <td>function(treeId, treeNodes)</td>
                    <td>null</td>
                    <td>用于捕获节点被拖拽之前的事件回调函数，并且根据返回值确定是否允许开启拖拽操作<br>
                        拖拽需要开启(editEnable)：[ {"editEnable":true} 生效 ]
                    </td>
                </tr>
                <tr>
                    <td>beforeDrop</td>
                    <td>function(treeId, treeNodes, targetNode, moveType, isCopy)</td>
                    <td>null</td>
                    <td>用于捕获节点拖拽操作结束之前的事件回调函数，并且根据返回值确定是否允许此拖拽操作</td>
                </tr>
                <tr>
                    <td>onDrop</td>
                    <td>function(event, treeId, treeNodes, targetNode, moveType, isCopy)</td>
                    <td>null</td>
                    <td>用于捕获节点拖拽操作结束的事件回调函数</td>
                </tr>
                <tr>
                    <td>beforeRemove</td>
                    <td>function(treeId, treeNode)</td>
                    <td>null</td>
                    <td>用于捕获节点被删除之前的事件回调函数，并且根据返回值确定是否允许删除操作。</td>
                </tr>
                <tr>
                    <td>onRemove</td>
                    <td>function(event, treeId, treeNode)</td>
                    <td>null</td>
                    <td>用于捕获删除节点之后的事件回调函数。</td>
                </tr>
                <tr>
                    <td>onCheck</td>
                    <td>function(event, treeId, treeNode)</td>
                    <td>null</td>
                    <td>用于捕获 checkbox / radio 被勾选 或 取消勾选的事件回调函数</td>
                </tr>
                <tr>
                    <td><code>setting</code></td>
                    <td>object</td>
                    <td>null</td>
                    <td>用于定义更多的zTree参数，更多参数请查看zTree API：<a href="http://www.treejs.cn/v3/api.php" target="_blank">http://www.treejs.cn/v3/api.php</a></td>
                </tr>
            </tbody>
        </table>
    </div>
</div>
<div class="bjui-pageFooter">
    <ul>
      <!--   注意，回退仅允许返回菜单页面   -->
      <li><button type="button" class="btn-close" onclick="javascript:history.back()">返回</button></li>
    </ul>
</div>
