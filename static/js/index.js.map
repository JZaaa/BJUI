{"version":3,"file":"js/index.js","mappings":"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","sources":["webpack://@jzaaa/bjui-next/./src/js/bjui-ajax.js","webpack://@jzaaa/bjui-next/./src/js/bjui-ajaxtab.js","webpack://@jzaaa/bjui-next/./src/js/bjui-alertmsg.js","webpack://@jzaaa/bjui-next/./src/js/bjui-basedrag.js","webpack://@jzaaa/bjui-next/./src/js/bjui-contextmenu.js","webpack://@jzaaa/bjui-next/./src/js/bjui-core.js","webpack://@jzaaa/bjui-next/./src/js/bjui-datepicker.js","webpack://@jzaaa/bjui-next/./src/js/bjui-dialog.js","webpack://@jzaaa/bjui-next/./src/js/bjui-extends.js","webpack://@jzaaa/bjui-next/./src/js/bjui-frag.js","webpack://@jzaaa/bjui-next/./src/js/bjui-initui.js","webpack://@jzaaa/bjui-next/./src/js/bjui-lookup.js","webpack://@jzaaa/bjui-next/./src/js/bjui-modulefixed.js","webpack://@jzaaa/bjui-next/./src/js/bjui-navtab.js","webpack://@jzaaa/bjui-next/./src/js/bjui-pagination.js","webpack://@jzaaa/bjui-next/./src/js/bjui-plugins.js","webpack://@jzaaa/bjui-next/./src/js/bjui-regional.zh-CN.js","webpack://@jzaaa/bjui-next/./src/js/bjui-slidebar.js","webpack://@jzaaa/bjui-next/./src/js/bjui-spinner.js","webpack://@jzaaa/bjui-next/./src/js/bjui-tabledit.js","webpack://@jzaaa/bjui-next/./src/js/bjui-tablefixed.js","webpack://@jzaaa/bjui-next/./src/js/bjui-taskbar.js","webpack://@jzaaa/bjui-next/./src/js/bjui-theme.js","webpack://@jzaaa/bjui-next/./src/js/bjui-upload.js","webpack://@jzaaa/bjui-next/./src/js/bjui-util.date.js","webpack://@jzaaa/bjui-next/webpack/bootstrap","webpack://@jzaaa/bjui-next/./node_modules/js-cookie/dist/js.cookie.mjs","webpack://@jzaaa/bjui-next/./src/js/jquery.cookie.js"],"sourcesContent":["/*!\r\n * B-JUI  v1.2 (http://b-jui.com)\r\n * Git@OSC (http://git.oschina.net/xknaan/B-JUI)\r\n * Copyright 2014 K'naan (xknaan@163.com).\r\n * Licensed under Apache (http://www.apache.org/licenses/LICENSE-2.0)\r\n */\r\n\r\n/* ========================================================================\r\n * B-JUI: bjui-ajax.js  v1.2\r\n * @author K'naan (xknaan@163.com)\r\n * -- Modified from dwz.ajax.js (author:ZhangHuihua@msn.com)\r\n * http://git.oschina.net/xknaan/B-JUI/blob/master/BJUI/js/bjui-ajax.js\r\n * ========================================================================\r\n * Copyright 2014 K'naan.\r\n * Licensed under Apache (http://www.apache.org/licenses/LICENSE-2.0)\r\n * ======================================================================== */\r\n\r\n+(function($) {\r\n  'use strict'\r\n\r\n  // BJUIAJAX GLOBAL ELEMENTS\r\n  // ======================\r\n\r\n  var autorefreshTimer\r\n\r\n  // BJUIAJAX CLASS DEFINITION\r\n  // ======================\r\n\r\n  var Bjuiajax = function(element, options) {\r\n    this.$element = $(element)\r\n    this.options = options\r\n    this.tools = this.TOOLS()\r\n  }\r\n\r\n  Bjuiajax.DEFAULTS = {\r\n    reload: true,\r\n    loadingmask: true\r\n  }\r\n\r\n  Bjuiajax.NAVTAB = 'navtab'\r\n\r\n  Bjuiajax.prototype.TOOLS = function() {\r\n    var that = this\r\n    return {\r\n      getPagerForm: function($parent, args) {\r\n        var form = $parent.isTag('form') ? $parent[0] : $parent.find('#pagerForm:first')[0]\r\n        var pageInfo = $.extend({}, BJUI.pageInfo)\r\n\r\n        if ($parent.data('bjui.clientPaging')) {\r\n          args = $.extend({}, $parent.data('bjui.clientPaging'), args)\r\n          $parent.data('bjui.clientPaging', args)\r\n        }\r\n\r\n        if (form) {\r\n          for (var key in pageInfo) {\r\n            if (pageInfo.hasOwnProperty(key)) {\r\n              var val = ''\r\n              if (args && args[key]) {\r\n                val = args[key]\r\n              }\r\n              if (!form[pageInfo[key]]) {\r\n                $('<input type=\"hidden\" name=\"' + pageInfo[key] + '\" value=\"' + val + '\">').appendTo($(form))\r\n              } else if (val) {\r\n                form[pageInfo[key]].value = val\r\n              }\r\n            }\r\n          }\r\n        }\r\n\r\n        return form\r\n      },\r\n      getTarget: function() {\r\n        if (that.$element.closest('.navtab-panel').length) return Bjuiajax.NAVTAB\r\n        else return 'dialog'\r\n      }\r\n    }\r\n  }\r\n\r\n  Bjuiajax.prototype.ajaxForm = function(options) {\r\n    var that = this\r\n    var $form = this.$element\r\n\r\n    var callback = options && options.callback\r\n\r\n    var enctype = $form.attr('enctype')\r\n\r\n    options = $.extend({}, that.options, typeof options === 'object' && options)\r\n\r\n    if (callback) callback = callback.toFunc()\r\n\r\n    var successFn = function(data, textStatus, jqXHR) {\r\n      callback ? callback.apply(that, [data, $form]) : $.proxy(that.ajaxCallback(data), that)\r\n    }\r\n    var _submitFn = function() {\r\n      var op = { loadingmask: options.loadingmask, type: $form.attr('method'), url: $form.attr('action'), callback: successFn, error: $.proxy(that.ajaxError, that) }\r\n\r\n      if (enctype && enctype === 'multipart/form-data') {\r\n        if (window.FormData) {\r\n          $.extend(op, { data: new FormData($form[0]), contentType: false, processData: false })\r\n        } else {\r\n          $.extend(op, { data: $form.serializeArray(), files: $form.find(':file'), iframe: true, processData: false })\r\n        }\r\n      } else {\r\n        var _extra = $form.data('extra')\r\n        var extra = undefined\r\n        if (_extra) {\r\n          if (typeof _extra === 'string') {\r\n            _extra = _extra.toObj()\r\n          }\r\n          if (typeof _extra === 'object') {\r\n            op.contentType = 'application/json'\r\n            extra = JSON.stringify($.extend(_extra, $form.serializeJson()))\r\n          }\r\n        }\r\n        $.extend(op, { data: extra ? extra : $form.serializeArray() })\r\n      }\r\n      $form.doAjax(op)\r\n    }\r\n\r\n    if (options.confirmMsg) {\r\n      $form.alertmsg('confirm', options.confirmMsg, { okCall: _submitFn })\r\n    } else {\r\n      _submitFn()\r\n    }\r\n  }\r\n\r\n  Bjuiajax.prototype.ajaxDone = function(json) {\r\n    var $element = this.$element\r\n\r\n    if (json[BJUI.keys.statusCode] === BJUI.statusCode.error) {\r\n      if (json[BJUI.keys.message]) $element.alertmsg('error', json[BJUI.keys.message])\r\n    } else if (json[BJUI.keys.statusCode] === BJUI.statusCode.timeout) {\r\n      $element.alertmsg('info', json[BJUI.keys.message] || FRAG.sessionTimout)\r\n      BJUI.loadLogin()\r\n    } else {\r\n      if (json[BJUI.keys.message]) $element.alertmsg('correct', json[BJUI.keys.message])\r\n    }\r\n  }\r\n\r\n  Bjuiajax.prototype.ajaxError = function(xhr, ajaxOptions, thrownError) {\r\n    BJUI.removeProgress()\r\n    var msg = xhr.responseText.trim()\r\n\r\n    if (msg.startsWith('{')) {\r\n      this.ajaxDone(msg.toObj())\r\n    } else {\r\n      this.$element.alertmsg('error', '<div>Http status: ' + xhr.status + ' ' + xhr.statusText + '</div>' +\r\n        '<div>ajaxOptions: ' + ajaxOptions + ' </div>' +\r\n        '<div>thrownError: ' + thrownError + ' </div>' +\r\n        '<div>' + msg + '</div>')\r\n    }\r\n  }\r\n\r\n  Bjuiajax.prototype.ajaxCallback = function(json) {\r\n    var that = this\r\n    var $element = that.$element\r\n    var $target = $element.closest('.bjui-layout')\r\n\r\n    that.ajaxDone(json)\r\n\r\n    if (json[BJUI.keys.statusCode] === BJUI.statusCode.ok) {\r\n      if ($target && $target.length) {\r\n        that.divCallback(json, $target)\r\n      } else {\r\n        if (that.tools.getTarget() === Bjuiajax.NAVTAB) {\r\n          that.navtabCallback(json)\r\n        } else {\r\n          that.dialogCallback(json)\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  Bjuiajax.prototype.divCallback = function(json, $target) {\r\n    var that = this\r\n\r\n    if (json.tabid) { setTimeout(function() { that.$element.navtab('reloadFlag', json.tabid) }, 100) }\r\n    if (json.dialogid) { setTimeout(function() { that.$element.dialog('refresh', json.dialogid) }, 100) }\r\n    if (json.divid) { setTimeout(function() { that.$element.bjuiajax('refreshDiv', json.divid) }, 100) }\r\n    if (that.options.reload) {\r\n      var form = that.tools.getPagerForm($target)\r\n      var url = null; var type = null\r\n\r\n      if (form) {\r\n        url = form.attr('action')\r\n        type = form.attr('method') || 'GET'\r\n      } else {\r\n        url = $target.data('url')\r\n        type = $target.data('type') || 'GET'\r\n      }\r\n\r\n      if (url) $target.ajaxUrl({ url: url, type: type })\r\n    }\r\n    if (that.options.reloadNavtab) { setTimeout(function() { that.$element.navtab('refresh') }, 100) }\r\n    if (json.forward) {\r\n      var _forward = function() {\r\n        $target.ajaxUrl({ url: json.forward })\r\n      }\r\n\r\n      if (json.forwardConfirm) {\r\n        that.$element.alertmsg('confirm', json.forwardConfirm, {\r\n          okCall: function() { _forward() }\r\n        })\r\n      } else {\r\n        _forward()\r\n      }\r\n    }\r\n  }\r\n\r\n  Bjuiajax.prototype.navtabCallback = function(json) {\r\n    var that = this\r\n\r\n    if (json.closeCurrent && !json.forward) {\r\n      that.$element.navtab('closeCurrentTab')\r\n    }\r\n    if (json.tabid !== false) {\r\n      if (($.trim(json.tabid) === '') && json.statusCode === BJUI.statusCode.ok) {\r\n        setTimeout(function() { that.$element.navtab('refresh') }, 100)\r\n      } else if (json.tabid) {\r\n        setTimeout(function() { that.$element.navtab('reloadFlag', json.tabid) }, 100)\r\n      } else if (that.options.reload) {\r\n        setTimeout(function() { that.$element.navtab('refresh') }, 100)\r\n      }\r\n    }\r\n    if (json.dialogid) { setTimeout(function() { that.$element.dialog('refresh', json.dialogid) }, 100) }\r\n    if (json.divid) { setTimeout(function() { that.$element.bjuiajax('refreshDiv', json.divid) }, 100) }\r\n    if (json.datagrid) {\r\n      setTimeout(function() {\r\n        $.each(json.datagrid.join(','), function(i, n) {\r\n          $('#' + n.trim()).datagrid('refresh')\r\n        })\r\n      }, 100)\r\n    }\r\n\r\n    if (json.forward) {\r\n      var _forward = function() {\r\n        that.$element.navtab('reload', { url: json.forward })\r\n      }\r\n\r\n      if (json.forwardConfirm) {\r\n        that.$element.alertmsg('confirm', json.forwardConfirm, {\r\n          okCall: function() { _forward() },\r\n          cancelCall: function() { if (json.closeCurrent) { that.$element.navtab('closeCurrentTab') } }\r\n        })\r\n      } else {\r\n        _forward()\r\n      }\r\n    }\r\n  }\r\n\r\n  Bjuiajax.prototype.dialogCallback = function(json) {\r\n    var that = this\r\n    // 当 tabid 为空时, 200 statusCode会自动刷新当前navtab, 设置为false时将不刷新\r\n    if (json.tabid !== false) {\r\n      if (($.trim(json.tabid) === '') && json.statusCode === BJUI.statusCode.ok) {\r\n        setTimeout(function() { that.$element.navtab('refresh') }, 100)\r\n      } else if (json.tabid) {\r\n        setTimeout(function() { that.$element.navtab('reloadFlag', json.tabid) }, 100)\r\n      }\r\n    }\r\n    if (json.dialogid) { setTimeout(function() { that.$element.dialog('refresh', json.dialogid) }, 100) }\r\n    if (json.divid) { setTimeout(function() { that.$element.bjuiajax('refreshDiv', json.divid) }, 100) }\r\n    if (json.closeCurrent && !json.forward) { that.$element.dialog('closeCurrent') } else if (that.options.reload) { setTimeout(function() { that.$element.dialog('refresh') }, 100) }\r\n    if (that.options.reloadNavtab) { setTimeout(function() { that.$element.navtab('refresh') }, 100) }\r\n    if (json.forward) {\r\n      var _forward = function() {\r\n        that.$element.dialog('reload', { url: json.forward })\r\n      }\r\n\r\n      if (json.forwardConfirm) {\r\n        that.$element.alertmsg('confirm', json.forwardConfirm, {\r\n          okCall: function() { _forward() }\r\n        })\r\n      } else {\r\n        _forward()\r\n      }\r\n    }\r\n  }\r\n\r\n  Bjuiajax.prototype.pageCallback = function(options, target) {\r\n    var that = this\r\n    var op = $.extend({}, Bjuiajax.DEFAULTS, options)\r\n    var $target = target || null\r\n    var form = null\r\n\r\n    if ($target && $target.length) {\r\n      form = that.tools.getPagerForm($target, op)\r\n      if (form) {\r\n        $.extend(op, $(form).data())\r\n        that.reloadDiv($target, { type: $(form).attr('method') || 'POST', url: $(form).attr('action'), data: $(form).serializeArray(), loadingmask: op.loadingmask })\r\n      }\r\n    } else {\r\n      if (that.tools.getTarget() === Bjuiajax.NAVTAB) {\r\n        $target = $.CurrentNavtab\r\n        form = that.tools.getPagerForm($target, op)\r\n        if (form) $.extend(op, $(form).data())\r\n        that.$element.navtab('reloadForm', false, op)\r\n      } else {\r\n        $target = $.CurrentDialog\r\n        form = that.tools.getPagerForm($target, op)\r\n        if (form) $.extend(op, $(form).data())\r\n        that.$element.dialog('reloadForm', false, op)\r\n      }\r\n    }\r\n  }\r\n\r\n  Bjuiajax.prototype.doSearch = function(options) {\r\n    var that = this\r\n    var $element = that.$element\r\n    var op = { pageCurrent: 1 }\r\n    var $target = $element.closest('.bjui-layout')\r\n    var isValid = options.isValid\r\n\r\n    options = $.extend({}, Bjuiajax.DEFAULTS, typeof options === 'object' && options)\r\n    if (!options.url) options.url = $element.attr('action')\r\n    if (!options.url) {\r\n      BJUI.debug('Error trying to submit form action: action url is undefined!')\r\n      return\r\n    } else {\r\n      options.url = decodeURI(options.url).replacePlh($element.closest('.unitBox'))\r\n\r\n      if (!options.url.isFinishedTm()) {\r\n        $element.alertmsg('error', (options.warn || FRAG.alertPlhMsg.replace('#plhmsg#', BJUI.regional.plhmsg)))\r\n        BJUI.debug('The submit form action is incorrect: ' + options.url)\r\n        return\r\n      }\r\n\r\n      options.url = encodeURI(options.url)\r\n    }\r\n\r\n    var search = function() {\r\n      if ($target && $target.length) {\r\n        that.tools.getPagerForm($target, op)\r\n\r\n        var data = $element.serializeJson(); var _data = {}\r\n\r\n        if (options.clearQuery) {\r\n          var pageInfo = BJUI.pageInfo\r\n\r\n          for (var key in pageInfo) {\r\n            if (pageInfo.hasOwnProperty(key)) {\r\n              _data[pageInfo[key]] = data[pageInfo[key]]\r\n            }\r\n          }\r\n          data = _data\r\n        }\r\n        that.reloadDiv($target, { type: $element.attr('method') || 'POST', url: options.url, data: data, loadingmask: options.loadingmask })\r\n      } else {\r\n        if (that.tools.getTarget() === Bjuiajax.NAVTAB) {\r\n          $target = $.CurrentNavtab\r\n          that.tools.getPagerForm($target, op)\r\n          $element.navtab('reloadForm', options.clearQuery, options)\r\n        } else {\r\n          $target = $.CurrentDialog\r\n          that.tools.getPagerForm($target, op)\r\n          $element.dialog('reloadForm', options.clearQuery, options)\r\n        }\r\n      }\r\n    }\r\n\r\n    if (!isValid) {\r\n      if ($.validator) {\r\n        $element.isValid(function(v) {\r\n          if (v) search()\r\n        })\r\n      } else {\r\n        search()\r\n      }\r\n    } else {\r\n      search()\r\n    }\r\n  }\r\n\r\n  Bjuiajax.prototype.doLoad = function(options) {\r\n    var that = this; var $element = that.$element; var $target = options.target ? $(options.target) : null\r\n\r\n    options = $.extend({}, Bjuiajax.DEFAULTS, typeof options === 'object' && options)\r\n    if (!options.url) {\r\n      BJUI.debug('Error trying to open a ajax link: The url is undefined!')\r\n      return\r\n    } else {\r\n      options.url = decodeURI(options.url).replacePlh($element.closest('.unitBox'))\r\n\r\n      if (!options.url.isFinishedTm()) {\r\n        $element.alertmsg('error', (options.warn || FRAG.alertPlhMsg.replace('#plhmsg#', BJUI.regional.plhmsg)))\r\n        BJUI.debug('The ajax link incorrect: ' + options.url)\r\n        return\r\n      }\r\n\r\n      options.url = encodeURI(options.url)\r\n    }\r\n\r\n    if (!$target || !$target.length) {\r\n      BJUI.debug('Not set loaded \\'ajax\\' content container, like [data-target].')\r\n      return\r\n    }\r\n\r\n    if ($target && $target.length) {\r\n      $target.removeData('bjui.clientPaging')\r\n      that.reloadDiv($target, options)\r\n    }\r\n  }\r\n\r\n  Bjuiajax.prototype.refreshLayout = function(options) {\r\n    var that = this\r\n    var $target = options.target ? $(options.target) : null\r\n\r\n    options = $.extend({}, Bjuiajax.DEFAULTS, typeof options === 'object' && options)\r\n    if (!$target || !$target.length) {\r\n      if (autorefreshTimer) clearInterval(autorefreshTimer)\r\n      BJUI.debug('Not set loaded \\'ajax\\' content container, like [data-target].')\r\n      return\r\n    }\r\n    if ($target && $target.length) {\r\n      $target.removeData('bjui.clientPaging')\r\n      that.reloadDiv($target, $.extend({}, $target.data('options') || {}, options))\r\n    }\r\n  }\r\n\r\n  Bjuiajax.prototype.reloadDiv = function($target, options) {\r\n    var arefre = options.autorefresh && (isNaN(String(options.autorefresh)) ? 15 : options.autorefresh)\r\n\r\n    $target\r\n      .addClass('bjui-layout')\r\n      .data('options', options)\r\n      .ajaxUrl({ type: options.type, url: options.url, data: options.data, loadingmask: options.loadingmask, callback: function(html) {\r\n        if (BJUI.ui.clientPaging && $target.data('bjui.clientPaging')) { $target.pagination('setPagingAndOrderby', $target) }\r\n        if (options.callback) { options.callback.apply(this, [$target]) }\r\n        if (autorefreshTimer) { clearInterval(autorefreshTimer) }\r\n        if (arefre) { autorefreshTimer = setInterval(function() { $target.bjuiajax('refreshLayout', options) }, arefre * 1000) }\r\n      }\r\n      })\r\n  }\r\n\r\n  Bjuiajax.prototype.refreshDiv = function(divid) {\r\n    if (divid && typeof divid === 'string') {\r\n      var arr = divid.split(',')\r\n\r\n      for (var i = 0; i < arr.length; i++) {\r\n        this.refreshLayout({ target: '#' + arr[i] })\r\n      }\r\n    }\r\n  }\r\n\r\n  Bjuiajax.prototype.doAjax = function(options) {\r\n    var that = this; var $element = that.$element\r\n\r\n    options = $.extend({}, Bjuiajax.DEFAULTS, typeof options === 'object' && options)\r\n    if (!options.url) {\r\n      BJUI.debug('Error trying to open a ajax link: url is undefined!')\r\n      return\r\n    } else {\r\n      options.url = decodeURI(options.url).replacePlh($element.closest('.unitBox'))\r\n\r\n      if (!options.url.isFinishedTm()) {\r\n        $element.alertmsg('error', (options.warn || FRAG.alertPlhMsg.replace('#plhmsg#', BJUI.regional.plhmsg)))\r\n        BJUI.debug('The ajax url is incorrect: ' + options.url)\r\n        return\r\n      }\r\n\r\n      options.url = encodeURI(options.url)\r\n    }\r\n\r\n    if (options.data) {\r\n      options.data = (typeof options.data === 'object') ? options.data : options.data.toObj()\r\n    }\r\n\r\n    var callback = options.callback && options.callback.toFunc()\r\n    var todo = function() {\r\n      $element.doAjax({ type: options.type, url: options.url, data: options.data, callback: callback || $.proxy(function(data) { that.ajaxCallback(data) }, that) })\r\n    }\r\n\r\n    if (options.confirmMsg) {\r\n      $element.alertmsg('confirm', options.confirmMsg, {\r\n        okCall: function() {\r\n          todo()\r\n        }\r\n      })\r\n    } else {\r\n      todo()\r\n    }\r\n  }\r\n\r\n  Bjuiajax.prototype.doExport = function(options) {\r\n    var that = this\r\n    var $element = that.$element\r\n    var $target = options.target ? $(options.target) : null\r\n    var form\r\n\r\n    if (!options.url) {\r\n      BJUI.debug('Error trying to open a ajax link: url is undefined!')\r\n      return\r\n    } else {\r\n      options.url = decodeURI(options.url).replacePlh($element.closest('.unitBox'))\r\n\r\n      if (!options.url.isFinishedTm()) {\r\n        $element.alertmsg('error', (options.warn || FRAG.alertPlhMsg.replace('#plhmsg#', BJUI.regional.plhmsg)))\r\n        BJUI.debug('The ajax url is incorrect: ' + options.url)\r\n        return\r\n      }\r\n    }\r\n\r\n    var todo = function() {\r\n      if (!$target || !$target.length) {\r\n        if (that.tools.getTarget() === Bjuiajax.NAVTAB) {\r\n          $target = $.CurrentNavtab\r\n        } else {\r\n          $target = $.CurrentDialog\r\n        }\r\n      }\r\n      if (options.data) {\r\n        options.data = (typeof options.data === 'object') ? options.data : options.data.toObj()\r\n      } else {\r\n        options.data = {}\r\n      }\r\n\r\n      form = that.tools.getPagerForm($target)\r\n      if (form) {\r\n        options.data = $.extend(options.data, $(form).serializeJson())\r\n      }\r\n\r\n      $.fileDownload(options.url, {\r\n        httpMethod: options.type,\r\n        data: options.data,\r\n        cookiePath: '/',\r\n        failCallback: function(responseHtml, url) {\r\n          if (responseHtml.trim().startsWith('{')) responseHtml = responseHtml.toObj()\r\n          that.ajaxDone(responseHtml)\r\n        }\r\n      })\r\n    }\r\n\r\n    if (options.confirmMsg) {\r\n      $element.alertmsg('confirm', options.confirmMsg, {\r\n        okCall: function() {\r\n          todo()\r\n        }\r\n      })\r\n    } else {\r\n      todo()\r\n    }\r\n  }\r\n\r\n  Bjuiajax.prototype.doExportChecked = function(options) {\r\n    var that = this\r\n    var $element = that.$element\r\n    var $target = options.target ? $(options.target) : null\r\n\r\n    if (!options.url) {\r\n      BJUI.debug('Error trying to open a export link: url is undefined!')\r\n      return\r\n    } else {\r\n      options.url = decodeURI(options.url).replacePlh($element.closest('.unitBox'))\r\n\r\n      if (!options.url.isFinishedTm()) {\r\n        $element.alertmsg('error', (options.warn || FRAG.alertPlhMsg.replace('#plhmsg#', BJUI.regional.plhmsg)))\r\n        BJUI.debug('The ajax url is incorrect: ' + options.url)\r\n        return\r\n      }\r\n    }\r\n\r\n    var todo = function() {\r\n      if (!options.group) {\r\n        that.$element.alertmsg('error', options.warn || FRAG.alertNoCheckGroup.replace('#nocheckgroup#', BJUI.regional.nocheckgroup))\r\n        return\r\n      }\r\n      if (!$target || !$target.length) {\r\n        if (that.tools.getTarget() === Bjuiajax.NAVTAB) {\r\n          $target = $.CurrentNavtab\r\n        } else {\r\n          $target = $.CurrentDialog\r\n        }\r\n      }\r\n\r\n      var ids = []\r\n      var $checks = $target.find(':checkbox[name=' + options.group + ']:checked')\r\n\r\n      if ($checks.length === 0) {\r\n        that.$element.alertmsg('error', FRAG.alertNotChecked.replace('#notchecked#', BJUI.regional.notchecked))\r\n        return\r\n      }\r\n      $checks.each(function() {\r\n        ids.push($(this).val())\r\n      })\r\n\r\n      if (options.data) {\r\n        options.data = (typeof options.data === 'object') ? options.data : options.data.toObj()\r\n      } else {\r\n        options.data = {}\r\n      }\r\n      options.data[options.idname ? options.idname : 'ids'] = ids.join(',')\r\n\r\n      $.fileDownload(options.url, {\r\n        httpMethod: options.type,\r\n        data: options.data,\r\n        cookiePath: '/',\r\n        failCallback: function(responseHtml, url) {\r\n          if (responseHtml.trim().startsWith('{')) responseHtml = responseHtml.toObj()\r\n          that.ajaxDone(responseHtml)\r\n        }\r\n      })\r\n    }\r\n\r\n    if (options.confirmMsg) {\r\n      $element.alertmsg('confirm', options.confirmMsg, {\r\n        okCall: function() {\r\n          todo()\r\n        }\r\n      })\r\n    } else {\r\n      todo()\r\n    }\r\n  }\r\n\r\n  Bjuiajax.prototype.doAjaxChecked = function(options) {\r\n    var that = this\r\n    var $element = that.$element\r\n    var $target = options.target ? $(options.target) : null\r\n\r\n    options = $.extend({}, Bjuiajax.DEFAULTS, typeof options === 'object' && options)\r\n    if (!options.url) {\r\n      BJUI.debug('Error trying to open a del link: url is undefined!')\r\n      return\r\n    } else {\r\n      options.url = decodeURI(options.url).replacePlh($element.closest('.unitBox'))\r\n\r\n      if (!options.url.isFinishedTm()) {\r\n        $element.alertmsg('error', (options.warn || FRAG.alertPlhMsg.replace('#plhmsg#', BJUI.regional.plhmsg)))\r\n        BJUI.debug('The ajax url is incorrect: ' + options.url)\r\n        return\r\n      }\r\n    }\r\n\r\n    var todo = function() {\r\n      if (!options.group) {\r\n        $element.alertmsg('error', options.warn || FRAG.alertNoCheckGroup.replace('#nocheckgroup#', BJUI.regional.nocheckgroup))\r\n        return\r\n      }\r\n      if (!$target || !$target.length) {\r\n        if (that.tools.getTarget() === Bjuiajax.NAVTAB) {\r\n          $target = $.CurrentNavtab\r\n        } else {\r\n          $target = $.CurrentDialog\r\n        }\r\n      }\r\n\r\n      var ids = []\r\n      var $checks = $target.find(':checkbox[name=' + options.group + ']:checked')\r\n      var callback = options.callback && options.callback.toFunc()\r\n\r\n      if ($checks.length === 0) {\r\n        $element.alertmsg('error', FRAG.alertNotChecked.replace('#notchecked#', BJUI.regional.notchecked))\r\n        return\r\n      }\r\n      $checks.each(function() {\r\n        ids.push($(this).val())\r\n      })\r\n\r\n      if (options.data) {\r\n        options.data = (typeof options.data === 'object') ? options.data : options.data.toObj()\r\n      } else {\r\n        options.data = {}\r\n      }\r\n      options.data[options.idname ? options.idname : 'ids'] = ids.join(',')\r\n      $element.doAjax({ type: options.type, url: options.url, data: options.data, callback: callback || $.proxy(function(data) { that.ajaxCallback(data) }, that) })\r\n    }\r\n\r\n    if (options.confirmMsg) {\r\n      $element.alertmsg('confirm', options.confirmMsg, {\r\n        okCall: function() {\r\n          todo()\r\n        }\r\n      })\r\n    } else {\r\n      todo()\r\n    }\r\n  }\r\n\r\n  // BJUIAJAX PLUGIN DEFINITION\r\n  // =======================\r\n\r\n  function Plugin(option) {\r\n    var args = arguments\r\n    var property = option\r\n\r\n    return this.each(function() {\r\n      var $this = $(this)\r\n      var options = $.extend({}, Bjuiajax.DEFAULTS, $this.data(), typeof option === 'object' && option)\r\n      var data = $this.data('bjui.bjuiajax')\r\n\r\n      if (!data) $this.data('bjui.bjuiajax', (data = new Bjuiajax(this, options)))\r\n      if (typeof property === 'string' && $.isFunction(data[property])) {\r\n        [].shift.apply(args)\r\n        if (!args) data[property]()\r\n        else data[property].apply(data, args)\r\n      }\r\n    })\r\n  }\r\n\r\n  var old = $.fn.bjuiajax\r\n\r\n  $.fn.bjuiajax = Plugin\r\n  $.fn.bjuiajax.Constructor = Bjuiajax\r\n\r\n  // BJUIAJAX NO CONFLICT\r\n  // =================\r\n\r\n  $.fn.bjuiajax.noConflict = function() {\r\n    $.fn.bjuiajax = old\r\n    return this\r\n  }\r\n\r\n  // BJUIAJAX DATA-API\r\n  // ==============\r\n\r\n  $(document).on('submit.bjui.bjuiajax.data-api', 'form[data-toggle=\"ajaxform\"]', function(e) {\r\n    var $this = $(this); var options = $this.data()\r\n\r\n    Plugin.call($this, 'ajaxForm', options)\r\n\r\n    e.preventDefault()\r\n  })\r\n\r\n  /* doSearch */\r\n  $(function() {\r\n    if ($.validator) {\r\n      $(document).on(BJUI.eventType.initUI, function(e) {\r\n        $(e.target).find('form[data-toggle=\"ajaxsearch\"]').each(function() {\r\n          var $form = $(this); var options = $form.data()\r\n\r\n          options.isValid = true\r\n          $form.validator({\r\n            valid: function(form) {\r\n              Plugin.call($form, 'doSearch', options)\r\n            }\r\n          })\r\n        })\r\n      })\r\n    } else {\r\n      $(document).on('submit.bjui.bjuiajax.data-api', 'form[data-toggle=\"ajaxsearch\"]', function(e) {\r\n        var $this = $(this); var options = $this.data()\r\n\r\n        Plugin.call($this, 'doSearch', options)\r\n\r\n        e.preventDefault()\r\n      })\r\n    }\r\n  })\r\n\r\n  $(document).on('click.bjui.bjuiajax.data-api', '[data-toggle=\"reloadsearch\"]', function(e) {\r\n    var $this = $(this); var options\r\n    var $form = $this.closest('form')\r\n\r\n    if (!$form || !$form.length) return\r\n\r\n    options = $form.data()\r\n    options.clearQuery = $this.data('clearQuery') || true\r\n\r\n    Plugin.call($form, 'doSearch', options)\r\n\r\n    e.preventDefault()\r\n  })\r\n\r\n  $(document).on('click.bjui.bjuiajax.data-api', '[data-toggle=\"ajaxload\"]', function(e) {\r\n    var $this = $(this)\r\n    var options = $this.data()\r\n\r\n    if (!options.url) options.url = $this.attr('href')\r\n\r\n    Plugin.call($this, 'doLoad', options)\r\n\r\n    e.preventDefault()\r\n  })\r\n\r\n  $(document).on(BJUI.eventType.initUI, function(e) {\r\n    var $box = $(e.target).find('[data-toggle=\"autoajaxload\"]')\r\n\r\n    $box.each(function() {\r\n      var $element = $(this); var options = $element.data()\r\n\r\n      options.target = this\r\n      Plugin.call($element, 'doLoad', options)\r\n    })\r\n  })\r\n\r\n  $(document).on('click.bjui.bjuiajax.data-api', '[data-toggle=\"refreshlayout\"]', function(e) {\r\n    var $this = $(this)\r\n    var options = $this.data()\r\n\r\n    Plugin.call($this, 'refreshLayout', options)\r\n  })\r\n\r\n  $(document).on('click.bjui.bjuiajax.data-api', '[data-toggle=\"doajax\"]', function(e) {\r\n    var $this = $(this)\r\n    var options = $this.data()\r\n\r\n    if (!options.url) options.url = $this.attr('href')\r\n\r\n    Plugin.call($this, 'doAjax', options)\r\n\r\n    e.preventDefault()\r\n  })\r\n\r\n  $(document).on('click.bjui.bjuiajax.data-api', '[data-toggle=\"doexport\"]', function(e) {\r\n    var $this = $(this)\r\n    var options = $this.data()\r\n\r\n    if (!options.url) options.url = $this.attr('href')\r\n\r\n    Plugin.call($this, 'doExport', options)\r\n\r\n    e.preventDefault()\r\n  })\r\n\r\n  $(document).on('click.bjui.bjuiajax.data-api', '[data-toggle=\"doexportchecked\"]', function(e) {\r\n    var $this = $(this)\r\n    var options = $this.data()\r\n\r\n    if (!options.url) options.url = $this.attr('href')\r\n\r\n    Plugin.call($this, 'doExportChecked', options)\r\n\r\n    e.preventDefault()\r\n  })\r\n\r\n  $(document).on('click.bjui.bjuiajax.data-api', '[data-toggle=\"doajaxchecked\"]', function(e) {\r\n    var $this = $(this)\r\n    var options = $this.data()\r\n\r\n    if (!options.url) options.url = $this.attr('href')\r\n\r\n    Plugin.call($this, 'doAjaxChecked', options)\r\n\r\n    e.preventDefault()\r\n  })\r\n}(jQuery))\r\n","/*!\r\n * B-JUI  v1.2 (http://b-jui.com)\r\n * Git@OSC (http://git.oschina.net/xknaan/B-JUI)\r\n * Copyright 2014 K'naan (xknaan@163.com).\r\n * Licensed under Apache (http://www.apache.org/licenses/LICENSE-2.0)\r\n */\r\n\r\n/* ========================================================================\r\n * B-JUI: bjui-ajaxtab.js  v1.2\r\n * @author K'naan (xknaan@163.com)\r\n * http://git.oschina.net/xknaan/B-JUI/blob/master/BJUI/js/bjui-ajaxtab.js\r\n * ========================================================================\r\n * Copyright 2014 K'naan.\r\n * Licensed under Apache (http://www.apache.org/licenses/LICENSE-2.0)\r\n * ======================================================================== */\r\n\r\n+(function($) {\r\n  'use strict'\r\n\r\n  // AJAXTAB CLASS DEFINITION\r\n  // ======================\r\n\r\n  var Ajaxtab = function(element, options) {\r\n    this.$element = $(element)\r\n    this.options = options\r\n  }\r\n\r\n  Ajaxtab.DEFAULTS = {\r\n    url: undefined,\r\n    target: undefined,\r\n    reload: false\r\n  }\r\n\r\n  Ajaxtab.prototype.init = function() {\r\n    var options = this.options\r\n\r\n    if (!(options.url)) {\r\n      BJUI.debug('Ajaxtab Plugin: Error trying to open a tab, url is undefined!')\r\n      return\r\n    } else {\r\n      options.url = decodeURI(options.url).replacePlh(this.$element.closest('.unitBox'))\r\n\r\n      if (!options.url.isFinishedTm()) {\r\n        this.$element.alertmsg('error', (options.warn || FRAG.alertPlhMsg.replace('#plhmsg#', BJUI.regional.plhmsg)))\r\n        BJUI.debug('Ajaxtab Plugin: The new ajaxtab\\'s url is incorrect, url: ' + options.url)\r\n        return\r\n      }\r\n\r\n      options.url = encodeURI(options.url)\r\n    }\r\n    if (!options.target) {\r\n      BJUI.debug('Ajaxtab Plugin: Attribute \\'target\\' is not defined!')\r\n      return\r\n    }\r\n    if (options.reload) {\r\n      this.load()\r\n    } else {\r\n      var reload = this.$element.data('bjui.ajaxtab.reload')\r\n\r\n      if (!reload) this.load()\r\n      else this.$element.tab('show')\r\n    }\r\n  }\r\n\r\n  Ajaxtab.prototype.load = function() {\r\n    var $element = this.$element\r\n    var options = this.options\r\n\r\n    $(options.target).ajaxUrl({\r\n      url: options.url,\r\n      data: {},\r\n      callback: function() {\r\n        $element.data('bjui.ajaxtab.reload', true).tab('show')\r\n      }\r\n    })\r\n  }\r\n\r\n  // AJAXTAB PLUGIN DEFINITION\r\n  // =======================\r\n\r\n  function Plugin(option) {\r\n    var args = arguments\r\n    var property = option\r\n\r\n    return this.each(function() {\r\n      var $this = $(this)\r\n      var options = $.extend({}, Ajaxtab.DEFAULTS, $this.data(), typeof option === 'object' && option)\r\n      var data = $this.data('bjui.ajaxtab')\r\n\r\n      if (!data) $this.data('bjui.ajaxtab', (data = new Ajaxtab(this, options)))\r\n      if (typeof property === 'string' && $.isFunction(data[property])) {\r\n        [].shift.apply(args)\r\n        if (!args) data[property]()\r\n        else data[property].apply(data, args)\r\n      } else {\r\n        data.init()\r\n      }\r\n    })\r\n  }\r\n\r\n  var old = $.fn.ajaxtab\r\n\r\n  $.fn.ajaxtab = Plugin\r\n  $.fn.ajaxtab.Constructor = Ajaxtab\r\n\r\n  // AJAXTAB NO CONFLICT\r\n  // =================\r\n\r\n  $.fn.ajaxtab.noConflict = function() {\r\n    $.fn.ajaxtab = old\r\n    return this\r\n  }\r\n\r\n  // AJAXTAB DATA-API\r\n  // ==============\r\n\r\n  $(document).on('click.bjui.ajaxtab.data-api', '[data-toggle=\"ajaxtab\"]', function(e) {\r\n    var $this = $(this)\r\n    var options = $this.data()\r\n\r\n    if (!options.url) options.url = $this.attr('href')\r\n    Plugin.call($this, options)\r\n\r\n    e.preventDefault()\r\n  })\r\n}(jQuery))\r\n","/*!\r\n * B-JUI  v1.2 (http://b-jui.com)\r\n * Git@OSC (http://git.oschina.net/xknaan/B-JUI)\r\n * Copyright 2014 K'naan (xknaan@163.com).\r\n * Licensed under Apache (http://www.apache.org/licenses/LICENSE-2.0)\r\n */\r\n\r\n/* ========================================================================\r\n * B-JUI: bjui-alertmsg.js  v1.2\r\n * @author K'naan (xknaan@163.com)\r\n * -- Modified from dwz.alertMsg.js (author:ZhangHuihua@msn.com)\r\n * http://git.oschina.net/xknaan/B-JUI/blob/master/BJUI/js/bjui-alertmsg.js\r\n * ========================================================================\r\n * Copyright 2014 K'naan.\r\n * Licensed under Apache (http://www.apache.org/licenses/LICENSE-2.0)\r\n * ======================================================================== */\r\n\r\n+(function($) {\r\n  'use strict'\r\n\r\n  // ALERTMSG GLOBAL ELEMENTS\r\n  // ======================\r\n\r\n  var $box, $alertbg, timer\r\n\r\n  $(function() {\r\n    var INIT_ALERTMSG = function() {\r\n      $box = $(FRAG.alertBoxFrag).hide().html('')\r\n      $alertbg = $(FRAG.alertBackground).hide().html('')\r\n      $('body').append('<!-- alert msg box -->').append($box).append('<!-- alert msg box mask bg -->').append($alertbg)\r\n    }\r\n\r\n    INIT_ALERTMSG()\r\n  })\r\n\r\n  // ALERTMSG CLASS DEFINITION\r\n  // ======================\r\n  var Alertmsg = function(element, options) {\r\n    this.$element = $(element)\r\n    this.options = options\r\n    this.tools = this.TOOLS()\r\n    this.clearTime = null\r\n  }\r\n\r\n  Alertmsg.DEFAULTS = {\r\n    displayPosition: 'topcenter', // Optional 'topleft, topcenter, topright, middleleft, middlecenter, middleright, bottomleft, bottomcenter, bottomright'\r\n    displayMode: 'slide', // Optional 'none, fade, slide'\r\n    autoClose: null,\r\n    alertTimeout: 3000,\r\n    mask: null,\r\n    types: { error: 'error', info: 'info', warn: 'warn', correct: 'correct', confirm: 'confirm' },\r\n    fas: { error: 'fa-times-circle', info: 'fa-info-circle', warn: 'fa-exclamation-circle', correct: 'fa-check-circle', confirm: 'fa-question-circle' }\r\n  }\r\n\r\n  Alertmsg.prototype.TOOLS = function() {\r\n    var that = this; var options = that.options\r\n    return {\r\n      getTitle: function(key) {\r\n        return options.title || BJUI.regional.alertmsg.title[key]\r\n      },\r\n      keydownOk: function(event) {\r\n        if (event.which === BJUI.keyCode.ENTER) {\r\n          event.data.target.trigger('click')\r\n          return false\r\n        }\r\n        return true\r\n      },\r\n      keydownEsc: function(event) {\r\n        if (event.which === BJUI.keyCode.ESC) event.data.target.trigger('click')\r\n      },\r\n      openPosition: function() {\r\n        var position = BJUI.alertMsg.displayPosition\r\n        var mode = BJUI.alertMsg.displayMode\r\n        var width = 460\r\n        var height = $box.outerHeight()\r\n        var startCss = {}\r\n        var endCss = {}\r\n\r\n        if (position) {\r\n          if (options.displayPosition && options.displayPosition !== 'topcenter') {\r\n            position = options.displayPosition\r\n          }\r\n        } else {\r\n          position = options.displayPosition\r\n        }\r\n\r\n        if (mode) {\r\n          if (options.displayMode && options.displayMode !== 'silde') {\r\n            mode = options.displayMode\r\n          }\r\n        } else {\r\n          mode = options.displayMode\r\n        }\r\n\r\n        switch (position) {\r\n          case 'topleft':\r\n            startCss = { top: 0 - height, left: 0, 'margin-left': 0 }\r\n            endCss = { top: 0 }\r\n\r\n            break\r\n          case 'topcenter':\r\n            startCss = { top: 0 - height }\r\n            endCss = { top: 0 }\r\n\r\n            break\r\n          case 'topright':\r\n            startCss = { top: 0 - height, left: 'auto', right: 0, 'margin-left': 0 }\r\n            endCss = { top: 0 }\r\n\r\n            break\r\n          case 'middleleft':\r\n            startCss = { top: '50%', left: 0 - width, 'margin-left': 0, 'margin-top': 0 - height / 2 }\r\n            endCss = { left: 0 }\r\n\r\n            break\r\n          case 'middlecenter':\r\n            startCss = { top: '0', 'margin-top': 0 - height / 2 }\r\n            endCss = { top: '50%' }\r\n\r\n            break\r\n          case 'middleright':\r\n            startCss = { top: '50%', left: 'auto', right: 0 - width, 'margin-top': 0 - height / 2 }\r\n            endCss = { right: 0 }\r\n\r\n            break\r\n          case 'bottomleft':\r\n            startCss = { top: 'auto', left: 0, bottom: 0 - height, 'margin-left': 0 }\r\n            endCss = { bottom: 0 }\r\n\r\n            break\r\n          case 'bottomcenter':\r\n            startCss = { top: 'auto', bottom: 0 - height }\r\n            endCss = { bottom: 0 }\r\n\r\n            break\r\n          case 'bottomright':\r\n            startCss = { top: 'auto', left: 'auto', right: 0, bottom: 0 - height, 'margin-left': 0 }\r\n            endCss = { bottom: 0 }\r\n\r\n            break\r\n        }\r\n\r\n        if (mode === 'slide') {\r\n          $box.css(startCss).show().animate(endCss, 500)\r\n        } else if (mode === 'fade') {\r\n          startCss.opacity = 0.1\r\n          $box.css(startCss).css(endCss).show().animate({ opacity: 1 }, 500)\r\n        } else {\r\n          $box.css(startCss).css(endCss).show()\r\n        }\r\n      },\r\n      closePosition: function() {\r\n        var position = BJUI.alertMsg.displayPosition\r\n        var mode = BJUI.alertMsg.displayMode\r\n        var width = 460\r\n        var height = $box.outerHeight()\r\n        var endCss = {}\r\n\r\n        if (position) {\r\n          if (options.displayPosition && options.displayPosition !== 'topcenter') {\r\n            position = options.displayPosition\r\n          }\r\n        } else {\r\n          position = options.displayPosition\r\n        }\r\n\r\n        if (mode) {\r\n          if (options.displayMode && options.displayMode !== 'silde') {\r\n            mode = options.displayMode\r\n          }\r\n        } else {\r\n          mode = options.displayMode\r\n        }\r\n\r\n        switch (position) {\r\n          case 'topleft':\r\n            endCss = { top: 0 - height }\r\n\r\n            break\r\n          case 'topcenter':\r\n            endCss = { top: 0 - height }\r\n\r\n            break\r\n          case 'topright':\r\n            endCss = { top: 0 - height }\r\n\r\n            break\r\n          case 'middleleft':\r\n            endCss = { left: 0 - width }\r\n\r\n            break\r\n          case 'middlecenter':\r\n            endCss = { top: 0 - height }\r\n\r\n            break\r\n          case 'middleright':\r\n            endCss = { right: 0 - width }\r\n\r\n            break\r\n          case 'bottomleft':\r\n            endCss = { bottom: 0 - height }\r\n\r\n            break\r\n          case 'bottomcenter':\r\n            endCss = { bottom: 0 - height }\r\n\r\n            break\r\n          case 'bottomright':\r\n            endCss = { bottom: 0 - height }\r\n\r\n            break\r\n        }\r\n\r\n        if (mode === 'slide') {\r\n          $box.animate(endCss, 500, function() {\r\n            $alertbg.hide()\r\n            $(this).hide().empty()\r\n          })\r\n        } else if (mode === 'fade') {\r\n          $box.animate({ opacity: 0 }, 500, function() {\r\n            $alertbg.hide()\r\n            $(this).hide().empty()\r\n          })\r\n        } else {\r\n          $box.hide().remove()\r\n          $alertbg.hide()\r\n        }\r\n      },\r\n      open: function(type, msg, buttons) {\r\n        var tools = this\r\n        var btnsHtml = ''\r\n        var $newbox\r\n        var $btns\r\n        var alertTimeout = BJUI.alertMsg.alertTimeout\r\n\r\n        if (buttons) {\r\n          for (var i = 0; i < buttons.length; i++) {\r\n            var sRel = buttons[i].call ? 'callback' : ''\r\n            var sCls = buttons[i].cls ? buttons[i].cls : 'default'\r\n            var sIco = (buttons[i].cls && buttons[i].cls === 'green') ? 'check' : 'close'\r\n\r\n            btnsHtml += FRAG.alertBtnFrag.replace('#btnMsg#', '<i class=\"fa fa-' + sIco + '\"></i> ' + buttons[i].name).replace('#callback#', sRel).replace('#class#', sCls)\r\n          }\r\n        }\r\n        $newbox =\r\n          $(FRAG.alertBoxFrag.replace('#type#', type)\r\n            .replace('#fa#', options.fas[type])\r\n            .replace('#title#', this.getTitle(type))\r\n            .replace('#message#', msg)\r\n            .replace('#btnFragment#', btnsHtml))\r\n            .hide()\r\n            .appendTo('body')\r\n\r\n        if ($box && $box.length) $box.remove()\r\n        $box = $newbox\r\n\r\n        tools.openPosition()\r\n\r\n        if (timer) {\r\n          clearTimeout(timer)\r\n          timer = null\r\n        }\r\n\r\n        if (options.mask == null) {\r\n          if (!(options.types.info === type || options.types.correct === type)) {\r\n            $alertbg.show()\r\n          }\r\n        }\r\n        if (options.autoClose == null) {\r\n          if (options.types.info === type || options.types.correct === type) {\r\n            if (alertTimeout) {\r\n              if (options.alertTimeout && options.alertTimeout !== 3000) {\r\n                alertTimeout = options.alertTimeout\r\n              }\r\n            } else {\r\n              alertTimeout = options.alertTimeout\r\n            }\r\n            timer = setTimeout(function() {\r\n              tools.close()\r\n            }, alertTimeout)\r\n          }\r\n        }\r\n\r\n        $btns = $box.find('.btn')\r\n\r\n        $btns.each(function(i) {\r\n          $(this).on('click', $.proxy(function() {\r\n            that.tools.close()\r\n\r\n            var call = buttons[i].call\r\n\r\n            if (typeof call === 'string') call = call.toFunc()\r\n            if (typeof call === 'function') call.call()\r\n          }, that)\r\n          )\r\n\r\n          if (buttons[i].keyCode === BJUI.keyCode.ENTER) {\r\n            $(document).on('keydown.bjui.alertmsg.ok', { target: $btns.eq(i) }, tools.keydownOk)\r\n          }\r\n          if (buttons[i].keyCode === BJUI.keyCode.ESC) {\r\n            $(document).on('keydown.bjui.alertmsg.esc', { target: $btns.eq(i) }, tools.keydownEsc)\r\n          }\r\n        })\r\n      },\r\n      alert: function(type, msg, btnoptions) {\r\n        $.extend(options, typeof btnoptions === 'object' && btnoptions)\r\n\r\n        var op = $.extend({}, { okName: BJUI.regional.alertmsg.btnMsg.ok, okCall: null }, options)\r\n        var buttons = [\r\n          { name: op.okName, call: op.okCall, cls: 'default', keyCode: BJUI.keyCode.ENTER }\r\n        ]\r\n\r\n        this.open(type, msg, buttons)\r\n      },\r\n      close: function() {\r\n        $(document).off('keydown.bjui.alertmsg.ok').off('keydown.bjui.alertmsg.esc')\r\n\r\n        this.closePosition()\r\n      }\r\n    }\r\n  }\r\n\r\n  Alertmsg.prototype.error = function(msg, btnoptions) {\r\n    this.tools.alert(this.options.types.error, msg, btnoptions)\r\n  }\r\n\r\n  Alertmsg.prototype.info = function(msg, btnoptions) {\r\n    this.tools.alert(this.options.types.info, msg, btnoptions)\r\n  }\r\n\r\n  Alertmsg.prototype.warn = function(msg, btnoptions) {\r\n    this.tools.alert(this.options.types.warn, msg, btnoptions)\r\n  }\r\n\r\n  Alertmsg.prototype.ok = function(msg, btnoptions) {\r\n    this.tools.alert(this.options.types.correct, msg, btnoptions)\r\n  }\r\n\r\n  Alertmsg.prototype.correct = function(msg, btnoptions) {\r\n    this.tools.alert(this.options.types.correct, msg, btnoptions)\r\n  }\r\n\r\n  Alertmsg.prototype.confirm = function(msg, btnoptions) {\r\n    $.extend(this.options, typeof btnoptions === 'object' && btnoptions)\r\n\r\n    var op = $.extend({}, { okName: BJUI.regional.alertmsg.btnMsg.ok, okCall: null, cancelName: BJUI.regional.alertmsg.btnMsg.cancel, cancelCall: null }, this.options)\r\n    var buttons = [\r\n      { name: op.okName, call: op.okCall, cls: 'green', keyCode: BJUI.keyCode.ENTER },\r\n      { name: op.cancelName, call: op.cancelCall, cls: 'red', keyCode: BJUI.keyCode.ESC }\r\n    ]\r\n\r\n    this.tools.open(this.options.types.confirm, msg, buttons)\r\n  }\r\n\r\n  // ALERTMSG PLUGIN DEFINITION\r\n  // =======================\r\n\r\n  function Plugin(option) {\r\n    var args = arguments\r\n    var property = option\r\n\r\n    return this.each(function() {\r\n      var $this = $(this)\r\n      var options = $.extend({}, Alertmsg.DEFAULTS, $this.data(), typeof option === 'object' && option)\r\n      var data = new Alertmsg(this, options)\r\n\r\n      if (typeof property === 'string' && $.isFunction(data[property])) {\r\n        [].shift.apply(args)\r\n        if (!args) data[property]()\r\n        else data[property].apply(data, args)\r\n      }\r\n    })\r\n  }\r\n\r\n  var old = $.fn.alertmsg\r\n\r\n  $.fn.alertmsg = Plugin\r\n  $.fn.alertmsg.Constructor = Alertmsg\r\n\r\n  // ALERTMSG NO CONFLICT\r\n  // =================\r\n\r\n  $.fn.alertmsg.noConflict = function() {\r\n    $.fn.alertmsg = old\r\n    return this\r\n  }\r\n\r\n  // NAVTAB DATA-API\r\n  // ==============\r\n\r\n  $(document).on('click.bjui.alertmsg.data-api', '[data-toggle=\"alertmsg\"]', function(e) {\r\n    var $this = $(this)\r\n    var data = $this.data()\r\n    var options = data.options\r\n    var type\r\n\r\n    if (options) {\r\n      if (typeof options === 'string') options = options.toObj()\r\n      if (typeof options === 'object') {\r\n        $.extend(data, options)\r\n      }\r\n    }\r\n\r\n    type = data.type\r\n    if (!type) return false\r\n\r\n    Plugin.call($this, type, data.msg || type, data)\r\n\r\n    e.preventDefault()\r\n  })\r\n}(jQuery))\r\n","/*!\r\n * B-JUI  v1.2 (http://b-jui.com)\r\n * Git@OSC (http://git.oschina.net/xknaan/B-JUI)\r\n * Copyright 2014 K'naan (xknaan@163.com).\r\n * Licensed under Apache (http://www.apache.org/licenses/LICENSE-2.0)\r\n */\r\n\r\n/* ========================================================================\r\n * B-JUI: bjui-basedrag.js  v1.2\r\n * @author K'naan (xknaan@163.com)\r\n * -- Modified from dwz.drag.js (author:Roger Wu)\r\n * http://git.oschina.net/xknaan/B-JUI/blob/master/BJUI/js/bjui-basedrag.js\r\n * ========================================================================\r\n * Copyright 2014 K'naan.\r\n * Licensed under Apache (http://www.apache.org/licenses/LICENSE-2.0)\r\n * ======================================================================== */\r\n\r\n+(function($) {\r\n  'use strict'\r\n\r\n  // BASEDRAG CLASS DEFINITION\r\n  // ======================\r\n\r\n  var Basedrag = function(element, options) {\r\n    this.$element = $(element)\r\n    this.options = options\r\n  }\r\n\r\n  Basedrag.prototype.init = function() {\r\n    var that = this\r\n\r\n    this.options.$obj = this.$element\r\n    if (this.options.obj) this.options.$obj = this.options.obj\r\n    if (this.options.event) { this.start(this.options.event) } else { this.$element.find(this.options.selector).bind('mousedown', function(e) { that.start.apply(that, [e]) }) }\r\n  }\r\n\r\n  Basedrag.prototype.start = function(e) {\r\n    document.onselectstart = function(e) { return false } // 禁止选择\r\n    var that = this\r\n\r\n    this.options.oleft = parseInt(this.$element.css('left')) || 0\r\n    this.options.otop = parseInt(this.$element.css('top')) || 0\r\n    $(document).bind('mouseup.bjui.basedrag', function(e) { that.stop.apply(that, [e]) })\r\n      .bind('mousemove.bjui.basedrag', function(e) { that.drag.apply(that, [e]) })\r\n  }\r\n\r\n  Basedrag.prototype.drag = function(e) {\r\n    if (!e) e = window.event\r\n    var options = this.options\r\n    var left = (options.oleft + (e.pageX || e.clientX) - options.event.pageX)\r\n    var top = (options.otop + (e.pageY || e.clientY) - options.event.pageY)\r\n\r\n    if (top < 1) top = 0\r\n    if (options.move === 'horizontal') {\r\n      if ((options.minW && left >= parseInt(this.options.$obj.css('left')) + options.minW) && (options.maxW && left <= parseInt(this.options.$obj.css('left')) + options.maxW)) {\r\n        this.$element.css('left', left)\r\n      } else if (options.scop) {\r\n        if (options.relObj) {\r\n          if ((left - parseInt(options.relObj.css('left'))) > options.cellMinW) { this.$element.css('left', left) } else { this.$element.css('left', left) }\r\n        }\r\n      }\r\n    } else if (options.move === 'vertical') {\r\n      this.$element.css('top', top)\r\n    } else {\r\n      var $selector = options.selector ? this.options.$obj.find(options.selector) : this.options.$obj\r\n\r\n      if (left >= -$selector.outerWidth() * 2 / 3 && top >= 0 && (left + $selector.outerWidth() / 3 < $(window).width()) && (top + $selector.outerHeight() < $(window).height())) {\r\n        this.$element.css({ left: left, top: top })\r\n      }\r\n    }\r\n    if (options.drag) { options.drag.apply(this.$element, [this.$element, e]) }\r\n\r\n    return this.preventEvent(e)\r\n  }\r\n\r\n  Basedrag.prototype.stop = function(e) {\r\n    $(document).unbind('mousemove.bjui.basedrag').unbind('mouseup.bjui.basedrag')\r\n    if (this.options.stop) { this.options.stop.apply(this.$element, [this.$element, e]) }\r\n    if (this.options.event) { this.destroy() }\r\n    document.onselectstart = function(e) { return true } // 启用选择\r\n    return this.preventEvent(e)\r\n  }\r\n\r\n  Basedrag.prototype.preventEvent = function(e) {\r\n    if (e.stopPropagation) e.stopPropagation()\r\n    if (e.preventDefault) e.preventDefault()\r\n    return false\r\n  }\r\n\r\n  Basedrag.prototype.destroy = function() {\r\n    this.$element.removeData('bjui.basedrag')\r\n    if (!this.options.nounbind) this.$element.unbind('mousedown')\r\n  }\r\n\r\n  // BASEDRAG PLUGIN DEFINITION\r\n  // =======================\r\n\r\n  function Plugin(option) {\r\n    var args = arguments\r\n    var property = option\r\n\r\n    return this.each(function() {\r\n      var $this = $(this)\r\n      var options = $.extend({}, $this.data(), typeof option === 'object' && option)\r\n      var data = $this.data('bjui.basedrag')\r\n\r\n      if (!data) $this.data('bjui.basedrag', (data = new Basedrag(this, options)))\r\n      if (typeof property === 'string' && $.isFunction(data[property])) {\r\n        [].shift.apply(args)\r\n        if (!args) data[property]()\r\n        else data[property].apply(data, args)\r\n      } else {\r\n        data.init()\r\n      }\r\n    })\r\n  }\r\n\r\n  var old = $.fn.basedrag\r\n\r\n  $.fn.basedrag = Plugin\r\n  $.fn.basedrag.Constructor = Basedrag\r\n\r\n  // BASEDRAG NO CONFLICT\r\n  // =================\r\n\r\n  $.fn.basedrag.noConflict = function() {\r\n    $.fn.basedrag = old\r\n    return this\r\n  }\r\n}(jQuery))\r\n","/*!\r\n * B-JUI  v1.2 (http://b-jui.com)\r\n * Git@OSC (http://git.oschina.net/xknaan/B-JUI)\r\n * Copyright 2014 K'naan (xknaan@163.com).\r\n * Licensed under Apache (http://www.apache.org/licenses/LICENSE-2.0)\r\n */\r\n\r\n/* ========================================================================\r\n * B-JUI: bjui-contextmenu.js  v1.2\r\n * @author K'naan (xknaan@163.com)\r\n * -- Modified from dwz.contextmenu.js (author:ZhangHuihua@msn.com)\r\n * http://git.oschina.net/xknaan/B-JUI/blob/master/BJUI/js/bjui-contextmenu.js\r\n * ========================================================================\r\n * Copyright 2014 K'naan.\r\n * Licensed under Apache (http://www.apache.org/licenses/LICENSE-2.0)\r\n * ======================================================================== */\r\n\r\n+(function($) {\r\n  'use strict'\r\n\r\n  // CONTEXTMENU GLOBAL ELEMENTS\r\n  // ======================\r\n\r\n  var $menu, $shadow, hash\r\n\r\n  $(function() {\r\n    var INIT_CONTEXTMENU = function() {\r\n      $menu = $('<div id=\"bjui-contextmenu\"></div>').hide()\r\n      $shadow = $('<div id=\"bjui-contextmenuShadow\"></div>').hide()\r\n      hash = []\r\n\r\n      $('body').append('<!-- contextmenu -->').append($menu).append($shadow)\r\n    }\r\n\r\n    INIT_CONTEXTMENU()\r\n  })\r\n\r\n  // CONTEXTMENU CLASS DEFINITION\r\n  // ======================\r\n  var Contextmenu = function(element, options) {\r\n    this.$element = $(element)\r\n    this.options = options\r\n  }\r\n\r\n  Contextmenu.DEFAULTS = {\r\n    id: undefined,\r\n    shadow: true,\r\n    bindings: {},\r\n    ctrSub: null\r\n  }\r\n\r\n  Contextmenu.prototype.init = function() {\r\n    var that = this\r\n    var op = this.options\r\n\r\n    if (!op.id) return\r\n    hash.push({\r\n      id: op.id,\r\n      shadow: op.shadow,\r\n      bindings: op.bindings || {},\r\n      ctrSub: op.ctrSub\r\n    })\r\n\r\n    var index = hash.length - 1\r\n\r\n    this.$element.on('contextmenu', function(e) {\r\n      that.display(index, this, e, op)\r\n      return false\r\n    })\r\n  }\r\n\r\n  Contextmenu.prototype.display = function(index, trigger, e, options) {\r\n    var that = this\r\n    var cur = hash[index]\r\n    var cp = BJUI.regional[cur.id]\r\n    var content = FRAG[cur.id]\r\n\r\n    $.each(cp, function(i, n) {\r\n      content = content.replace('#' + i + '#', cp[i])\r\n    })\r\n\r\n    // Send the content to the menu\r\n    $menu.html(content)\r\n    $.each(cur.bindings, function(id, func) {\r\n      $('[rel=\"' + id + '\"]', $menu).on('click', function(e) {\r\n        that.hide()\r\n        func($(trigger), $('#bjui-' + cur.id))\r\n      })\r\n    })\r\n\r\n    var posX = e.pageX\r\n    var posY = e.pageY\r\n\r\n    if ($(window).width() < posX + $menu.width()) posX -= $menu.width()\r\n    if ($(window).height() < posY + $menu.height()) posY -= $menu.height()\r\n\r\n    $menu.css({ 'left': posX, 'top': posY }).show()\r\n    if (cur.shadow) { $shadow.css({ width: $menu.width(), height: $menu.height(), left: posX + 3, top: posY + 3 }).show() }\r\n    $(document).one('click', that.hide)\r\n\r\n    if ($.isFunction(cur.ctrSub)) { cur.ctrSub($(trigger), $('#bjui-' + cur.id)) }\r\n  }\r\n\r\n  Contextmenu.prototype.hide = function() {\r\n    $menu.hide()\r\n    $shadow.hide()\r\n  }\r\n\r\n  /* Custom contextmenu */\r\n  Contextmenu.prototype.show = function(options) {\r\n    var that = this\r\n\r\n    if (options.items && options.items.length) {\r\n      that.$element.on('contextmenu', function(e) {\r\n        var isShow = true\r\n\r\n        /* exclude*/\r\n        if (options.exclude) {\r\n          that.$element.find(options.exclude).each(function() {\r\n            if (this === e.target || $(this).find(e.target).length) {\r\n              isShow = false\r\n              return null\r\n            }\r\n          })\r\n        }\r\n\r\n        if (!isShow) {\r\n          e.stopPropagation()\r\n          return !isShow\r\n        } else {\r\n          that.custom(options.items, e)\r\n        }\r\n\r\n        return false\r\n      })\r\n    }\r\n  }\r\n\r\n  Contextmenu.prototype.custom = function(items, e) {\r\n    $menu.empty().html('<ul></ul>')\r\n\r\n    var that = this\r\n    var options = that.options\r\n    var $ul = $menu.find('> ul'); var $li\r\n\r\n    $.each(items, function(i, n) {\r\n      var icon = ''\r\n\r\n      if (n.icon) icon = '<i class=\"fa fa-' + n.icon + '\"></i>'\r\n      if (n.title === 'diver') {\r\n        $li = $('<li class=\"diver\"></li>')\r\n      } else {\r\n        $li = $('<li><span class=\"icon\">' + icon + '</span><span class=\"title\">' + n.title + '</span></li>')\r\n        if (n.func && typeof n.func === 'string') n.func = n.func.toFunc()\r\n        if (n.func) {\r\n          $li.on('click', function(evt) {\r\n            that.hide()\r\n            n.func(that.$element, $li)\r\n          })\r\n        }\r\n      }\r\n      $li.appendTo($ul)\r\n    })\r\n\r\n    var posX = e.pageX\r\n    var posY = e.pageY\r\n\r\n    if ($(window).width() < posX + $menu.width()) posX -= $menu.width()\r\n    if ($(window).height() < posY + $menu.height()) posY -= $menu.height()\r\n\r\n    $menu.css({ 'left': posX, 'top': posY }).show()\r\n\r\n    if (options.shadow) { $shadow.css({ width: $menu.width(), height: $menu.height(), left: posX + 3, top: posY + 3 }).show() }\r\n\r\n    $(document).one('click', that.hide)\r\n  }\r\n\r\n  // CONTEXTMENU PLUGIN DEFINITION\r\n  // =======================\r\n\r\n  function Plugin(option) {\r\n    var args = arguments\r\n    var property = option\r\n\r\n    return this.each(function() {\r\n      var $this = $(this)\r\n      var options = $.extend({}, Contextmenu.DEFAULTS, $this.data(), typeof option === 'object' && option)\r\n      var data = $this.data('bjui.contextmenu')\r\n\r\n      if (!data) $this.data('bjui.contextmenu', (data = new Contextmenu(this, options)))\r\n      if (typeof property === 'string' && $.isFunction(data[property])) {\r\n        [].shift.apply(args)\r\n        if (!args) data[property]()\r\n        else data[property].apply(data, args)\r\n      } else {\r\n        data.init()\r\n      }\r\n    })\r\n  }\r\n\r\n  var old = $.fn.contextmenu\r\n\r\n  $.fn.contextmenu = Plugin\r\n  $.fn.contextmenu.Constructor = Contextmenu\r\n\r\n  // CONTEXTMENU NO CONFLICT\r\n  // =================\r\n\r\n  $.fn.contextmenu.noConflict = function() {\r\n    $.fn.contextmenu = old\r\n    return this\r\n  }\r\n}(jQuery))\r\n","/*!\r\n * B-JUI  v2 (http://b-jui.com)\r\n * Git@OSC (http://git.oschina.net/xknaan/B-JUI)\r\n * Copyright 2014 K'naan (xknaan@163.com).\r\n * Licensed under Apache (http://www.apache.org/licenses/LICENSE-2.0)\r\n */\r\n\r\n/* ========================================================================\r\n * B-JUI: bjui-core.js  v2\r\n * @author K'naan (xknaan@163.com)\r\n * -- Modified from dwz.core.js (author:ZhangHuihua@msn.com)\r\n * http://git.oschina.net/xknaan/B-JUI/blob/master/BJUI/js/bjui-core.js\r\n * ========================================================================\r\n * Copyright 2014 K'naan.\r\n * Licensed under Apache (http://www.apache.org/licenses/LICENSE-2.0)\r\n * ======================================================================== */\r\n\r\n+(function($) {\r\n  'use strict'\r\n\r\n  var BJUI = {\r\n    version: '2.0.0',\r\n    JSPATH: 'BJUI/',\r\n    PLUGINPATH: 'BJUI/plugins/',\r\n    IS_DEBUG: false,\r\n    date: true,\r\n    KeyPressed: { // key press state\r\n      ctrl: false,\r\n      shift: false\r\n    },\r\n    theme: 'blue',\r\n    dialog: {\r\n      mask: false,\r\n      width: 500,\r\n      height: 300\r\n    },\r\n    // 编辑器统一配置\r\n    KindEditor: {\r\n      uploadJson: undefined,\r\n      fileManagerJson: undefined\r\n    },\r\n    keyCode: {\r\n      ENTER: 13, ESC: 27, END: 35, HOME: 36,\r\n      SHIFT: 16, CTRL: 17, TAB: 9,\r\n      LEFT: 37, RIGHT: 39, UP: 38, DOWN: 40,\r\n      DELETE: 46, BACKSPACE: 8\r\n    },\r\n    eventType: {\r\n      initUI: 'bjui.initUI', // When document load completed or ajax load completed, B-JUI && Plugins init\r\n      beforeInitUI: 'bjui.beforeInitUI', // If your DOM do not init [add to DOM attribute 'data-noinit=\"true\"']\r\n      afterInitUI: 'bjui.afterInitUI', //\r\n      ajaxStatus: 'bjui.ajaxStatus', // When performing ajax request, display or hidden progress bar\r\n      resizeGrid: 'bjui.resizeGrid', // When the window or dialog resize completed\r\n      beforeAjaxLoad: 'bjui.beforeAjaxLoad', // When perform '$.fn.ajaxUrl', to do something...\r\n\r\n      beforeLoadNavtab: 'bjui.beforeLoadNavtab',\r\n      beforeLoadDialog: 'bjui.beforeLoadDialog',\r\n      afterLoadNavtab: 'bjui.afterLoadNavtab',\r\n      afterLoadDialog: 'bjui.afterLoadDialog',\r\n      beforeCloseNavtab: 'bjui.beforeCloseNavtab',\r\n      beforeCloseDialog: 'bjui.beforeCloseDialog',\r\n      afterCloseNavtab: 'bjui.afterCloseNavtab',\r\n      afterCloseDialog: 'bjui.afterCloseDialog'\r\n    },\r\n    pageInfo: { total: 'total', pageCurrent: 'pageCurrent', pageSize: 'pageSize', orderField: 'orderField', orderDirection: 'orderDirection' },\r\n    alertMsg: { displayPosition: 'topcenter', displayMode: 'slide', alertTimeout: 3000 }, // 信息提示的显示位置，显隐方式，及[info/correct]方式时自动关闭延时\r\n    ajaxTimeout: 50000,\r\n    statusCode: { ok: 200, error: 300, timeout: 301 },\r\n    keys: { statusCode: 'statusCode', message: 'message' },\r\n    ui: {\r\n      windowWidth: 0,\r\n      showSlidebar: true, // 左侧导航栏锁定/隐藏\r\n      clientPaging: true, // 是否在客户端响应分页及排序参数\r\n      overwriteHomeTab: false // 当打开一个未定义id的navtab时，是否可以覆盖主navtab(我的主页)\r\n    },\r\n    debug: function(msg) {\r\n      if (this.IS_DEBUG) {\r\n        if (typeof (console) !== 'undefined') console.log(msg)\r\n        else alert(msg)\r\n      }\r\n    },\r\n    loginInfo: {\r\n      url: 'login.html',\r\n      title: 'Login',\r\n      width: 420,\r\n      height: 260,\r\n      mask: true\r\n    },\r\n    loadLogin: function() {\r\n      var login = this.loginInfo\r\n\r\n      $('body').dialog({ id: 'bjui-login', url: login.url, title: login.title, width: login.width, height: login.height, mask: login.mask })\r\n    },\r\n    /**\r\n     * 初始化\r\n     * 可配置项:\r\n     *  [object]  pageInfo, statusCode, alertMsg, loginInfo, ui, dialog\r\n     *  [string] JSPATH, PLUGINPATH, ajaxTimeout, debug, theme\r\n     * @param options\r\n     */\r\n    init: function(options) {\r\n      var op = $.extend({}, options)\r\n\r\n      $.extend(BJUI.statusCode, op.statusCode)\r\n      $.extend(BJUI.pageInfo, op.pageInfo)\r\n      $.extend(BJUI.alertMsg, op.alertMsg)\r\n      $.extend(BJUI.loginInfo, op.loginInfo)\r\n      $.extend(BJUI.KindEditor, op.KindEditor)\r\n      $.extend(BJUI.ui, op.ui)\r\n      $.extend(BJUI.dialog, op.dialog)\r\n\r\n      if (op.JSPATH) this.JSPATH = op.JSPATH\r\n      if (op.PLUGINPATH) this.PLUGINPATH = op.PLUGINPATH\r\n      if (op.ajaxTimeout) this.ajaxTimeout = op.ajaxTimeout\r\n      this.date = (op.date === undefined) ? this.date : op.date\r\n\r\n      this.IS_DEBUG = op.debug || false\r\n      this.theme = $.cookie('bjui_theme') || op.theme\r\n      this.initEnv()\r\n      if (this.date) this.initDate()\r\n\r\n      $(this).theme('setTheme', this.theme)\r\n    },\r\n    initEnv: function() {\r\n      $(window).resize(function() {\r\n        var ww = $(this).width()\r\n\r\n        if (BJUI.ui.windowWidth) {\r\n          if (BJUI.ui.windowWidth > 600 && BJUI.ui.windowWidth < ww) { ww = BJUI.ui.windowWidth }\r\n        }\r\n\r\n        BJUI.initLayout(ww)\r\n        setTimeout(function() { $(this).trigger(BJUI.eventType.resizeGrid) }, 30)\r\n      })\r\n\r\n      setTimeout(function() {\r\n        var ww = $(window).width()\r\n\r\n        if (BJUI.ui.windowWidth) {\r\n          if (BJUI.ui.windowWidth > 600 && BJUI.ui.windowWidth < ww) { ww = BJUI.ui.windowWidth }\r\n        }\r\n\r\n        BJUI.initLayout(ww)\r\n        $(document).initui()\r\n      }, 10)\r\n    },\r\n    initLayout: function(ww) {\r\n      var $header = $('#bjui-header')\r\n      var $navtab = $('#bjui-navtab')\r\n      var iContentW = ww - (BJUI.ui.showSlidebar ? $('#bjui-sidebar').width() + 6 : 6)\r\n\r\n      var iContentH = $(window).height() - $header.height() - $('#bjui-footer').outerHeight()\r\n\r\n      var navtabH = $navtab.find('.tabsPageHeader').height()\r\n\r\n      if (BJUI.ui.windowWidth) $('#bjui-window').width(ww)\r\n      BJUI.windowWidth = ww\r\n\r\n      $('#bjui-container').height(iContentH)\r\n      $navtab.width(iContentW)\r\n      $('#bjui-leftside, #bjui-sidebar, #bjui-sidebar-s, #bjui-splitBar, #bjui-splitBarProxy').css({ height: '100%' })\r\n      $('#bjui-navtab .tabsPageContent').height(iContentH - navtabH)\r\n\r\n      /* fixed pageFooter */\r\n      setTimeout(function() {\r\n        $('#bjui-navtab > .tabsPageContent > .navtabPage').resizePageH().find('.bjui-layout').resizePageH()\r\n      }, 10)\r\n\r\n      /* header navbar */\r\n      var navbarWidth = $('body').data('bjui.navbar.width')\r\n\r\n      var $toggle = $header.find('.bjui-navbar-toggle')\r\n      var $logo = $header.find('.bjui-navbar-logo')\r\n      var $navbar = $('#bjui-navbar-collapse')\r\n      var $nav = $navbar.find('.bjui-navbar-right')\r\n\r\n      if (!navbarWidth) {\r\n        navbarWidth = { logoW: $logo.outerWidth(), navW: $nav.outerWidth() }\r\n        $('body').data('bjui.navbar.width', navbarWidth)\r\n      }\r\n      if (navbarWidth) {\r\n        if (ww - navbarWidth.logoW < navbarWidth.navW) {\r\n          $toggle.show()\r\n          $navbar.addClass('collapse menu')\r\n        } else {\r\n          $toggle.hide()\r\n          $navbar.removeClass('collapse menu in')\r\n        }\r\n      }\r\n      /* horizontal navbar */\r\n      var $hnavbox = $('#bjui-hnav-navbar-box')\r\n\r\n      var $hnavbar = $hnavbox.find('> #bjui-hnav-navbar')\r\n\r\n      var $hmoreL = $hnavbox.prev()\r\n\r\n      var $hmoreR = $hnavbox.next()\r\n\r\n      var hboxWidth = $hnavbox.width()\r\n\r\n      var liW = 0\r\n\r\n      $hnavbar.find('> li').each(function(i) {\r\n        var $li = $(this)\r\n\r\n        liW += $li.outerWidth()\r\n\r\n        if (liW > hboxWidth) {\r\n          $hmoreR.show()\r\n          $hnavbox.data('hnav.move', true).data('hnav.liw', liW)\r\n        } else {\r\n          $hmoreL.hide()\r\n          $hmoreR.hide()\r\n          $hnavbox.removeData('hnav.move')\r\n        }\r\n      })\r\n    },\r\n    regional: {},\r\n    setRegional: function(key, value) {\r\n      BJUI.regional[key] = value\r\n    },\r\n    getRegional: function(key) {\r\n      if (String(key).indexOf('.') >= 0) {\r\n        var msg\r\n        var arr = String(key).split('.')\r\n\r\n        for (var i = 0; i < arr.length; i++) {\r\n          if (!msg) msg = BJUI.regional[arr[i]]\r\n          else msg = msg[arr[i]]\r\n        }\r\n\r\n        return msg\r\n      } else {\r\n        return BJUI.regional[key]\r\n      }\r\n    },\r\n    doRegional: function(frag, regional) {\r\n      $.each(regional, function(k, v) {\r\n        frag = frag.replaceAll('#' + k + '#', v)\r\n      })\r\n\r\n      return frag\r\n    },\r\n    initDate: function() {\r\n      // 时钟\r\n      var today = new Date()\r\n      $('#bjui-date').html(today.formatDate('yyyy/MM/dd'))\r\n      setInterval(function() {\r\n        today = new Date(today.setSeconds(today.getSeconds() + 1))\r\n        $('#bjui-clock').html(today.formatDate('HH:mm:ss'))\r\n      }, 1000)\r\n    },\r\n    // 清除遮罩层\r\n    removeProgress: function() {\r\n      var $box = $(document)\r\n      $box.find('.bjui-maskProgress').find('.progress').stop().animate({ width: '100%' }, 'fast', function() {\r\n        $box.find('.bjui-ajax-mask').fadeOut('normal', function() { $(this).remove() })\r\n      })\r\n    }\r\n  }\r\n\r\n  window.BJUI = BJUI\r\n}(jQuery))\r\n","/*!\r\n * B-JUI  v1.2 (http://b-jui.com)\r\n * Git@OSC (http://git.oschina.net/xknaan/B-JUI)\r\n * Copyright 2014 K'naan (xknaan@163.com).\r\n * Licensed under Apache (http://www.apache.org/licenses/LICENSE-2.0)\r\n */\r\n\r\n/* ========================================================================\r\n * B-JUI: bjui-datepicker.js  v1.2\r\n * reference: util.date.js\r\n * @author K'naan (xknaan@163.com)\r\n * -- Modified from dwz.datepicker.js (author:ZhangHuihua@msn.com)\r\n * http://git.oschina.net/xknaan/B-JUI/blob/master/BJUI/js/bjui-datepicker.js\r\n * ========================================================================\r\n * Copyright 2014 K'naan.\r\n * Licensed under Apache (http://www.apache.org/licenses/LICENSE-2.0)\r\n * ======================================================================== */\r\n\r\n+(function($) {\r\n  'use strict'\r\n\r\n  // DATEPICKER GLOBAL ELEMENTS\r\n  // ======================\r\n\r\n  var $box, $main, $prev, $next, $year, $month, $time, $timeinps, $spinner, $hh, $mm, $ss, $tm, $close, $days, $dayNames, $clearBtn, $okBtn\r\n\r\n  $(function() {\r\n    var INIT_DATEPICKER = function() {\r\n      var cp = BJUI.regional.datepicker\r\n      var calendar = FRAG.calendarFrag\r\n        .replace('#close#', cp.close)\r\n        .replace('#prev#', cp.prev)\r\n        .replace('#next#', cp.next)\r\n        .replace('#clear#', cp.clear)\r\n        .replace('#ok#', cp.ok)\r\n\r\n      $box = $(calendar).hide()\r\n      $('body').append('<!-- datepicker -->').append($box)\r\n      $main = $box.find('> .main')\r\n      $prev = $box.find('a.prev')\r\n      $next = $box.find('a.next')\r\n      $year = $box.find('select[name=year]')\r\n      $month = $box.find('select[name=month]')\r\n      $time = $box.find('.time')\r\n      $timeinps = $time.find(':text')\r\n      $spinner = $time.find('ul > li')\r\n      $hh = $time.find('.hh')\r\n      $mm = $time.find('.mm')\r\n      $ss = $time.find('.ss')\r\n      $tm = $main.find('> .tm')\r\n      $close = $box.find('.close')\r\n      $days = $main.find('> .body > .days')\r\n      $dayNames = $main.find('> .body > .dayNames')\r\n      $clearBtn = $box.find('.clearBtn')\r\n      $okBtn = $box.find('.okBtn')\r\n\r\n      // regional\r\n      var dayNames = ''; var dr = BJUI.regional.datepicker\r\n\r\n      $.each(dr.dayNames, function(i, v) {\r\n        dayNames += '<dt>' + v + '</dt>'\r\n      })\r\n      $dayNames.html(dayNames)\r\n      $.each(dr.monthNames, function(i, v) {\r\n        var m = i + 1\r\n\r\n        $month.append('<option value=\"' + m + '\">' + v + '</option>')\r\n      })\r\n\r\n      $box.on('selectstart', function() { return false })\r\n    }\r\n\r\n    INIT_DATEPICKER()\r\n  })\r\n\r\n  // DATEPICKER CLASS DEFINITION\r\n  // ======================\r\n  var Datepicker = function(element, options) {\r\n    this.$element = $(element)\r\n    this.options = options\r\n    this.tools = this.TOOLS()\r\n    this.$dateBtn = null\r\n\r\n    // 动态minDate、maxDate\r\n    var now = new Date()\r\n\r\n    this.options.minDate = now.formatDateTm(this.options.minDate)\r\n    this.options.maxDate = now.formatDateTm(this.options.maxDate)\r\n\r\n    // events\r\n    this.events = {\r\n      focus_time: 'focus.bjui.datepicker.time',\r\n      click_prev: 'click.bjui.datepicker.prev',\r\n      click_next: 'click.bjui.datepicker.next',\r\n      click_ok: 'click.bjui.datepicker.ok',\r\n      click_days: 'click.bjui.datepicker.days',\r\n      click_clear: 'click.bjui.datepicker.clear',\r\n      click_close: 'click.bjui.datepicker.close',\r\n      click_tm: 'click.bjui.datepicker.tm',\r\n      click_spinner: 'click.bjui.datepicker.spinner',\r\n      mousedown_sp: 'mousedown.bjui.datepicker.spinner',\r\n      mouseup_sp: 'mouseup.bjui.datepicker.spinner',\r\n      change_ym: 'change.bjui.datepicker.ym',\r\n      click_time: 'click.bjui.datepicker.time',\r\n      keydown_time: 'keydown.bjui.datepicker.time',\r\n      keyup_time: 'keyup.bjui.datepicker.time'\r\n    }\r\n  }\r\n\r\n  Datepicker.DEFAULTS = {\r\n    pattern: 'yyyy-MM-dd',\r\n    minDate: '1900-01-01',\r\n    maxDate: '2099-12-31',\r\n    mmStep: 1,\r\n    ssStep: 1\r\n  }\r\n\r\n  Datepicker.EVENTS = {\r\n    afterChange: 'afterchange.bjui.datepicker'\r\n  }\r\n\r\n  Datepicker.prototype.TOOLS = function() {\r\n    var that = this\r\n    var tools = {\r\n      changeTmMenu: function(sltClass) {\r\n        $tm.removeClass('hh').removeClass('mm').removeClass('ss')\r\n        if (sltClass) {\r\n          $tm.addClass(sltClass)\r\n          $timeinps.removeClass('slt').filter('.' + sltClass).addClass('slt')\r\n        }\r\n      },\r\n      clickTmMenu: function($input, type) {\r\n        $tm\r\n          .find('> ul')\r\n          .hide()\r\n          .filter('.' + type)\r\n          .show()\r\n          .find('> li')\r\n          .off(that.events.click_tm)\r\n          .on(that.events.click_tm, function() {\r\n            var $li = $(this)\r\n            var val = parseInt($li.text()) < 10 ? ('0' + $li.text()) : $li.text()\r\n\r\n            $input.val(val)\r\n          })\r\n      },\r\n      keydownInt: function(e) {\r\n        if (!((e.keyCode >= 48 && e.keyCode <= 57) || (e.keyCode === BJUI.keyCode.DELETE || e.keyCode === BJUI.keyCode.BACKSPACE))) { return false }\r\n      },\r\n      changeTm: function($input, $btn) {\r\n        var ivalue = parseInt($input.val()); var istart = parseInt($input.data('start')) || 0; var iend = parseInt($input.data('end'))\r\n        var istep = parseInt($input.data('step') || 1)\r\n        var type = $btn ? ($btn.data('add') ? $btn.data('add') : -1) : 0\r\n        var newVal = ivalue\r\n\r\n        if (type === 1) {\r\n          if (ivalue <= iend - istep) { newVal = ivalue + istep }\r\n        } else if (type === -1) {\r\n          if (ivalue >= (istart + istep)) { newVal = ivalue - istep }\r\n        } else if (ivalue > iend) {\r\n          newVal = iend\r\n        } else if (ivalue < istart) {\r\n          newVal = istart\r\n        }\r\n        if (newVal < 10) newVal = '0' + newVal\r\n        $input.val(newVal)\r\n      },\r\n      closeCalendar: function(flag) {\r\n        tools.changeTmMenu()\r\n        if (flag) {\r\n          $(document).off(that.events.click_close)\r\n          $box.hide()\r\n        }\r\n      },\r\n      get: function(name) {\r\n        return that.options[name]\r\n      },\r\n      getDays: function(y, m) {\r\n        return m === 2 ? (y % 4 || (!(y % 100) && y % 400) ? 28 : 29) : (/4|6|9|11/.test(m) ? 30 : 31)\r\n      },\r\n      minMaxDate: function(sDate) {\r\n        var _count = sDate.split('-').length - 1\r\n        var _format = 'y-M-d'\r\n\r\n        if (_count === 1) _format = 'y-M'\r\n        else if (_count === 0) _format = 'y'\r\n\r\n        return sDate.parseDate(_format)\r\n      },\r\n      getMinDate: function() {\r\n        return this.minMaxDate(that.options.minDate)\r\n      },\r\n      getMaxDate: function() {\r\n        var _sDate = that.options.maxDate\r\n        var _count = _sDate.split('-').length - 1\r\n        var _date = this.minMaxDate(_sDate)\r\n\r\n        if (_count < 2) { // format:y-M、y\r\n          var _day = this.getDays(_date.getFullYear(), _date.getMonth() + 1)\r\n          _date.setDate(_day)\r\n          if (_count === 0) {\r\n            // format:y\r\n            _date.setMonth(11)\r\n          }\r\n        }\r\n\r\n        return _date\r\n      },\r\n      getDateWrap: function(date) {\r\n        if (!date) date = this.parseDate(that.sDate) || new Date()\r\n\r\n        var y = date.getFullYear()\r\n        var m = date.getMonth() + 1\r\n        var days = this.getDays(y, m)\r\n\r\n        return {\r\n          year: y, month: m, day: date.getDate(),\r\n          hour: date.getHours(), minute: date.getMinutes(), second: date.getSeconds(),\r\n          days: days, date: date\r\n        }\r\n      },\r\n      changeDate: function(y, m, d) {\r\n        var date = new Date(y, m - 1, d || 1)\r\n\r\n        that.sDate = this.formatDate(date)\r\n        return date\r\n      },\r\n      changeDateTime: function(y, M, d, H, m, s) {\r\n        var date = new Date(y, M - 1, d, H, m, s)\r\n\r\n        that.sDate = this.formatDate(date)\r\n        return date\r\n      },\r\n      changeDay: function(day, chMonth) {\r\n        if (!chMonth) chMonth = 0\r\n        var dw = this.getDateWrap()\r\n\r\n        return this.changeDate(dw.year, dw.month + parseInt(chMonth), day)\r\n      },\r\n      changeMonth: function(type) {\r\n        var yearIndex = $year.get(0).selectedIndex\r\n        var maxYear = $year.find('option').length\r\n        var month = ($month.val() * 1) + type\r\n\r\n        if (month === 0) {\r\n          if (yearIndex === 0) {\r\n            month = 1\r\n          } else {\r\n            month = 12\r\n            yearIndex--\r\n            $year.get(0).selectedIndex = yearIndex\r\n          }\r\n        } else if (month === 13) {\r\n          if (yearIndex === (maxYear - 1)) {\r\n            month = 12\r\n          } else {\r\n            month = 1\r\n            yearIndex++\r\n            $year.get(0).selectedIndex = yearIndex\r\n          }\r\n        }\r\n        $month.val(month).change()\r\n      },\r\n      parseDate: function(sDate) {\r\n        if (!sDate) return null\r\n        return sDate.parseDate(that.options.pattern)\r\n      },\r\n      formatDate: function(date) {\r\n        return date.formatDate(that.options.pattern)\r\n      },\r\n      hasHour: function() {\r\n        return that.options.pattern.indexOf('H') !== -1\r\n      },\r\n      hasMinute: function() {\r\n        return that.options.pattern.indexOf('m') !== -1\r\n      },\r\n      hasSecond: function() {\r\n        return that.options.pattern.indexOf('s') !== -1\r\n      },\r\n      hasTime: function() {\r\n        return this.hasHour() || this.hasMinute() || this.hasSecond()\r\n      },\r\n      hasDate: function() {\r\n        var _dateKeys = ['y', 'M', 'd', 'E']\r\n\r\n        for (var i = 0; i < _dateKeys.length; i++) {\r\n          if (that.options.pattern.indexOf(_dateKeys[i]) !== -1) return true\r\n        }\r\n        return false\r\n      },\r\n      afterChange: function(date) {\r\n        that.$element.trigger(Datepicker.EVENTS.afterChange, { value: date })\r\n      }\r\n    }\r\n    return tools\r\n  }\r\n\r\n  Datepicker.prototype.addBtn = function() {\r\n    var that = this; var $element = that.$element\r\n\r\n    if (!this.$dateBtn && !this.options.addbtn && !$element.parent().hasClass('wrap_bjui_btn_box')) {\r\n      this.$dateBtn = $(FRAG.dateBtn)\r\n      this.$element.css({ 'paddingRight': '15px' }).wrap('<span class=\"wrap_bjui_btn_box\"></span>')\r\n\r\n      var $box = this.$element.parent()\r\n      var height = this.$element.addClass('form-control').innerHeight()\r\n\r\n      $box.css({ 'position': 'relative', 'display': 'inline-block' })\r\n\r\n      this.$dateBtn.css({ 'height': height, 'lineHeight': height + 'px' }).appendTo($box)\r\n      this.$dateBtn.on('selectstart', function() { return false })\r\n    }\r\n  }\r\n\r\n  Datepicker.prototype.init = function() {\r\n    if (this.$element.val()) this.sDate = this.$element.val().trim()\r\n\r\n    var that = this\r\n    var tools = this.tools\r\n    var dw = tools.getDateWrap()\r\n    var minDate = tools.getMinDate(); var maxDate = tools.getMaxDate()\r\n    var yearstart = minDate.getFullYear(); var yearend = maxDate.getFullYear()\r\n\r\n    $year.empty()\r\n    for (var y = yearstart; y <= yearend; y++) {\r\n      $year.append('<option value=\"' + y + '\"' + (dw.year === y ? ' selected' : '') + '>' + y + '</option>')\r\n    }\r\n\r\n    $month.val(dw.month)\r\n    $year.add($month).off(this.events.change_ym).on(this.events.change_ym, function() {\r\n      var $day\r\n      var date\r\n      if (tools.hasTime()) {\r\n        $day = $days.find('.slt')\r\n        date = tools.changeDateTime($year.val(), $month.val(), $day.data('day'), dw.hour, dw.minute, dw.second)\r\n\r\n        that.create(tools.getDateWrap(date), minDate, maxDate)\r\n      } else {\r\n        $day = $days.find('.slt')\r\n        date = tools.changeDate($year.val(), $month.val(), $day.data('day'))\r\n\r\n        that.create(tools.getDateWrap(date), minDate, maxDate)\r\n      }\r\n    })\r\n    $prev.off(this.events.click_prev).on(this.events.click_prev, function() {\r\n      that.tools.changeMonth(-1)\r\n    })\r\n    $next.off(this.events.click_prev).on(this.events.click_prev, function() {\r\n      that.tools.changeMonth(1)\r\n    })\r\n    $clearBtn.off(this.events.click_clear).on(this.events.click_clear, function() {\r\n      that.$element.val('')\r\n      tools.closeCalendar(true)\r\n    })\r\n    $okBtn.off(this.events.click_ok).on(this.events.click_ok, function() {\r\n      var $dd = $days.find('dd.slt')\r\n\r\n      if ($dd.hasClass('disabled')) return false\r\n\r\n      var date = tools.changeDay($dd.data('day'), $dd.data('month'))\r\n\r\n      if (tools.hasTime()) {\r\n        date.setHours(parseInt($hh.val()))\r\n        date.setMinutes(parseInt($mm.val()))\r\n        date.setSeconds(parseInt($ss.val()))\r\n      }\r\n      tools.closeCalendar(true)\r\n      that.$element.val(tools.formatDate(date)).focus()\r\n\r\n      // changedEvent\r\n      tools.afterChange(date)\r\n    })\r\n    $close.off(this.events.click_close).on(this.events.click_close, function() {\r\n      tools.closeCalendar(true)\r\n    })\r\n    $(document).on(this.events.click_close, function(e) {\r\n      var $target = $(e.target)\r\n\r\n      if (e.target === that.$element.get(0)) return\r\n      if ($target.closest('#calendar').length) return\r\n      if ($target.data('toggle') === 'datepicker' || $target.parent().data('toggle') === 'datepickerbtn' || $target.data('toggle') === 'datepickerbtn') { tools.closeCalendar(false) } else { tools.closeCalendar(true) }\r\n    })\r\n    this.create(dw, minDate, maxDate)\r\n  }\r\n\r\n  Datepicker.prototype.create = function(dw, minDate, maxDate) {\r\n    var that = this\r\n    var options = this.options\r\n    var tools = this.tools\r\n    var monthStart = new Date(dw.year, dw.month - 1, 1)\r\n    var startDay = monthStart.getDay()\r\n    var dayStr = ''\r\n    var _date\r\n    var _ctrClass\r\n    var t\r\n\r\n    if (startDay > 0) {\r\n      monthStart.setMonth(monthStart.getMonth() - 1)\r\n      var prevDateWrap = tools.getDateWrap(monthStart)\r\n\r\n      for (t = prevDateWrap.days - startDay + 1; t <= prevDateWrap.days; t++) {\r\n        _date = new Date(dw.year, dw.month - 2, t)\r\n        _ctrClass = (_date >= minDate && _date <= maxDate) ? '' : ' disabled'\r\n\r\n        dayStr += '<dd class=\"other' + _ctrClass + '\" data-month=\"-1\" data-day=\"' + t + '\">' + t + '</dd>'\r\n      }\r\n    }\r\n    for (t = 1; t <= dw.days; t++) {\r\n      _date = new Date(dw.year, dw.month - 1, t)\r\n      _ctrClass = (_date >= minDate && _date <= maxDate) ? '' : 'disabled'\r\n\r\n      if (t === dw.day) { _ctrClass += ' slt' }\r\n      dayStr += '<dd class=\"' + _ctrClass + '\" data-day=\"' + t + '\">' + t + '</dd>'\r\n    }\r\n    for (t = 1; t <= 42 - startDay - dw.days; t++) {\r\n      _date = new Date(dw.year, dw.month, t)\r\n      _ctrClass = (_date >= minDate && _date <= maxDate) ? '' : ' disabled'\r\n\r\n      dayStr += '<dd class=\"other' + _ctrClass + '\" data-month=\"1\" data-day=\"' + t + '\">' + t + '</dd>'\r\n    }\r\n\r\n    var $alldays = $days.html(dayStr).find('dd')\r\n\r\n    $alldays.not('.disabled').off(this.events.click_days).on(this.events.click_days, function() {\r\n      var $day = $(this)\r\n\r\n      if (!tools.hasTime()) {\r\n        var date = tools.changeDay($day.data('day'), $day.data('month'))\r\n\r\n        tools.closeCalendar(true)\r\n        that.$element.val(tools.formatDate(date)).focus()\r\n\r\n        // changedEvent\r\n        tools.afterChange(date)\r\n      } else {\r\n        $alldays.removeClass('slt')\r\n        $day.addClass('slt')\r\n      }\r\n    })\r\n\r\n    if (!tools.hasDate()) {\r\n      $main.addClass('nodate') // only time\r\n    } else {\r\n      $main.removeClass('nodate')\r\n    }\r\n    if (tools.hasTime()) {\r\n      $time.show()\r\n      $hh.val(dw.hour < 10 ? ('0' + dw.hour) : dw.hour).off(this.events.focus_time).on(this.events.focus_time, function() {\r\n        tools.changeTmMenu('hh')\r\n      })\r\n\r\n      var iMinute = parseInt(dw.minute / options.mmStep) * options.mmStep\r\n\r\n      $mm.val(iMinute < 10 ? ('0' + iMinute) : iMinute).data('step', options.mmStep).off(this.events.focus_time).on(this.events.focus_time, function() {\r\n        tools.changeTmMenu('mm')\r\n      })\r\n      $ss.val(tools.hasSecond() ? (dw.second < 10 ? ('0' + dw.second) : dw.second) : '00').data('step', options.ssStep).off(this.events.focus_time).on(this.events.focus_time, function() {\r\n        tools.changeTmMenu('ss')\r\n      })\r\n      $box.off('click').on('click', function(e) {\r\n        if ($(e.target).closest('.time').length) return\r\n        $tm.find('> ul').hide()\r\n        tools.changeTmMenu()\r\n      })\r\n      $timeinps.off(this.events.keydown_time).on(this.events.keydown_time, tools.keydownInt).each(function() {\r\n        var $input = $(this)\r\n\r\n        $input.off(that.events.keyup_time).on(that.events.keyup_time, function() {\r\n          tools.changeTm($input)\r\n        })\r\n      }).off(this.events.click_time).on(this.events.click_time, function() {\r\n        tools.clickTmMenu($(this), $(this).data('type'))\r\n      })\r\n\r\n      var timer = null\r\n\r\n      $spinner.off(this.events.click_spinner).on(this.events.click_spinner, function(e) {\r\n        var $btn = $(this)\r\n\r\n        $timeinps.filter('.slt').each(function() {\r\n          tools.changeTm($(this), $btn)\r\n        })\r\n\r\n        e.preventDefault()\r\n      }).off(this.events.mousedown_sp).on(this.events.mousedown_sp, function(e) {\r\n        var $btn = $(this)\r\n\r\n        timer = setInterval(function() {\r\n          $timeinps.filter('.slt').each(function() {\r\n            tools.changeTm($(this), $btn)\r\n          })\r\n        }, 150)\r\n      }).off(this.events.mouseup_sp).on(this.events.mouseup_sp, function(e) {\r\n        clearTimeout(timer)\r\n      })\r\n\r\n      if (!tools.hasHour()) $hh.attr('disabled', true)\r\n      if (!tools.hasMinute()) $mm.attr('disabled', true)\r\n      if (!tools.hasSecond()) $ss.attr('disabled', true)\r\n    } else {\r\n      $time.hide()\r\n    }\r\n    this.show()\r\n  }\r\n\r\n  Datepicker.prototype.show = function() {\r\n    var offset = this.$element.offset()\r\n    var iTop = offset.top + this.$element.get(0).offsetHeight\r\n    // fix top\r\n    var iBoxH = $box.outerHeight(true)\r\n\r\n    if (iTop > iBoxH && iTop > $(window).height() - iBoxH) { iTop = offset.top - iBoxH }\r\n    $box.css({\r\n      left: offset.left,\r\n      top: iTop\r\n    }).show().click(function(e) {\r\n      e.stopPropagation()\r\n    })\r\n  }\r\n\r\n  // DATEPICKER PLUGIN DEFINITION\r\n  // =======================\r\n\r\n  function Plugin(option) {\r\n    var args = arguments\r\n    var property = option\r\n\r\n    return this.each(function() {\r\n      var $this = $(this)\r\n      var options = $.extend({}, Datepicker.DEFAULTS, $this.data(), typeof option === 'object' && option)\r\n      var data = $this.data('bjui.datepicker')\r\n\r\n      if (!data) $this.data('bjui.datepicker', (data = new Datepicker(this, options)))\r\n      if (typeof property === 'string' && $.isFunction(data[property])) {\r\n        [].shift.apply(args)\r\n        if (!args) data[property]()\r\n        else data[property].apply(data, args)\r\n      } else {\r\n        data.init()\r\n      }\r\n    })\r\n  }\r\n\r\n  var old = $.fn.datepicker\r\n\r\n  $.fn.datepicker = Plugin\r\n  $.fn.datepicker.Constructor = Datepicker\r\n\r\n  // DATEPICKER NO CONFLICT\r\n  // =================\r\n\r\n  $.fn.datepicker.noConflict = function() {\r\n    $.fn.datepicker = old\r\n    return this\r\n  }\r\n\r\n  // DATEPICKER DATA-API\r\n  // ==============\r\n\r\n  $(document).on(BJUI.eventType.initUI, function(e) {\r\n    var $this = $(e.target).find('[data-toggle=\"datepicker\"]')\r\n\r\n    if (!$this.length) return\r\n    if ($this.data('nobtn')) return\r\n\r\n    Plugin.call($this, 'addBtn')\r\n  })\r\n\r\n  $(document).on('click.bjui.datepicker.data-api', '[data-toggle=\"datepickerbtn\"]', function(e) {\r\n    var $date = $(this).prevAll('[data-toggle=\"datepicker\"]')\r\n\r\n    if (!$date || !$date.is(':text')) return\r\n    Plugin.call($date, $date.data())\r\n\r\n    e.preventDefault()\r\n  })\r\n\r\n  $(document).on('click.bjui.datepicker.data-api', '[data-toggle=\"datepicker\"]', function(e) {\r\n    var $this = $(this)\r\n\r\n    if ($this.data('onlybtn')) return\r\n    if (!$this.is(':text')) return\r\n    Plugin.call($this, $this.data())\r\n\r\n    e.preventDefault()\r\n  })\r\n}(jQuery))\r\n","/*!\r\n * B-JUI  v1.2 (http://b-jui.com)\r\n * Git@OSC (http://git.oschina.net/xknaan/B-JUI)\r\n * Copyright 2014 K'naan (xknaan@163.com).\r\n * Licensed under Apache (http://www.apache.org/licenses/LICENSE-2.0)\r\n */\r\n\r\n/* ========================================================================\r\n * B-JUI: bjui-dialog.js  v1.2\r\n * @author K'naan (xknaan@163.com)\r\n * -- Modified from dwz.dialog.js, dwz.dialogDrag.js, dwz.resize.js (author:Roger Wu)\r\n * http://git.oschina.net/xknaan/B-JUI/blob/master/BJUI/js/bjui-dialog.js\r\n * ========================================================================\r\n * Copyright 2014 K'naan.\r\n * Licensed under Apache (http://www.apache.org/licenses/LICENSE-2.0)\r\n * ======================================================================== */\r\n\r\n+(function($) {\r\n  'use strict'\r\n\r\n  // DIALOG GLOBAL ELEMENTS\r\n  // ======================\r\n\r\n  var $current, shadow, zindex\r\n\r\n  $(function() {\r\n    var INIT_DIALOG = function() {\r\n      shadow = 'dialogShadow'\r\n      zindex = Dialog.ZINDEX\r\n\r\n      $('body').append('<!-- dialog resizable -->').append(FRAG.resizable)\r\n    }\r\n\r\n    INIT_DIALOG()\r\n  })\r\n\r\n  // DIALOG CLASS DEFINITION\r\n  // ======================\r\n  var Dialog = function(element, options) {\r\n    this.$element = $(element)\r\n    this.options = options\r\n    this.tools = this.TOOLS()\r\n  }\r\n\r\n  Dialog.DEFAULTS = {\r\n    id: 'dialog',\r\n    title: 'New Dialog',\r\n    url: undefined,\r\n    type: 'GET',\r\n    data: {},\r\n    loadingmask: true,\r\n    width: 500,\r\n    height: 300,\r\n    minW: 65,\r\n    minH: 40,\r\n    max: false,\r\n    mask: false,\r\n    resizable: true,\r\n    drawable: true,\r\n    maxable: true,\r\n    minable: true,\r\n    fresh: false,\r\n    onLoad: null,\r\n    beforeClose: null,\r\n    onClose: null\r\n  }\r\n\r\n  Dialog.ZINDEX = 30\r\n\r\n  Dialog.prototype.TOOLS = function() {\r\n    var that = this\r\n    return {\r\n      getDefaults: function() {\r\n        return $.extend(Dialog.DEFAULTS, BJUI.dialog)\r\n      },\r\n      init: function($dialog) {\r\n        var width = that.options.width > that.options.minW ? that.options.width : that.options.minW\r\n        var height = that.options.height > that.options.minH ? that.options.height : that.options.minH\r\n        var wW = $(window).width()\r\n\r\n        var wH = $(window).height()\r\n\r\n        var iTop = that.options.max ? 0 : ((wH - height) / 2)\r\n\r\n        if (width > wW) width = wW\r\n        if (height > wH) height = wH\r\n\r\n        $dialog\r\n          .height(height)\r\n          .width(width)\r\n          .show()\r\n          .css({ left: (wW - width) / 2, top: 0, opacity: 0.1 })\r\n          .animate({ top: iTop > 0 ? iTop : 0, opacity: 1 })\r\n          .addClass(shadow)\r\n          .find('> .dialogContent').height(height - $('> .dialogHeader', $dialog).outerHeight() - 6)\r\n\r\n        $('body').find('> .bjui-dialog-container').not($dialog).removeClass(shadow)\r\n      },\r\n      reload: function($dialog, options) {\r\n        var $dialogContent = $dialog.find('> .dialogContent')\r\n        var onLoad\r\n\r\n        options = options || $dialog.data('initOptions')\r\n        onLoad = options.onLoad ? options.onLoad.toFunc() : null\r\n\r\n        $dialog.trigger(BJUI.eventType.beforeLoadDialog)\r\n        BJUI.ModuleFixed.destroyModules($dialog)\r\n        if (options.data) {\r\n          options.data = (typeof options.data === 'object') ? options.data : options.data.toObj()\r\n        }\r\n\r\n        if (options.url) {\r\n          $dialogContent.ajaxUrl({\r\n            type: options.type || 'GET',\r\n            url: options.url,\r\n            data: options.data || {},\r\n            loadingmask: options.loadingmask,\r\n            callback: function(response) {\r\n              if (onLoad) onLoad.apply(that, [$dialog])\r\n              if (BJUI.ui.clientPaging && $dialog.data('bjui.clientPaging')) $dialog.pagination('setPagingAndOrderby', $dialog)\r\n            }\r\n          })\r\n        } else if (options.target) {\r\n          var html = $(options.target).html() || $dialog.data('bjui.dialog.target')\r\n\r\n          $(options.target).empty()\r\n          $dialog.data('bjui.dialog.target', html)\r\n          $dialogContent.trigger(BJUI.eventType.beforeAjaxLoad).html(html).initui()\r\n\r\n          if (onLoad) onLoad.apply(that, [$dialog])\r\n        }\r\n      },\r\n      resizeContent: function($dialog, width, height) {\r\n        var $dialogContent = $dialog.find('> .dialogContent')\r\n\r\n        $dialogContent\r\n          .css({ width: (width - 12), height: (height - $dialog.find('> .dialogHeader').outerHeight() - 6) })\r\n          .resizePageH()\r\n\r\n        $(window).trigger(BJUI.eventType.resizeGrid)\r\n      }\r\n    }\r\n  }\r\n\r\n  Dialog.prototype.open = function() {\r\n    var that = this\r\n    var options = that.options\r\n    var $body = $('body')\r\n    var $dialog = $body.data(options.id)\r\n\r\n    if (!options.target || !$(options.target).length) {\r\n      if (!options.url && options.href) options.url = options.href\r\n      if (!options.url) {\r\n        BJUI.debug('Dialog Plugin: Error trying to open a dialog, url is undefined!')\r\n        return\r\n      } else {\r\n        options.url = decodeURI(options.url).replacePlh(that.$element.closest('.unitBox'))\r\n\r\n        if (!options.url.isFinishedTm()) {\r\n          that.$element.alertmsg('error', (options.warn || FRAG.alertPlhMsg.replace('#plhmsg#', BJUI.regional.plhmsg)))\r\n          BJUI.debug('Dialog Plugin: The new dialog\\'s url is incorrect, url: ' + options.url)\r\n          return\r\n        }\r\n\r\n        options.url = encodeURI(options.url)\r\n      }\r\n    } else {\r\n      options.url = undefined\r\n    }\r\n    if ($dialog) { // if the dialog id already exists\r\n      var op = $dialog.data('initOptions') || options\r\n\r\n      this.switchDialog($dialog)\r\n      if ($dialog.is(':hidden')) $dialog.show()\r\n      if (op.fresh || options.fresh || !op.url || op.url !== options.url) {\r\n        that.reload(options)\r\n        $dialog.data('initOptions', options)\r\n      }\r\n    } else { // open a new dialog\r\n      var dr = BJUI.regional.dialog\r\n      var dialog = FRAG.dialog\r\n        .replace('#close#', dr.close)\r\n        .replace('#maximize#', dr.maximize)\r\n        .replace('#restore#', dr.restore)\r\n        .replace('#minimize#', dr.minimize)\r\n        .replace('#title#', dr.title)\r\n\r\n      $dialog = $(dialog)\r\n        .data('options', options)\r\n        .data('initOptions', options)\r\n        .css('zIndex', (zindex += 1))\r\n        .hide()\r\n        .appendTo($body)\r\n\r\n      $dialog.find('> .dialogHeader > h1 > span.title').html(options.title)\r\n\r\n      this.tools.init($dialog)\r\n\r\n      if (options.maxable) $dialog.find('a.maximize').show()\r\n      else $dialog.find('a.maximize').hide()\r\n      if (options.minable) $dialog.find('a.minimize').show()\r\n      else $dialog.find('a.minimize').hide()\r\n      if (options.max) that.maxsize($dialog)\r\n      if (options.mask) this.addMask($dialog)\r\n      else if (options.minable && $.fn.taskbar) this.$element.taskbar({ id: options.id, title: options.title })\r\n\r\n      $dialog.on('click', function(e) {\r\n        if (!$(e.target).data('bjui.dialog')) { if ($current && $current[0] !== $dialog[0]) that.switchDialog($dialog) }\r\n      }).on('click', '.btn-close', function(e) {\r\n        that.close($dialog)\r\n\r\n        e.preventDefault()\r\n      }).on('click', '.dialogHeader > a', function(e) {\r\n        var $a = $(this)\r\n\r\n        if ($a.hasClass('close')) that.close($dialog)\r\n        if ($a.hasClass('minimize')) {\r\n          that.minimize($dialog)\r\n        }\r\n        if ($a.hasClass('maximize')) {\r\n          that.switchDialog($dialog)\r\n          that.maxsize($dialog)\r\n        }\r\n        if ($a.hasClass('restore')) that.restore($dialog)\r\n\r\n        e.preventDefault()\r\n        e.stopPropagation()\r\n      }).on('dblclick', '.dialogHeader > h1', function(e) {\r\n        if (options.maxable) {\r\n          if ($dialog.find('> .dialogHeader > a.restore').is(':hidden')) $dialog.find('a.maximize').trigger('click')\r\n          else $dialog.find('> .dialogHeader > a.restore').trigger('click')\r\n        }\r\n      }).on('mousedown.bjui.dialog.drag', '.dialogHeader > h1', function(e) {\r\n        that.switchDialog($dialog)\r\n\r\n        if (!options.drawable || $dialog.data('max')) return\r\n\r\n        $dialog.data('bjui.dialog.task', true)\r\n        setTimeout($.proxy(function() {\r\n          if ($dialog.data('bjui.dialog.task')) that.drag(e, $dialog)\r\n        }, that), 150)\r\n\r\n        e.preventDefault()\r\n      }).on('mouseup.bjui.dialog.drag', '.dialogHeader > h1', function(e) {\r\n        $dialog.data('bjui.dialog.task', false)\r\n      }).on('mousedown.bjui.dialog.resize', 'div[class^=\"resizable\"]', function(e) {\r\n        if (!options.drawable || $dialog.data('max')) return\r\n\r\n        var $bar = $(this)\r\n\r\n        that.switchDialog($dialog)\r\n        that.resizeInit(e, $('#bjui-resizable'), $dialog, $bar)\r\n        $bar.show()\r\n\r\n        e.preventDefault()\r\n      }).on('mouseup.bjui.dialog.resize', 'div[class^=\"resizable\"]', function(e) {\r\n        e.preventDefault()\r\n      })\r\n\r\n      $body.data(options.id, $dialog)\r\n      this.tools.reload($dialog, options)\r\n    }\r\n\r\n    $.CurrentDialog = $current = $dialog\r\n  }\r\n\r\n  Dialog.prototype.addMask = function($dialog) {\r\n    var $mask = $dialog.data('bjui.dialog.mask')\r\n\r\n    $dialog.wrap('<div style=\"z-index:' + zindex + '\" class=\"bjui-dialog-wrap\"></div>')\r\n    $dialog.find('> .dialogHeader > a.minimize').hide()\r\n    if (!$mask || !$mask.length) {\r\n      $mask = $(FRAG.dialogMask)\r\n      $mask.css('zIndex', 1).show().insertBefore($dialog)\r\n      $dialog.data('bjui.dialog.mask', $mask)\r\n    }\r\n  }\r\n\r\n  Dialog.prototype.refresh = function(id) {\r\n    if (id && typeof id === 'string') {\r\n      var arr = id.split(',')\r\n\r\n      for (var i = 0; i < arr.length; i++) {\r\n        var $dialog = $('body').data(arr[i].trim())\r\n\r\n        if ($dialog) {\r\n          $dialog.removeData('bjui.clientPaging')\r\n          this.tools.reload($dialog)\r\n        }\r\n      }\r\n    } else {\r\n      $current.removeData('bjui.clientPaging')\r\n      this.tools.reload($current)\r\n    }\r\n  }\r\n\r\n  Dialog.prototype.reload = function(option, initOptionFlag) {\r\n    var that = this\r\n    var options = $.extend({}, typeof option === 'object' && option)\r\n    var $dialog = (options.id && $('body').data(options.id)) || that.getCurrent()\r\n\r\n    if ($dialog && $dialog.length) {\r\n      var initOptions = $dialog.data('initOptions'); var op = $.extend({}, initOptions, options)\r\n      var _reload = function() {\r\n        var $dialogContent = $dialog.find('> .dialogContent')\r\n\r\n        if (initOptions.width !== op.width) {\r\n          if (!op.max) {\r\n            $dialog.animate({ width: op.width }, 'normal', function() { $dialogContent.width(op.width) })\r\n          } else {\r\n            $dialog.width(op.width)\r\n            $dialogContent.width(op.width)\r\n          }\r\n        }\r\n        if (initOptions.height !== op.height) {\r\n          if (!op.max) {\r\n            $dialog.animate({ height: op.height }, 'normal', function() {\r\n              $dialogContent.height(op.height - $dialog.find('> .dialogHeader').outerHeight() - 6).resizePageH()\r\n            })\r\n          } else {\r\n            $dialog.height(op.height)\r\n            $dialogContent.height(op.height - $dialog.find('> .dialogHeader').outerHeight() - 6)\r\n          }\r\n        }\r\n        if (initOptions.maxable !== op.maxable) {\r\n          if (op.maxable) $dialog.find('a.maximize').show()\r\n          else $dialog.find('a.maximize').hide()\r\n        }\r\n        if (initOptions.minable !== op.minable) {\r\n          if (op.minable) $dialog.find('a.minimize').show()\r\n          else $dialog.find('a.minimize').hide()\r\n        }\r\n        if (initOptions.max !== op.max && op.max) setTimeout(that.maxsize($dialog), 10)\r\n        if (initOptions.mask !== op.mask) {\r\n          if (op.mask) {\r\n            that.addMask($dialog)\r\n            if ($.fn.taskbar) that.$element.taskbar('closeDialog', op.id)\r\n          } else if (op.minable && $.fn.taskbar) {\r\n            that.$element.taskbar({ id: op.id, title: op.title })\r\n          }\r\n        }\r\n        if (initOptions.title !== op.title) {\r\n          $dialog.find('> .dialogHeader > h1 > span.title').html(op.title)\r\n          $dialog.taskbar('changeTitle', op.id, op.title)\r\n        }\r\n\r\n        $dialog.data('options', op)\r\n\r\n        if (!initOptionFlag) $dialog.data('initOptions', op)\r\n\r\n        that.tools.reload($dialog, op)\r\n      }\r\n\r\n      if (op.reloadWarn) {\r\n        $dialog.alertmsg('confirm', op.reloadWarn, {\r\n          okCall: function() {\r\n            _reload()\r\n          }\r\n        })\r\n      } else {\r\n        _reload()\r\n      }\r\n    }\r\n  }\r\n\r\n  Dialog.prototype.reloadForm = function(clearQuery, option) {\r\n    var $dialog, options\r\n\r\n    if (typeof option === 'string') {\r\n      $dialog = $('body').data(option)\r\n      options = $dialog.data('options')\r\n    } else if (typeof option === 'object') {\r\n      $dialog = (option.id && $('body').data(option.id)) || this.getCurrent()\r\n    }\r\n    if ($dialog) {\r\n      if (typeof option === 'object') {\r\n        if (option.title) $dialog.find('> .dialogHeader > h1 > span.title').html(option.title)\r\n        options = $.extend({}, option, $dialog.data('options'))\r\n      }\r\n      var $pagerForm = $dialog.find('#pagerForm'); var data = {}; var pageData = {}\r\n\r\n      if ($pagerForm.attr('action')) options.url = $pagerForm.attr('action')\r\n      if ($pagerForm && $pagerForm.length) {\r\n        pageData = $pagerForm.serializeJson()\r\n        if (!option || !option.type) options.type = $pagerForm.attr('method') || 'POST'\r\n        if (clearQuery) {\r\n          var pageInfo = BJUI.pageInfo\r\n          for (var key in pageInfo) {\r\n            if (pageInfo.hasOwnProperty(key)) {\r\n              data[pageInfo[key]] = pageData[pageInfo[key]]\r\n            }\r\n          }\r\n        } else {\r\n          data = pageData\r\n        }\r\n        options.data = $.extend({}, options.data || {}, data)\r\n      }\r\n\r\n      this.reload(options, true)\r\n    }\r\n  }\r\n\r\n  Dialog.prototype.getCurrent = function() {\r\n    return $current\r\n  }\r\n\r\n  Dialog.prototype.switchDialog = function($dialog) {\r\n    var index = $dialog.css('zIndex')\r\n\r\n    if ($current && $current !== $dialog) {\r\n      var cindex = $current.css('zIndex')\r\n\r\n      $current.css('zIndex', index)\r\n      $dialog.css('zIndex', cindex)\r\n      $.CurrentDialog = $current = $dialog\r\n      if ($.fn.taskbar) this.$element.taskbar('switchTask', $dialog.data('options').id)\r\n    }\r\n\r\n    $dialog.addClass(shadow)\r\n    $('body').find('> .bjui-dialog-container').not($dialog).removeClass(shadow)\r\n  }\r\n\r\n  Dialog.prototype.close = function(dialog) {\r\n    var that = this\r\n    var $dialog = (typeof dialog === 'string') ? $('body').data(dialog) : dialog\r\n    var $mask = $dialog.data('bjui.dialog.mask')\r\n    var options = $dialog.data('options')\r\n    var target = $dialog.data('bjui.dialog.target')\r\n    var beforeClose = options.beforeClose ? options.beforeClose.toFunc() : null\r\n    var onClose = options.onClose ? options.onClose.toFunc() : null\r\n    var canClose = true\r\n\r\n    if (!$dialog || !options) return\r\n    if (beforeClose) canClose = beforeClose.apply(that, [$dialog])\r\n    if (!canClose) {\r\n      that.switchDialog($dialog)\r\n      return\r\n    }\r\n    BJUI.ModuleFixed.destroyModules($dialog)\r\n    if (options.target && target) $(options.target).html(target)\r\n    if ($mask && $mask.length) {\r\n      $mask.remove()\r\n      $dialog.unwrap()\r\n    } else if ($.fn.taskbar) {\r\n      this.$element.taskbar('closeDialog', options.id)\r\n    }\r\n\r\n    $dialog.animate({ top: -$dialog.outerHeight(), opacity: 0.1 }, 'normal', function() {\r\n      var $body = $('body')\r\n      $body.removeData(options.id)\r\n      $dialog.trigger(BJUI.eventType.beforeCloseDialog).remove()\r\n      if (onClose) onClose.apply(that)\r\n\r\n      var $dialogs = $body.find('.bjui-dialog-container')\r\n      var $_current = null\r\n\r\n      if ($dialogs.length) {\r\n        $_current = that.$element.getMaxIndexObj($dialogs)\r\n      } else {\r\n        zindex = Dialog.ZINDEX\r\n      }\r\n      if ($_current && $_current.is(':visible')) that.switchDialog($_current)\r\n    })\r\n  }\r\n\r\n  Dialog.prototype.closeCurrent = function() {\r\n    this.close($current)\r\n  }\r\n\r\n  Dialog.prototype.checkTimeout = function() {\r\n    var $dialogConetnt = $current.find('> .dialogContent')\r\n    var json = JSON.parse($dialogConetnt.html())\r\n\r\n    if (json && json[BJUI.keys.statusCode] === BJUI.statusCode.timeout) this.closeCurrent()\r\n  }\r\n\r\n  Dialog.prototype.maxsize = function($dialog) {\r\n    $dialog.data('original', {\r\n      top: $dialog.css('top'),\r\n      left: $dialog.css('left'),\r\n      width: $dialog.css('width'),\r\n      height: $dialog.css('height')\r\n    }).data('max', true)\r\n    $dialog.find('> .dialogHeader > a.maximize').hide()\r\n    $dialog.find('> .dialogHeader > a.restore').show()\r\n\r\n    var iContentW = $(window).width()\r\n    var iContentH = $(window).height() - $('#bjui-taskbar').height() - 1\r\n\r\n    $dialog.css({ top: 0, left: 0, width: iContentW, height: iContentH })\r\n    this.tools.resizeContent($dialog, iContentW, iContentH)\r\n  }\r\n\r\n  Dialog.prototype.restore = function($dialog) {\r\n    var original = $dialog.data('original')\r\n    var dwidth = parseInt(original.width)\r\n    var dheight = parseInt(original.height)\r\n\r\n    $dialog.css({\r\n      top: original.top,\r\n      left: original.left,\r\n      width: dwidth,\r\n      height: dheight\r\n    })\r\n    this.tools.resizeContent($dialog, dwidth, dheight)\r\n    $dialog.find('> .dialogHeader > a.maximize').show()\r\n    $dialog.find('> .dialogHeader > a.restore').hide()\r\n    $dialog.data('max', false)\r\n  }\r\n\r\n  Dialog.prototype.minimize = function($dialog) {\r\n    $dialog.hide()\r\n    if ($.fn.taskbar) this.$element.taskbar('minimize', $dialog)\r\n  }\r\n\r\n  Dialog.prototype.drag = function(e, $dialog) {\r\n    $dialog.find('> .dialogContent').css('opacity', '.3')\r\n    $dialog.basedrag({\r\n      selector: '> .dialogHeader',\r\n      stop: function() {\r\n        $dialog\r\n          .css({ left: $dialog.css('left'), top: $dialog.css('top') })\r\n          .find('> .dialogContent').css('opacity', 1)\r\n      },\r\n      event: e,\r\n      nounbind: true\r\n    })\r\n  }\r\n\r\n  Dialog.prototype.resizeDialog = function($resizable, $dialog, target) {\r\n    var oleft = parseInt($resizable.css('left'))\r\n    var otop = parseInt($resizable.css('top'))\r\n    var height = parseInt($resizable.css('height'))\r\n    var width = parseInt($resizable.css('width'))\r\n\r\n    if (otop < 0) otop = 0\r\n\r\n    $dialog\r\n      .css({ top: otop, left: oleft, width: width + 2, height: height + 1 })\r\n      .find('> .dialogContent').css('width', (width - 10))\r\n\r\n    if (target !== 'w' && target !== 'e') {\r\n      var $dialogContent = $dialog.find('> .dialogContent')\r\n\r\n      $dialogContent\r\n        .css({ height: height - $dialog.find('> .dialogHeader').outerHeight() - 6 })\r\n        .resizePageH()\r\n    }\r\n    $(window).trigger(BJUI.eventType.resizeGrid)\r\n  }\r\n\r\n  Dialog.prototype.resizeInit = function(e, $resizable, $dialog, $bar) {\r\n    var that = this\r\n    var target = $bar.attr('tar')\r\n\r\n    $('body').css('cursor', target + '-resize')\r\n    $resizable\r\n      .css({\r\n        top: $dialog.css('top'),\r\n        left: $dialog.css('left'),\r\n        height: $dialog.outerHeight(),\r\n        width: $dialog.css('width')\r\n      })\r\n      .show()\r\n\r\n    if (!this.options.dragCurrent) {\r\n      this.options.dragCurrent = {\r\n        $resizable: $resizable,\r\n        $dialog: $dialog,\r\n        target: target,\r\n        oleft: parseInt($resizable.css('left')) || 0,\r\n        owidth: parseInt($resizable.css('width')) || 0,\r\n        otop: parseInt($resizable.css('top')) || 0,\r\n        oheight: parseInt($resizable.css('height')) || 0,\r\n        ox: e.pageX || e.screenX,\r\n        oy: e.pageY || e.clientY\r\n      }\r\n      $(document).on('mouseup.bjui.dialog.resize', $.proxy(that.resizeStop, that))\r\n      $(document).on('mousemove.bjui.dialog.resize', $.proxy(that.resizeStart, that))\r\n    }\r\n  }\r\n\r\n  Dialog.prototype.resizeStart = function(e) {\r\n    var current = this.options.dragCurrent\r\n\r\n    if (!current) return\r\n    if (!e) e = window.event\r\n\r\n    var lmove = (e.pageX || e.screenX) - current.ox\r\n    var tmove = (e.pageY || e.clientY) - current.oy\r\n\r\n    var $mask = current.$dialog.data('bjui.dialog.mask')\r\n\r\n    if (!$mask || !$mask.length) { if ((e.pageY || e.clientY) <= 0 || (e.pageY || e.clientY) >= ($(window).height() - current.$dialog.find('> .dialogHeader').outerHeight())) return }\r\n\r\n    var target = current.target\r\n    var width = current.owidth\r\n    var height = current.oheight\r\n\r\n    if (target !== 'n' && target !== 's') { width += (target.indexOf('w') >= 0) ? -lmove : lmove }\r\n    if (width >= this.options.minW) {\r\n      if (target.indexOf('w') >= 0) { current.$resizable.css('left', (current.oleft + lmove)) }\r\n      if (target !== 'n' && target !== 's') { current.$resizable.css('width', width) }\r\n    }\r\n    if (target !== 'w' && target !== 'e') { height += (target.indexOf('n') >= 0) ? -tmove : tmove }\r\n    if (height >= this.options.minH) {\r\n      if (target.indexOf('n') >= 0) { current.$resizable.css('top', (current.otop + tmove)) }\r\n      if (target !== 'w' && target !== 'e') { current.$resizable.css('height', height) }\r\n    }\r\n  }\r\n\r\n  Dialog.prototype.resizeStop = function(e) {\r\n    var current = this.options.dragCurrent\r\n\r\n    if (!current) return false\r\n\r\n    $(document).off('mouseup.bjui.dialog.resize')\r\n    $(document).off('mousemove.bjui.dialog.resize')\r\n    this.options.dragCurrent = null\r\n    this.resizeDialog(current.$resizable, current.$dialog, current.target)\r\n    $('body').css('cursor', '')\r\n    current.$resizable.hide()\r\n  }\r\n\r\n  // DIALOG PLUGIN DEFINITION\r\n  // =======================\r\n\r\n  function Plugin(option) {\r\n    var args = arguments\r\n    var property = option\r\n\r\n    return this.each(function() {\r\n      var $this = $(this)\r\n      var options = $.extend({}, Dialog.DEFAULTS, BJUI.dialog, typeof option === 'object' && option)\r\n      var data = $this.data('bjui.dialog')\r\n\r\n      if (!data) $this.data('bjui.dialog', (data = new Dialog(this, options)))\r\n\r\n      if (typeof property === 'string' && $.isFunction(data[property])) {\r\n        [].shift.apply(args)\r\n        if (!args) data[property]()\r\n        else data[property].apply(data, args)\r\n      } else {\r\n        data = new Dialog(this, options)\r\n        data.open()\r\n      }\r\n    })\r\n  }\r\n\r\n  var old = $.fn.dialog\r\n\r\n  $.fn.dialog = Plugin\r\n  $.fn.dialog.Constructor = Dialog\r\n\r\n  // DIALOG NO CONFLICT\r\n  // =================\r\n\r\n  $.fn.dialog.noConflict = function() {\r\n    $.fn.dialog = old\r\n    return this\r\n  }\r\n\r\n  // DIALOG DATA-API\r\n  // ==============\r\n\r\n  $(document).on('click.bjui.dialog.data-api', '[data-toggle=\"dialog\"]', function(e) {\r\n    var $this = $(this); var href = $this.attr('href'); var data = $this.data(); var options = data.options\r\n\r\n    if (options) {\r\n      if (typeof options === 'string') options = options.toObj()\r\n      if (typeof options === 'object') { $.extend(data, options) }\r\n    }\r\n\r\n    if (!data.title) data.title = $this.text()\r\n    if (href && !data.url) data.url = href\r\n\r\n    Plugin.call($this, data)\r\n\r\n    e.preventDefault()\r\n  })\r\n}(jQuery))\r\n","/*!\r\n * B-JUI  v1.2 (http://b-jui.com)\r\n * Git@OSC (http://git.oschina.net/xknaan/B-JUI)\r\n * Copyright 2014 K'naan (xknaan@163.com).\r\n * Licensed under Apache (http://www.apache.org/licenses/LICENSE-2.0)\r\n */\r\n\r\n/* ========================================================================\r\n * B-JUI: bjui-extends.js  v1.2\r\n * @author K'naan (xknaan@163.com)\r\n * -- Modified from dwz.core.js (author:ZhangHuihua@msn.com)\r\n * http://git.oschina.net/xknaan/B-JUI/blob/master/BJUI/js/bjui-extends.js\r\n * ========================================================================\r\n * Copyright 2014 K'naan.\r\n * Licensed under Apache (http://www.apache.org/licenses/LICENSE-2.0)\r\n * ======================================================================== */\r\n\r\n+(function($) {\r\n  'use strict'\r\n\r\n  $.fn.extend({\r\n    /**\r\n     *  @param {Object} op: {type:GET/POST, url:ajax请求地址, data:ajax请求参数列表, callback:回调函数 }\r\n     */\r\n    ajaxUrl: function(op) {\r\n      var $this = $(this)\r\n\r\n      $this.trigger(BJUI.eventType.beforeAjaxLoad)\r\n\r\n      if (op.loadingmask) {\r\n        $this.trigger(BJUI.eventType.ajaxStatus)\r\n      }\r\n\r\n      $.ajax({\r\n        type: op.type || 'GET',\r\n        url: op.url,\r\n        data: op.data || {},\r\n        cache: false,\r\n        dataType: 'html',\r\n        timeout: BJUI.ajaxTimeout,\r\n        success: function(response) {\r\n          var json = response.toJson()\r\n          var $ajaxMask = $this.find('> .bjui-ajax-mask')\r\n          if (!json[BJUI.keys.statusCode]) {\r\n            $this.empty().html(response).append($ajaxMask).initui()\r\n            if ($.isFunction(op.callback)) op.callback(response)\r\n          } else {\r\n            if (json[BJUI.keys.statusCode] === BJUI.statusCode.error) {\r\n              if (json[BJUI.keys.message]) $this.alertmsg('error', json[BJUI.keys.message])\r\n              if (!$this.closest('.bjui-layout').length) {\r\n                if ($this.closest('.navtab-panel').length) $this.navtab('closeCurrentTab')\r\n                else $this.dialog('closeCurrent')\r\n              }\r\n            } else if (json[BJUI.keys.statusCode] === BJUI.statusCode.timeout) {\r\n              if ($this.closest('.bjui-dialog').length) $this.dialog('closeCurrent')\r\n              if ($this.closest('.navtab-panel').length) $this.navtab('closeCurrentTab')\r\n\r\n              $('body').alertmsg('info', (json[BJUI.keys.message] || BJUI.regional.sessiontimeout))\r\n              BJUI.loadLogin()\r\n            }\r\n            $ajaxMask.fadeOut('normal', function() {\r\n              $(this).remove()\r\n            })\r\n          }\r\n        },\r\n        error: function(xhr, ajaxOptions, thrownError) {\r\n          $this.bjuiajax('ajaxError', xhr, ajaxOptions, thrownError)\r\n          if (!$this.closest('.bjui-layout').length) {\r\n            if ($this.closest('.navtab-panel').length) $this.navtab('closeCurrentTab')\r\n            else $this.dialog('closeCurrent')\r\n          }\r\n          $this.trigger('bjui.ajaxError')\r\n        },\r\n        statusCode: {\r\n          503: function(xhr, ajaxOptions, thrownError) {\r\n            $this.alertmsg('error', FRAG.statusCode_503.replace('#statusCode_503#', BJUI.regional.statusCode_503) || thrownError)\r\n          },\r\n          // 添加 httpCode 403 超时弹框\r\n          403: function(xhr, ajaxOptions, thrownError) {\r\n            $this.alertmsg('error', '登录超时' || thrownError)\r\n            BJUI.loadLogin()\r\n          },\r\n          // 添加 httpCode 401 无权限\r\n          401: function(xhr, ajaxOptions, thrownError) {\r\n            if (!BJUI.IS_DEBUG) {\r\n              $this.alertmsg('error', '无权限访问' || thrownError)\r\n            }\r\n          },\r\n          404: function(xhr, ajaxOptions, thrownError) {\r\n            if (!BJUI.IS_DEBUG) {\r\n              $this.alertmsg('error', ' httpCode: 404 .请求未找到！' || thrownError)\r\n            }\r\n          },\r\n          500: function(xhr, ajaxOptions, thrownError) {\r\n            if (!BJUI.IS_DEBUG) {\r\n              $this.alertmsg('error', ' httpCode: 500 .请求失败！' || thrownError)\r\n            }\r\n          }\r\n        }\r\n      })\r\n    },\r\n    loadUrl: function(url, data, callback) {\r\n      $(this).ajaxUrl({ url: url, data: data, callback: callback })\r\n    },\r\n    doAjax: function(op) {\r\n      var $this = $(this); var $target; var $ajaxMask\r\n\r\n      if (!op.url) {\r\n        BJUI.debug('The ajax url is undefined!')\r\n        return\r\n      }\r\n      if (!op.callback) {\r\n        BJUI.debug('The ajax callback is undefined!')\r\n        return\r\n      } else {\r\n        op.callback = op.callback.toFunc()\r\n      }\r\n      if (op.loadingmask) {\r\n        $target = $this.getPageTarget()\r\n        $target.trigger(BJUI.eventType.ajaxStatus)\r\n        $ajaxMask = $target.find('> .bjui-ajax-mask')\r\n      }\r\n      if (!op.type) op.type = 'POST'\r\n      if (!op.dataType) op.dataType = 'json'\r\n      if (!op.cache) op.cache = false\r\n      op.timeout = BJUI.ajaxTimeout\r\n      op.success = function(response) {\r\n        if ($ajaxMask) {\r\n          if (op.callback) {\r\n            $.when(op.callback(response)).done(function() {\r\n              $target.trigger('bjui.ajaxStop')\r\n            })\r\n          } else {\r\n            $target.trigger('bjui.ajaxStop')\r\n          }\r\n        } else {\r\n          op.callback(response)\r\n        }\r\n      }\r\n      op.error = op.error || function(xhr, ajaxOptions, thrownError) {\r\n        $this.bjuiajax('ajaxError', xhr, ajaxOptions, thrownError)\r\n        if ($ajaxMask) {\r\n          $target.trigger('bjui.ajaxError')\r\n        }\r\n      }\r\n\r\n      $.ajax(op)\r\n    },\r\n    getPageTarget: function() {\r\n      var $target\r\n\r\n      if (this.closest('.bjui-layout').length) $target = this.closest('.bjui-layout')\r\n      else if (this.closest('.navtab-panel').length) $target = $.CurrentNavtab\r\n      else $target = $.CurrentDialog\r\n\r\n      return $target\r\n    },\r\n    resizePageH: function() {\r\n      return this.each(function() {\r\n        if ($(this).closest('.tab-content').length) return\r\n\r\n        var $box = $(this)\r\n        if ($box.is(':hidden')) {\r\n          return\r\n        }\r\n\r\n        var $pageHeader = $box.find('> .bjui-pageHeader')\r\n\r\n        var $pageContent = $box.find('> .bjui-pageContent')\r\n\r\n        var $pageFooter = $box.find('> .bjui-pageFooter')\r\n\r\n        var headH = $pageHeader.outerHeight() || 0\r\n\r\n        var footH = $pageFooter.outerHeight() || 0\r\n\r\n        if ($box.hasClass('navtabPage') && $box.is(':hidden')) {\r\n          $box.show()\r\n          headH = $pageHeader.outerHeight() || 0\r\n          footH = $pageFooter.outerHeight() || 0\r\n          $box.hide()\r\n        }\r\n        if ($pageFooter.css('bottom')) footH += parseInt($pageFooter.css('bottom')) || 0\r\n        if (footH === 0 && $box.hasClass('dialogContent')) footH = 5\r\n        $pageContent.css({ top: headH, bottom: footH })\r\n      })\r\n    },\r\n    getMaxIndexObj: function($elements) {\r\n      var zIndex = 0; var index = 0\r\n\r\n      $elements.each(function(i) {\r\n        var newZIndex = parseInt($(this).css('zIndex')) || 1\r\n\r\n        if (zIndex < newZIndex) {\r\n          zIndex = newZIndex\r\n          index = i\r\n        }\r\n      })\r\n\r\n      return $elements.eq(index)\r\n    },\r\n    /**\r\n         * 将表单数据转成JSON对象 用法：$(form).serializeJson() Author: K'naan\r\n         */\r\n    serializeJson: function() {\r\n      var o = {}\r\n      var a = this.serializeArray()\r\n\r\n      $.each(a, function() {\r\n        if (o[this.name] !== undefined) {\r\n          if (!o[this.name].push) {\r\n            o[this.name] = [o[this.name]]\r\n          }\r\n          o[this.name].push(this.value || '')\r\n        } else {\r\n          o[this.name] = this.value || ''\r\n        }\r\n      })\r\n\r\n      return o\r\n    },\r\n    isTag: function(tn) {\r\n      if (!tn) return false\r\n      if (!$(this).prop('tagName')) return false\r\n      return $(this)[0].tagName.toLowerCase() === tn\r\n    },\r\n    /**\r\n     * 判断当前元素是否已经绑定某个事件\r\n     * @param {Object} type\r\n     */\r\n    isBind: function(type) {\r\n      var _events = $(this).data('events')\r\n      return _events && type && _events[type]\r\n    },\r\n    /**\r\n     * 输出firebug日志\r\n     * @param {Object} msg\r\n     */\r\n    log: function(msg) {\r\n      return this.each(function() {\r\n        if (console) console.log('%s: %o', msg, this)\r\n      })\r\n    }\r\n  })\r\n\r\n  /**\r\n   * 扩展String方法\r\n   */\r\n  $.extend(String.prototype, {\r\n    isPositiveInteger: function() {\r\n      return (new RegExp(/^[1-9]\\d*$/).test(this))\r\n    },\r\n    isInteger: function() {\r\n      return (new RegExp(/^\\d+$/).test(this))\r\n    },\r\n    isNumber: function() {\r\n      return (new RegExp(/^([-]{0,1}(\\d+)[\\.]+(\\d+))|([-]{0,1}(\\d+))$/).test(this))\r\n    },\r\n    includeChinese: function() {\r\n      return (new RegExp(/[\\u4E00-\\u9FA5]/).test(this))\r\n    },\r\n    trim: function() {\r\n      return this.replace(/^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g, '')\r\n    },\r\n    startsWith: function(pattern) {\r\n      return this.indexOf(pattern) === 0\r\n    },\r\n    endsWith: function(pattern) {\r\n      var d = this.length - pattern.length\r\n      return d >= 0 && this.lastIndexOf(pattern) === d\r\n    },\r\n    replaceSuffix: function(index) {\r\n      return this.replace(/\\[[0-9]+\\]/, '[' + index + ']').replace('#index#', index)\r\n    },\r\n    replaceSuffix2: function(index) {\r\n      return this.replace(/\\-(i)([0-9]+)$/, '-i' + index).replace('#index#', index)\r\n    },\r\n    trans: function() {\r\n      return this.replace(/&lt;/g, '<').replace(/&gt;/g, '>').replace(/&quot;/g, '\"')\r\n    },\r\n    encodeTXT: function() {\r\n      return (this).replaceAll('&', '&amp;').replaceAll('<', '&lt;').replaceAll('>', '&gt;').replaceAll(' ', '&nbsp;')\r\n    },\r\n    replaceAll: function(os, ns) {\r\n      return this.replace(new RegExp(os, 'gm'), ns)\r\n    },\r\n    /* 替换占位符为对应选择器的值*/ // {^(.|\\#)[A-Za-z0-9_-\\s]*}\r\n    replacePlh: function($box) {\r\n      $box = $box || $(document)\r\n      return this.replace(/{\\/?[^}]*}/g, function($1) {\r\n        var $input = $box.find($1.replace(/[{}]+/g, ''))\r\n\r\n        return $input && $input.val() ? $input.val() : $1\r\n      })\r\n    },\r\n    replaceMsg: function(holder) {\r\n      return this.replace(new RegExp('({.*})', 'g'), holder)\r\n    },\r\n    replaceTm: function($data) {\r\n      if (!$data) return this\r\n\r\n      return this.replace(RegExp('({[A-Za-z_]+[A-Za-z0-9_-]*})', 'g'), function($1) {\r\n        return $data[$1.replace(/[{}]+/g, '')]\r\n      })\r\n    },\r\n    replaceTmById: function(_box) {\r\n      var $parent = _box || $(document)\r\n\r\n      return this.replace(RegExp('({[A-Za-z_]+[A-Za-z0-9_-]*})', 'g'), function($1) {\r\n        var $input = $parent.find('#' + $1.replace(/[{}]+/g, ''))\r\n        return $input.val() ? $input.val() : $1\r\n      })\r\n    },\r\n    isFinishedTm: function() {\r\n      return !(new RegExp('{\\/?[^}]*}').test(this))\r\n    },\r\n    skipChar: function(ch) {\r\n      if (!this || this.length === 0) return ''\r\n      if (this.charAt(0) === ch) return this.substring(1).skipChar(ch)\r\n      return this\r\n    },\r\n    isValidPwd: function() {\r\n      return (new RegExp(/^([_]|[a-zA-Z0-9]){6,32}$/).test(this))\r\n    },\r\n    isValidMail: function() {\r\n      return (new RegExp(/^\\w+((-\\w+)|(\\.\\w+))*\\@[A-Za-z0-9]+((\\.|-)[A-Za-z0-9]+)*\\.[A-Za-z0-9]+$/).test(this.trim()))\r\n    },\r\n    isSpaces: function() {\r\n      for (var i = 0; i < this.length; i += 1) {\r\n        var ch = this.charAt(i)\r\n\r\n        if (ch !== ' ' && ch !== '\\n' && ch !== '\\t' && ch !== '\\r') return false\r\n      }\r\n      return true\r\n    },\r\n    isPhone: function() {\r\n      return (new RegExp(/(^([0-9]{3,4}[-])?\\d{3,8}(-\\d{1,6})?$)|(^\\([0-9]{3,4}\\)\\d{3,8}(\\(\\d{1,6}\\))?$)|(^\\d{3,8}$)/).test(this))\r\n    },\r\n    isUrl: function() {\r\n      return (new RegExp(/^[a-zA-z]+:\\/\\/([a-zA-Z0-9\\-\\.]+)([-\\w .\\/?%&=:]*)$/).test(this))\r\n    },\r\n    isExternalUrl: function() {\r\n      return this.isUrl() && this.indexOf('://' + document.domain) === -1\r\n    },\r\n    toBool: function() {\r\n      return (this.toLowerCase() === 'true')\r\n    },\r\n    toJson: function() {\r\n      var json = this\r\n\r\n      try {\r\n        if (typeof json === 'object') json = json.toString()\r\n        if (!json.trim().match('^\\{(.+:.+,*){1,}\\}$')) return this\r\n        else return JSON.parse(this)\r\n      } catch (e) {\r\n        return this\r\n      }\r\n    },\r\n    toObj: function() {\r\n      var obj = null\r\n\r\n      try {\r\n        obj = (new Function('return ' + this))()\r\n      } catch (e) {\r\n        obj = this\r\n        BJUI.debug('String toObj：Parse \"String\" to \"Object\" error! Your str is: ' + this)\r\n      }\r\n      return obj\r\n    },\r\n    /**\r\n         * String to Function\r\n         * 参数(方法字符串或方法名)： 'function(){...}' 或 'getName' 或 'USER.getName' 均可\r\n         * Author: K'naan\r\n         */\r\n    toFunc: function() {\r\n      if (!this || this.length === 0) return undefined\r\n      // if ($.isFunction(this)) return this\r\n\r\n      if (this.startsWith('function')) {\r\n        return (new Function('return ' + this))()\r\n      }\r\n\r\n      var m_arr = this.split('.')\r\n      var fn = window\r\n\r\n      for (var i = 0; i < m_arr.length; i++) {\r\n        fn = fn[m_arr[i]]\r\n      }\r\n\r\n      if (typeof fn === 'function') {\r\n        return fn\r\n      }\r\n\r\n      return undefined\r\n    },\r\n    setUrlParam: function(key, value) {\r\n      var url = this\r\n      var r = url\r\n      if (r != null && r !== 'undefined' && r !== '') {\r\n        value = encodeURIComponent(value)\r\n        var reg = new RegExp('(^|)' + key + '=([^&]*)(|$)')\r\n        var tmp = key + '=' + value\r\n        if (url.match(reg) != null) {\r\n          r = url.replace(reg, tmp)\r\n        } else {\r\n          if (url.match('[\\?]')) {\r\n            r = url + '&' + tmp\r\n          } else {\r\n            r = url + '?' + tmp\r\n          }\r\n        }\r\n      }\r\n      return r\r\n    },\r\n    /**\r\n     * 获取url参数\r\n     * @param name 参数名称，为空则返回所有参数Object集合\r\n     * @param url 目标url，默认为当前url\r\n     * @returns {*}\r\n     */\r\n    getQuery: function(name, url) {\r\n      var $location\r\n      var $params = {}\r\n      if (url) {\r\n        $location = document.createElement('a')\r\n        $location.href = url\r\n      } else {\r\n        $location = window.location\r\n      }\r\n      var $seg = $location.search.replace(/^\\?/, '').split('&')\r\n      var len = $seg.length\r\n      var $p\r\n      for (var i = 0; i < len; i++) {\r\n        if ($seg[i]) {\r\n          $p = $seg[i].split('=')\r\n          $params[$p[0]] = decodeURIComponent($p[1])\r\n        }\r\n      }\r\n      return (name ? $params[name] : $params)\r\n    }\r\n  })\r\n\r\n  /* Function */\r\n  $.extend(Function.prototype, {\r\n    // to fixed String.prototype -> toFunc\r\n    toFunc: function() {\r\n      return this\r\n    }\r\n  })\r\n\r\n  /* Array */\r\n  $.extend(Array.prototype, {\r\n    remove: function(index) {\r\n      if (index < 0) return this\r\n      else return this.slice(0, index).concat(this.slice(index + 1, this.length))\r\n    },\r\n    unique: function() {\r\n      var temp = []\r\n\r\n      this.sort()\r\n      for (var i = 0; i < this.length; i++) {\r\n        if (this[i] === this[i + 1]) continue\r\n        temp[temp.length] = this[i]\r\n      }\r\n\r\n      return temp\r\n    },\r\n    myIndexOf: function(e) {\r\n      return this.indexOf(e)\r\n    },\r\n    /* serializeArray to json */\r\n    toJson: function() {\r\n      var o = {}\r\n      var a = this\r\n\r\n      $.each(a, function() {\r\n        if (o[this.name] !== undefined) {\r\n          if (!o[this.name].push) {\r\n            o[this.name] = [o[this.name]]\r\n          }\r\n          o[this.name].push(this.value || '')\r\n        } else {\r\n          o[this.name] = this.value || ''\r\n        }\r\n      })\r\n\r\n      return o\r\n    }\r\n  })\r\n\r\n  /* Global */\r\n  $.isJson = function(obj) {\r\n    var flag = true\r\n\r\n    try {\r\n      flag = $.parseJSON(obj)\r\n    } catch (e) {\r\n      return false\r\n    }\r\n    return !!flag\r\n  }\r\n}(jQuery))\r\n","/*!\r\n * B-JUI  v1.2 (http://b-jui.com)\r\n * Git@OSC (http://git.oschina.net/xknaan/B-JUI)\r\n * Copyright 2014 K'naan (xknaan@163.com).\r\n * Licensed under Apache (http://www.apache.org/licenses/LICENSE-2.0)\r\n */\r\n\r\n/* ========================================================================\r\n * B-JUI: bjui-frag.js  v1.2\r\n * @author K'naan (xknaan@163.com)\r\n * -- Modified from dwz.frag.xml (author:ZhangHuihua@msn.com)\r\n * http://git.oschina.net/xknaan/B-JUI/blob/master/BJUI/js/bjui-frag.js\r\n * ========================================================================\r\n * Copyright 2014 K'naan.\r\n * Licensed under Apache (http://www.apache.org/licenses/LICENSE-2.0)\r\n * ======================================================================== */\r\n\r\n+(function($) {\r\n  'use strict'\r\n\r\n  BJUI.setRegional('alertmsg', {\r\n    title: { error: 'Error', info: 'Info', warn: 'Warning', correct: 'Correct', confirm: 'Confirm' },\r\n    btnMsg: { ok: 'OK', yes: 'YES', no: 'NO', cancel: 'Cancel' }\r\n  })\r\n\r\n  BJUI.setRegional('dialog', {\r\n    close: 'Close',\r\n    maximize: 'Maximize',\r\n    restore: 'Restore',\r\n    minimize: 'Minimize',\r\n    title: 'Popup window'\r\n  })\r\n\r\n  BJUI.setRegional('orderby', {\r\n    asc: 'Asc',\r\n    desc: 'Desc'\r\n  })\r\n\r\n  BJUI.setRegional('pagination', {\r\n    first: 'First page',\r\n    last: 'Last page',\r\n    prev: 'Prev page',\r\n    next: 'Next page',\r\n    jumpto: 'Jump page number',\r\n    jump: 'Jump'\r\n  })\r\n\r\n  BJUI.setRegional('datagrid', {\r\n    asc: 'ASC',\r\n    desc: 'DESC',\r\n    showhide: 'Show/Hide columns',\r\n    filter: 'Filter',\r\n    clear: 'Clear',\r\n    lock: 'Lock',\r\n    unlock: 'Unlock',\r\n    add: 'Add',\r\n    edit: 'Edit',\r\n    save: 'Save',\r\n    update: 'Update',\r\n    cancel: 'Cancel',\r\n    del: 'Delete',\r\n    prev: 'Prev',\r\n    next: 'Next',\r\n    refresh: 'Refresh',\r\n    query: 'Query',\r\n    'import': 'Import',\r\n    'export': 'Export',\r\n    all: 'All',\r\n    'true': 'True',\r\n    'false': 'False',\r\n    selectMsg: 'Not selected any rows!',\r\n    saveMsg: 'No rows need to save!',\r\n    editMsg: 'Please save the edited row!',\r\n    delMsg: 'Sure you want to delete this row?',\r\n    delMsgM: 'Sure you want to delete selected rows?'\r\n  })\r\n\r\n  BJUI.setRegional('progressmsg', 'Data loading, please waiting...')\r\n\r\n  BJUI.setRegional('datepicker', {\r\n    close: 'Close',\r\n    prev: 'Prev month',\r\n    next: 'Next month',\r\n    clear: 'Clear',\r\n    ok: 'OK',\r\n    dayNames: ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'],\r\n    monthNames: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec']\r\n  })\r\n\r\n  BJUI.setRegional('navtabCM', {\r\n    refresh: 'Refresh navtab',\r\n    close: 'Close navtab',\r\n    closeother: 'Close other navtab',\r\n    closeall: 'Close all navtab'\r\n  })\r\n\r\n  BJUI.setRegional('dialogCM', {\r\n    refresh: 'Refresh dialog',\r\n    close: 'Close dialog',\r\n    closeother: 'Close other dialog',\r\n    closeall: 'Close all dialog'\r\n  })\r\n\r\n  BJUI.setRegional('upload', {\r\n    upConfirm: 'Start upload',\r\n    upPause: 'Pause upload',\r\n    upCancel: 'Cancel upload'\r\n  })\r\n\r\n  BJUI.setRegional('statusCode_503', 'The current server load is too large or is down for maintenance!')\r\n\r\n  BJUI.setRegional('sessiontimeout', 'Session timeout, please login!')\r\n\r\n  BJUI.setRegional('plhmsg', 'Placeholder corresponding selector None Valid!')\r\n\r\n  BJUI.setRegional('nocheckgroup', 'Undefined group name selected item [check box \"data-group\"]!')\r\n\r\n  BJUI.setRegional('notchecked', 'Unchecked any one!')\r\n\r\n  BJUI.setRegional('selectmsg', 'Please select one option!')\r\n\r\n  BJUI.setRegional('validatemsg', 'Submitted form data has [{0}] field an error, please after modified submitting!')\r\n\r\n  BJUI.setRegional('uititle', 'B-JUI')\r\n\r\n  BJUI.setRegional('maintab', 'My home')\r\n\r\n  window.FRAG = {\r\n    dialog: '<div class=\"bjui-dialog bjui-dialog-container\" style=\"top:150px; left:300px;\">' +\r\n                '    <div class=\"dialogHeader\" onselectstart=\"return false;\" oncopy=\"return false;\" onpaste=\"return false;\" oncut=\"return false;\">' +\r\n                '        <a class=\"close\" href=\"#close\" title=\"#close#\"><i class=\"fa fa-times-circle\"></i></a>' +\r\n                '        <a class=\"maximize\" href=\"#maximize\" title=\"#maximize#\"><i class=\"fa fa-plus-circle\"></i></a>' +\r\n                '        <a class=\"restore\" href=\"#restore\" title=\"#restore#\"><i class=\"fa fa-history\"></i></a>' +\r\n                '        <a class=\"minimize\" href=\"#minimize\" title=\"#minimize#\"><i class=\"fa fa-minus-circle\"></i></a>' +\r\n                '        <h1><span><i class=\"fa fa-th-large\"></i></span> <span class=\"title\">#title#</span></h1>' +\r\n                '    </div>' +\r\n                '    <div class=\"dialogContent unitBox\"></div>' +\r\n                '    <div class=\"resizable_h_l\" tar=\"nw\"></div>' +\r\n                '    <div class=\"resizable_h_r\" tar=\"ne\"></div>' +\r\n                '    <div class=\"resizable_h_c\" tar=\"n\"></div>' +\r\n                '    <div class=\"resizable_c_l\" tar=\"w\" style=\"height:100%;\"></div>' +\r\n                '    <div class=\"resizable_c_r\" tar=\"e\" style=\"height:100%;\"></div>' +\r\n                '    <div class=\"resizable_f_l\" tar=\"sw\"></div>' +\r\n                '    <div class=\"resizable_f_r\" tar=\"se\"></div>' +\r\n                '    <div class=\"resizable_f_c\" tar=\"s\"></div>' +\r\n                '</div>',\r\n    taskbar: '<div id=\"bjui-taskbar\" style=\"left:0px; display:none;\">' +\r\n                 '    <div class=\"taskbarContent\">' +\r\n                 '        <ul></ul>' +\r\n                 '    </div>' +\r\n                 '    <div class=\"taskbarLeft taskbarLeftDisabled\"><i class=\"fa fa-angle-double-left\"></i></div>' +\r\n                 '    <div class=\"taskbarRight\"><i class=\"fa fa-angle-double-right\"></i></div>' +\r\n                 '</div>',\r\n    splitBar: '<div id=\"bjui-splitBar\"></div>',\r\n    splitBarProxy: '<div id=\"bjui-splitBarProxy\"></div>',\r\n    resizable: '<div id=\"bjui-resizable\" class=\"bjui-resizable\"></div>',\r\n    alertBackground: '<div class=\"bjui-alertBackground\"></div>',\r\n    maskBackground: '<div class=\"bjui-maskBackground bjui-ajax-mask\"></div>',\r\n    maskProgress: '<div class=\"bjui-maskProgress bjui-ajax-mask\"><i class=\"fa fa-cog fa-spin\"></i>&nbsp;&nbsp;#msg#<div class=\"progressBg\"><div class=\"progress\"></div></div></div>',\r\n    progressBar_custom: '<div id=\"bjui-progressBar-custom\" class=\"progressBar\"><i class=\"fa fa-cog fa-spin\"></i> <span></span></div>',\r\n    dialogMask: '<div class=\"bjui-dialogBackground\"></div>',\r\n    orderby: '<a href=\"javascript:;\" class=\"order asc\" data-order-direction=\"asc\" title=\"#asc#\"><i class=\"fa fa-angle-up\"></i></a>' +\r\n                 '<a href=\"javascript:;\" class=\"order desc\" data-order-direction=\"desc\" title=\"#desc#\"><i class=\"fa fa-angle-down\"></i></a>',\r\n    slidePanel: '<div class=\"panel panel-default\">' +\r\n                    '    <div class=\"panel-heading\">' +\r\n                    '        <h4 class=\"panel-title\"><a data-toggle=\"collapse\" data-parent=\"#bjui-accordionmenu\" href=\"##id#\" class=\"#class#\">#icon#&nbsp;#title#<b>#righticon#</b></a></h4>' +\r\n                    '    </div>' +\r\n                    '    <div id=\"#id#\" class=\"panel-collapse collapse#bodyclass#\">' +\r\n                    '        <div class=\"panel-body\">' +\r\n                    '        </div>' +\r\n                    '    </div>' +\r\n                    '</div>',\r\n    pagination: '<ul class=\"pagination\">' +\r\n                    '    <li class=\"j-first\">' +\r\n                    '        <a class=\"first\" href=\"javascript:;\"><i class=\"fa fa-step-backward\"></i> #first#</a>' +\r\n                    '        <span class=\"first\"><i class=\"fa fa-step-backward\"></i> #first#</span>' +\r\n                    '    </li>' +\r\n                    '    <li class=\"j-prev\">' +\r\n                    '        <a class=\"previous\" href=\"javascript:;\"><i class=\"fa fa-backward\"></i> #prev#</a>' +\r\n                    '        <span class=\"previous\"><i class=\"fa fa-backward\"></i> #prev#</span>' +\r\n                    '    </li>' +\r\n                    '    #pageNumFrag#' +\r\n                    '    <li class=\"j-next\">' +\r\n                    '        <a class=\"next\" href=\"javascript:;\">#next# <i class=\"fa fa-forward\"></i></a>' +\r\n                    '        <span class=\"next\">#next# <i class=\"fa fa-forward\"></i></span>' +\r\n                    '    </li>' +\r\n                    '    <li class=\"j-last\">' +\r\n                    '        <a class=\"last\" href=\"javascript:;\">#last# <i class=\"fa fa-step-forward\"></i></a>' +\r\n                    '        <span class=\"last\">#last# <i class=\"fa fa-step-forward\"></i></span>' +\r\n                    '    </li>' +\r\n                    '    <li class=\"jumpto\"><span class=\"p-input\"><input class=\"form-control input-sm-pages\" type=\"text\" size=\"2.6\" value=\"#pageCurrent#\" title=\"#jumpto#\"></span><a class=\"goto\" href=\"javascript:;\" title=\"#jump#\"><i class=\"fa fa-chevron-right\"></i></a></li>' +\r\n                    '</ul>',\r\n    gridPaging: '<ul class=\"pagination\">' +\r\n                    '    <li class=\"page-total\">' +\r\n                    '        <span title=\"#total#\">#count#</span>' +\r\n                    '    </li>' +\r\n                    '    <li class=\"page-jumpto\"><span class=\"page-input\"><input class=\"form-control input-sm-pages\" type=\"text\" size=\"3.2\" value=\"#pageCurrent#\" title=\"#jumpto#\"></span></li>' +\r\n                    '    <li class=\"page-first btn-nav\">' +\r\n                    '        <a href=\"javascript:;\" title=\"#first#\"><i class=\"fa fa-step-backward\"></i></a>' +\r\n                    '    </li>' +\r\n                    '    <li class=\"page-prev btn-nav\">' +\r\n                    '        <a href=\"javascript:;\" title=\"#prev#\"><i class=\"fa fa-backward\"></i></a>' +\r\n                    '    </li>' +\r\n                    '    <li class=\"page-next btn-nav\">' +\r\n                    '        <a href=\"javascript:;\" title=\"#next#\"><i class=\"fa fa-forward\"></i></a>' +\r\n                    '    </li>' +\r\n                    '    <li class=\"page-last btn-nav\">' +\r\n                    '        <a href=\"javascript:;\" title=\"#last#\"><i class=\"fa fa-step-forward\"></i></a>' +\r\n                    '    </li>' +\r\n                    '</ul>',\r\n    gridPageNum: '<li class=\"page-num#active#\"><a href=\"javascript:;\">#num#</a></li>',\r\n    gridMenu: '<div class=\"datagrid-menu-box\">' +\r\n                 '    <ul>' +\r\n                 '        <li class=\"datagrid-li-asc\"><a href=\"javascript:;\"><span class=\"icon\"><i class=\"fa fa-sort-amount-asc\"></i></span><span class=\"title\">#asc#</span></a></li>' +\r\n                 '        <li class=\"datagrid-li-desc\"><a href=\"javascript:;\"><span class=\"icon\"><i class=\"fa fa-sort-amount-desc\"></i></span><span class=\"title\">#desc#</span></a></li>' +\r\n                 '        <li class=\"datagrid-li-filter\"><a href=\"javascript:;\"><span class=\"icon\"><i class=\"fa fa-filter\"></i></span><span class=\"title\">#filter#</span><span class=\"arrow\"></span></a></li>' +\r\n                 '        <li class=\"datagrid-li-showhide\"><a href=\"javascript:;\"><span class=\"icon\"><i class=\"fa fa-check-square-o\"></i></span><span class=\"title\">#showhide#</span><span class=\"arrow\"></span></a></li>' +\r\n                 '        <li class=\"datagrid-li-lock\"><a href=\"javascript:;\"><span class=\"icon\"><i class=\"fa fa-lock\"></i></span><span class=\"title\">#lock#</span></a></li>' +\r\n                 '        <li class=\"datagrid-li-unlock disable\"><a href=\"javascript:;\"><span class=\"icon\"><i class=\"fa fa-unlock\"></i></span><span class=\"title\">#unlock#</span></a></li>' +\r\n                 '    </ul>' +\r\n                 '</div>',\r\n    gridFilter: '<div class=\"datagrid-filter-box\">' +\r\n                  '<fieldset>' +\r\n                  '<legend>#label#</legend>' +\r\n                  '<span class=\"filter-a\"></span>' +\r\n                  '<span class=\"filter-and\"><select data-toggle=\"selectpicker\" data-container=\"true\" data-width=\"100%\"><option value=\"and\">AND</option><option value=\"or\">OR</option></select></span>' +\r\n                  '<span class=\"filter-b\"></span>' +\r\n                  '<span class=\"filter-ok\"><button type=\"button\" class=\"btn-green ok\" data-icon=\"check\">#filter#</button><button type=\"button\" class=\"btn-orange clear\" data-icon=\"remove\">#clear#</button></span>' +\r\n                  '</fieldset>' +\r\n                  '</div>',\r\n    gridShowhide: '<li data-index=\"#index#\" class=\"datagrid-col-check\"><a href=\"javascript:;\"><i class=\"fa fa-check-square-o\"></i>#label#</a></li>',\r\n    gridEditBtn: '<button type=\"button\" class=\"btn-green edit\" data-icon=\"edit\">#edit#</button>' +\r\n                    '<button type=\"button\" class=\"btn-green update\" data-icon=\"edit\">#update#</button>' +\r\n                    '<button type=\"button\" class=\"btn-green save\" data-icon=\"check\">#save#</button>' +\r\n                    '<button type=\"button\" class=\"btn-orange cancel\" data-icon=\"undo\">#cancel#</button>' +\r\n                    '<button type=\"button\" class=\"btn-orange delete\" data-icon=\"remove\">#del#</button>',\r\n    gridDialogEditBtns: '<ul>' +\r\n                          '    <li class=\"pull-left\"><button type=\"button\" class=\"btn btn-orange prev\" data-icon=\"arrow-up\">#prev#</button></li>' +\r\n                          '    <li class=\"pull-left\"><button type=\"button\" class=\"btn btn-orange next\" data-icon=\"arrow-down\">#next#</button></li>' +\r\n                          '    <li><button type=\"button\" class=\"btn btn-red cancel\" data-icon=\"remove\">#cancel#</button></li>' +\r\n                          '    <li><button type=\"button\" class=\"btn btn-default save\" data-icon=\"save\">#save#</button></li>' +\r\n                          '</ul>',\r\n    alertBoxFrag: '<div id=\"bjui-alertMsgBox\" class=\"bjui-alert\"><div class=\"alertContent\"><div class=\"#type#\"><div class=\"alertInner\"><h1><i class=\"fa #fa#\"></i>#title#</h1><div class=\"msg\">#message#</div></div><div class=\"toolBar\"><ul>#btnFragment#</ul></div></div></div></div>',\r\n    alertBtnFrag: '<li><button class=\"btn btn-#class#\" rel=\"#callback#\" type=\"button\">#btnMsg#</button></li>',\r\n    calendarFrag: '<div id=\"bjui-calendar\">' +\r\n                      '    <div class=\"main\">' +\r\n                      '        <a class=\"close\" href=\"javascript:;\" title=\"#close#\"><i class=\"fa fa-times-circle\"></i></a>' +\r\n                      '        <div class=\"head\">' +\r\n                      '            <table width=\"100%\" border=\"0\" cellpadding=\"0\" cellspacing=\"2\">' +\r\n                      '                <tr>' +\r\n                      '                    <td width=\"20\"><a class=\"prev\" href=\"javascript:;\" title=\"#prev#\"><i class=\"fa fa-arrow-left\"></i></a></td>' +\r\n                      '                    <td><select name=\"year\"></select></td>' +\r\n                      '                    <td><select name=\"month\"></select></td>' +\r\n                      '                    <td width=\"20\"><a class=\"next\" href=\"javascript:;\" title=\"#next#\"><i class=\"fa fa-arrow-right\"></i></a></td>' +\r\n                      '                </tr>' +\r\n                      '            </table>' +\r\n                      '        </div>' +\r\n                      '        <div class=\"body\">' +\r\n                      '            <dl class=\"dayNames\"><dt>7</dt><dt>1</dt><dt>2</dt><dt>3</dt><dt>4</dt><dt>5</dt><dt>6</dt></dl>' +\r\n                      '            <dl class=\"days\"><!-- date list --></dl>' +\r\n                      '            <div style=\"clear:both;height:0;line-height:0\"></div>' +\r\n                      '        </div>' +\r\n                      '        <div class=\"foot\">' +\r\n                      '            <table class=\"time\">' +\r\n                      '                <tr>' +\r\n                      '                    <td>' +\r\n                      '                        <input type=\"text\" class=\"hh\" maxlength=\"2\" data-type=\"hh\" data-start=\"0\" data-end=\"23\">:<input' +\r\n                      '                         type=\"text\" class=\"mm\" maxlength=\"2\" data-type=\"mm\" data-start=\"0\" data-end=\"59\">:<input' +\r\n                      '                         type=\"text\" class=\"ss\" maxlength=\"2\" data-type=\"ss\" data-start=\"0\" data-end=\"59\">' +\r\n                      '                    </td>' +\r\n                      '                    <td><ul><li class=\"up\" data-add=\"1\">&and;</li><li class=\"down\">&or;</li></ul></td>' +\r\n                      '                </tr>' +\r\n                      '            </table>' +\r\n                      '            <button type=\"button\" class=\"clearBtn btn btn-orange\">#clear#</button>' +\r\n                      '            <button type=\"button\" class=\"okBtn btn btn-default\">#ok#</button>' +\r\n                      '        </div>' +\r\n                      '        <div class=\"tm\">' +\r\n                      '            <ul class=\"hh\">' +\r\n                      '                <li>0</li>' +\r\n                      '                <li>1</li>' +\r\n                      '                <li>2</li>' +\r\n                      '                <li>3</li>' +\r\n                      '                <li>4</li>' +\r\n                      '                <li>5</li>' +\r\n                      '                <li>6</li>' +\r\n                      '                <li>7</li>' +\r\n                      '                <li>8</li>' +\r\n                      '                <li>9</li>' +\r\n                      '                <li>10</li>' +\r\n                      '                <li>11</li>' +\r\n                      '                <li>12</li>' +\r\n                      '                <li>13</li>' +\r\n                      '                <li>14</li>' +\r\n                      '                <li>15</li>' +\r\n                      '                <li>16</li>' +\r\n                      '                <li>17</li>' +\r\n                      '                <li>18</li>' +\r\n                      '                <li>19</li>' +\r\n                      '                <li>20</li>' +\r\n                      '                <li>21</li>' +\r\n                      '                <li>22</li>' +\r\n                      '                <li>23</li>' +\r\n                      '            </ul>' +\r\n                      '            <ul class=\"mm\">' +\r\n                      '                <li>0</li>' +\r\n                      '                <li>5</li>' +\r\n                      '                <li>10</li>' +\r\n                      '                <li>15</li>' +\r\n                      '                <li>20</li>' +\r\n                      '                <li>25</li>' +\r\n                      '                <li>30</li>' +\r\n                      '                <li>35</li>' +\r\n                      '                <li>40</li>' +\r\n                      '                <li>45</li>' +\r\n                      '                <li>50</li>' +\r\n                      '                <li>55</li>' +\r\n                      '            </ul>' +\r\n                      '            <ul class=\"ss\">' +\r\n                      '                <li>0</li>' +\r\n                      '                <li>10</li>' +\r\n                      '                <li>20</li>' +\r\n                      '                <li>30</li>' +\r\n                      '                <li>40</li>' +\r\n                      '                <li>50</li>' +\r\n                      '            </ul>' +\r\n                      '        </div>' +\r\n                      '    </div>' +\r\n                      '</div>',\r\n    spinnerBtn: '<ul class=\"bjui-spinner\"><li class=\"up\" data-add=\"1\">&and;</li><li class=\"down\">&or;</li></ul>',\r\n    lookupBtn: '<a class=\"bjui-lookup\" href=\"javascript:;\" data-toggle=\"lookupbtn\"><i class=\"fa fa-search\"></i></a>',\r\n    dateBtn: '<a class=\"bjui-lookup\" href=\"javascript:;\" data-toggle=\"datepickerbtn\"><i class=\"fa fa-calendar\"></i></a>',\r\n    navtabCM: '<ul id=\"bjui-navtabCM\">' +\r\n                  '    <li rel=\"reload\"><span class=\"icon\"><i class=\"fa fa-refresh\"></i></span><span class=\"title\">#refresh#</span></li>' +\r\n                  '    <li rel=\"closeCurrent\"><span class=\"icon\"><i class=\"fa fa-remove\"></i></span><span class=\"title\">#close#</li>' +\r\n                  '    <li rel=\"closeOther\"><span class=\"icon\"><i class=\"fa fa-remove\"></i></span><span class=\"title\">#closeother#</li>' +\r\n                  '    <li rel=\"closeAll\"><span class=\"icon\"><i class=\"fa fa-remove\"></i></span><span class=\"title\">#closeall#</li>' +\r\n                  '</ul>',\r\n    dialogCM: '<ul id=\"bjui-dialogCM\">' +\r\n                  '    <li rel=\"reload\"><span class=\"icon\"><i class=\"fa fa-refresh\"></i></span><span class=\"title\">#refresh#</span></li>' +\r\n                  '    <li rel=\"closeCurrent\"><span class=\"icon\"><i class=\"fa fa-remove\"></i></span><span class=\"title\">#close#</span></li>' +\r\n                  '    <li rel=\"closeOther\"><span class=\"icon\"><i class=\"fa fa-remove\"></i></span><span class=\"title\">#closeother#</span></li>' +\r\n                  '    <li rel=\"closeAll\"><span class=\"icon\"><i class=\"fa fa-remove\"></i></span><span class=\"title\">#closeall#</span></li>' +\r\n                  '</ul>',\r\n    externalFrag: '<iframe src=\"{url}\" style=\"width:100%;height:{height};\" frameborder=\"no\" border=\"0\" marginwidth=\"0\" marginheight=\"0\"></iframe>',\r\n    uploadTemp: '<div id=\"{fileId}\" class=\"item\">' +\r\n                    '    <div class=\"info\">' +\r\n                    '        <span class=\"up_filename\">{fileName}</span><span class=\"up_confirm\" title=\"#upConfirm#\"><i class=\"fa fa-play-circle-o\"></i></span><span class=\"up_pause\" title=\"#upPause#\"><span class=\"glyphicon glyphicon-pause\"></span></span><span class=\"up_cancel\" title=\"#upCancel#\"><i class=\"fa fa-times-circle-o\"></i></span>' +\r\n                    '    </div>' +\r\n                    '    <div class=\"preview\"><span class=\"img\"></span></div>' +\r\n                    '    <div class=\"progress\"><div class=\"bar\"></div></div>' +\r\n                    '    <span class=\"percent\">{percent}</span>' +\r\n                    '    <span class=\"filesize\"><span class=\"uploadedsize\">{uploadedSize}</span>/<span class=\"totalsize\">{fileSize}</span></span>' +\r\n                    '</div>',\r\n    uploadFrag: '<input class=\"bjui-upload-select-file\" style=\"display:none;\" type=\"file\" name=\"fileselect[]\" #multi# accept=\"#accept#\">' +\r\n                    '<a href=\"javascript:void(0)\" class=\"btn btn-default bjui-upload-select\">#btnTxt#</a>' +\r\n                    '<div class=\"queue\"></div>',\r\n    statusCode_503: 'HTTP status 503, #statusCode_503#',\r\n    sessionTimout: '#sessiontimeout#',\r\n    alertPlhMsg: '#plhmsg#',\r\n    alertNoCheckGroup: '#nocheckgroup#',\r\n    alertNotChecked: '#notchecked#',\r\n    alertSelectMsg: '#selectmsg#',\r\n    validateErrorMsg: '#validatemsg#',\r\n    uiTitle: '#uititle#',\r\n    mainTabTitle: '#mynavtab#'\r\n  }\r\n}(jQuery))\r\n","/*!\r\n * B-JUI  v1.2 (http://b-jui.com)\r\n * Git@OSC (http://git.oschina.net/xknaan/B-JUI)\r\n * Copyright 2014 K'naan (xknaan@163.com).\r\n * Licensed under Apache (http://www.apache.org/licenses/LICENSE-2.0)\r\n */\r\n\r\n/* ========================================================================\r\n * B-JUI: bjui-initui.js  v1.2\r\n * @author K'naan (xknaan@163.com)\r\n * http://git.oschina.net/xknaan/B-JUI/blob/master/BJUI/js/bjui-initui.js\r\n * ========================================================================\r\n * Copyright 2014 K'naan.\r\n * Licensed under Apache (http://www.apache.org/licenses/LICENSE-2.0)\r\n * ======================================================================== */\r\n\r\n+(function($) {\r\n  'use strict'\r\n\r\n  // INITUI CLASS DEFINITION\r\n  // ======================\r\n  var Initui = function(element, options) {\r\n    this.$element = $(element)\r\n    this.options = options\r\n  }\r\n\r\n  Initui.DEFAULTS = {}\r\n\r\n  Initui.prototype.init = function() {\r\n    var that = this\r\n    var $element = that.$element\r\n\r\n    $.when(that.initUI()).done(function() {\r\n      $element.trigger(BJUI.eventType.afterInitUI)\r\n    })\r\n  }\r\n\r\n  Initui.prototype.initUI = function() {\r\n    var $element = this.$element\r\n\r\n    $.when($element.trigger(BJUI.eventType.beforeInitUI)).done(function() {\r\n      $element.trigger(BJUI.eventType.initUI)\r\n    })\r\n  }\r\n\r\n  // INITUI PLUGIN DEFINITION\r\n  // =======================\r\n\r\n  function Plugin(option) {\r\n    var args = arguments\r\n    var property = option\r\n\r\n    return this.each(function() {\r\n      var $this = $(this)\r\n      var options = $.extend({}, Initui.DEFAULTS, $this.data(), typeof option === 'object' && option)\r\n      var data = $this.data('bjui.initui')\r\n\r\n      if (!data) $this.data('bjui.initui', (data = new Initui(this, options)))\r\n\r\n      if (typeof property === 'string' && $.isFunction(data[property])) {\r\n        [].shift.apply(args)\r\n        if (!args) data[property]()\r\n        else data[property].apply(data, args)\r\n      } else {\r\n        data.init()\r\n      }\r\n    })\r\n  }\r\n\r\n  var old = $.fn.initui\r\n\r\n  $.fn.initui = Plugin\r\n  $.fn.initui.Constructor = Initui\r\n\r\n  // INITUI NO CONFLICT\r\n  // =================\r\n\r\n  $.fn.initui.noConflict = function() {\r\n    $.fn.initui = old\r\n    return this\r\n  }\r\n\r\n  // INITUI DATA-API\r\n  // ==============\r\n\r\n  $(document).on('click.bjui.initui.data-api', '[data-toggle=\"initui\"]', function(e) {\r\n    var $this = $(this)\r\n    Plugin.call($this, $this.data())\r\n\r\n    e.preventDefault()\r\n  })\r\n\r\n  /* beforeInitUI */\r\n  $(document).on(BJUI.eventType.beforeInitUI, function(e) {\r\n    var $box = $(e.target)\r\n    var noinits = []\r\n    var $noinit = $box.find('[data-noinit]')\r\n\r\n    // progress\r\n    $box.find('> .bjui-maskProgress').find('.progress').stop().animate({ width: '85%' }, 'fast')\r\n\r\n    // Hide not need to initialize the UI DOM\r\n    $noinit.each(function(i) {\r\n      var $this = $(this)\r\n      var pos = {}\r\n\r\n      pos.$target = $this\r\n      pos.$next = $this.next()\r\n      pos.$prev = $this.prev()\r\n      pos.$parent = $this.parent()\r\n      pos.visible = !!$this.is(':visible')\r\n\r\n      noinits.push(pos)\r\n      $this.remove()\r\n    })\r\n\r\n    $box.data('bjui.noinit', noinits)\r\n  })\r\n\r\n  /* initUI */\r\n  $(document).on(BJUI.eventType.initUI, function(e) {\r\n    var $box = $(e.target)\r\n\r\n    // progress\r\n    $box.find('> .bjui-maskProgress').find('.progress').stop().animate({ width: '95%' }, 'fast')\r\n  })\r\n\r\n  /* afterInitUI */\r\n  $(document).on(BJUI.eventType.afterInitUI, function(e) {\r\n    var $box = $(e.target)\r\n    var noinits = $box.data('bjui.noinit')\r\n    var $form = $box.find('> .bjui-pageContent').find('form')\r\n\r\n    // Recovery not need to initialize the UI DOM\r\n    if (noinits) {\r\n      $.each(noinits, function(i, n) {\r\n        if (n.$next.length) n.$next.before(n.$target)\r\n        else if (n.$prev.length) n.$prev.after(n.$target)\r\n        else if (n.$parent.length) n.$parent.append(n.$target)\r\n\r\n        if (n.visible) n.$target.show()\r\n\r\n        $box.removeData('bjui.noinit')\r\n      })\r\n    }\r\n\r\n    /* resizePageH */\r\n    $box.resizePageH()\r\n\r\n    // submit\r\n    if ($form.length) {\r\n      $box.find('> .bjui-pageFooter').find(':submit').on('click.bjui.submit', function(e) {\r\n        e.preventDefault()\r\n\r\n        $form.submit()\r\n      })\r\n    }\r\n\r\n    // progress\r\n    $box.find('.bjui-maskProgress').find('.progress').stop().animate({ width: '100%' }, 'fast', function() {\r\n      $box.find('.bjui-ajax-mask').fadeOut('normal', function() { $(this).remove() })\r\n    })\r\n  })\r\n\r\n  /* Lateral Navigation */\r\n  $(document).one(BJUI.eventType.afterInitUI, function(e) {\r\n    var $hnavbar = $('#bjui-hnav-navbar'); var $active = $hnavbar.find('> li.active')\r\n\r\n    if ($active.length && $active.find('> .items').length) {\r\n      $active.find('> a').trigger('click')\r\n    }\r\n  })\r\n\r\n  /* ajaxStatus */\r\n  var bjui_ajaxStatus = function($target) {\r\n    var $this = $target\r\n    var $offset = $this\r\n    var position = $this.css('position')\r\n\r\n    if (position === 'static') $offset = $this.offsetParent()\r\n\r\n    var zIndex = parseInt($offset.css('zIndex')) || 0\r\n    var $ajaxBackground = $this.find('> .bjui-maskBackground')\r\n    var $ajaxProgress = $this.find('> .bjui-maskProgress')\r\n\r\n    if (!$ajaxBackground.length) {\r\n      $ajaxBackground = $(FRAG.maskBackground)\r\n      $ajaxProgress = $(FRAG.maskProgress.replace('#msg#', BJUI.regional.progressmsg))\r\n      $this.prepend($ajaxBackground).prepend($ajaxProgress)\r\n    }\r\n\r\n    $ajaxBackground.css('zIndex', zIndex + 1)\r\n    $ajaxProgress.css('zIndex', zIndex + 2)\r\n\r\n    return { $bg: $ajaxBackground, $pr: $ajaxProgress }\r\n  }\r\n\r\n  $(document)\r\n    .on('bjui.ajaxStart', function(e, timeout, callback) {\r\n      var ajaxMask = bjui_ajaxStatus($(e.target))\r\n\r\n      ajaxMask.$bg.fadeIn()\r\n      ajaxMask.$pr.fadeIn()\r\n      ajaxMask.$pr.find('.progress').animate({ width: '80%' }, timeout || 500)\r\n\r\n      if (callback) {\r\n        setTimeout(function() {\r\n          callback.toFunc().call(this)\r\n        }, 25)\r\n      }\r\n    })\r\n    .on('bjui.ajaxStop', function(e) {\r\n      var ajaxMask = bjui_ajaxStatus($(e.target))\r\n\r\n      ajaxMask.$pr.find('.progress').animate({ width: '100%' }, 'fast', function() {\r\n        ajaxMask.$bg.remove()\r\n        ajaxMask.$pr.remove()\r\n      })\r\n    })\r\n    .on('bjui.ajaxError', function(e) {\r\n      var ajaxMask = bjui_ajaxStatus($(e.target))\r\n\r\n      ajaxMask.$bg.remove()\r\n      ajaxMask.$pr.remove()\r\n    })\r\n\r\n  $(document).on(BJUI.eventType.ajaxStatus, function(e) {\r\n    var $target = $(e.target); var ajaxMask = bjui_ajaxStatus($target)\r\n\r\n    $target\r\n      .one('ajaxStart', function() {\r\n        ajaxMask.$bg.fadeIn()\r\n        ajaxMask.$pr.fadeIn()\r\n\r\n        ajaxMask.$pr.find('.progress').animate({ width: '10%' }, 'fast')\r\n      })\r\n      .one('ajaxStop', function() {\r\n        // ajaxMask.$bg.fadeOut()\r\n        // ajaxMask.$pr.fadeOut()\r\n        // ajaxMask.$pr.find('.progress').animate({width:'80%'}, 'fast')\r\n      })\r\n      .one('ajaxError', function() {\r\n        ajaxMask.$bg.remove()\r\n        ajaxMask.$pr.remove()\r\n      })\r\n  })\r\n\r\n  /* Clean plugins generated 'Dom elements' in the body */\r\n  var bodyClear = function($target) {\r\n    $target.find('select[data-toggle=\"selectpicker\"]').selectpicker('destroyMenu')\r\n    $target.find('[data-toggle=\"selectztree\"]').trigger('destroy.bjui.selectztree')\r\n  }\r\n\r\n  $(document).on(BJUI.eventType.beforeLoadDialog, function(e) {\r\n\r\n  }).on(BJUI.eventType.beforeAjaxLoad, function(e) {\r\n    bodyClear($(e.target))\r\n  }).on(BJUI.eventType.beforeCloseNavtab, function(e) {\r\n    bodyClear($(e.target))\r\n  }).on(BJUI.eventType.beforeCloseDialog, function(e) {\r\n    bodyClear($(e.target))\r\n  })\r\n\r\n  /* other */\r\n  $(function() {\r\n    $(document).on('keydown keyup', function(e) {\r\n      if (e.which === BJUI.keyCode.CTRL) {\r\n        BJUI.KeyPressed.ctrl = e.type === 'keydown'\r\n      }\r\n      if (e.which === BJUI.keyCode.SHIFT) {\r\n        BJUI.KeyPressed.shift = e.type === 'keydown'\r\n      }\r\n    })\r\n  })\r\n}(jQuery))\r\n","/*!\r\n * B-JUI  v1.2 (http://b-jui.com)\r\n * Git@OSC (http://git.oschina.net/xknaan/B-JUI)\r\n * Copyright 2014 K'naan (xknaan@163.com).\r\n * Licensed under Apache (http://www.apache.org/licenses/LICENSE-2.0)\r\n */\r\n\r\n/* ========================================================================\r\n * B-JUI: bjui-lookup.js  v1.2\r\n * @author K'naan (xknaan@163.com)\r\n * -- Modified from dwz.database.js (author:ZhangHuihua@msn.com)\r\n * http://git.oschina.net/xknaan/B-JUI/blob/master/BJUI/js/bjui-lookup.js\r\n * ========================================================================\r\n * Copyright 2014 K'naan.\r\n * Licensed under Apache (http://www.apache.org/licenses/LICENSE-2.0)\r\n * ======================================================================== */\r\n\r\n+(function ($) {\r\n  'use strict'\r\n\r\n  // LOOKUP GLOBAL ELEMENTS\r\n  // ======================\r\n\r\n  var group, suffix, $currentLookup, arrayfix, beforeSelect\r\n\r\n  // LOOKUP CLASS DEFINITION\r\n  // ======================\r\n\r\n  var Lookup = function (element, options) {\r\n    this.$element = $(element)\r\n    this.options = options\r\n    this.$lookBtn = null\r\n  }\r\n\r\n  Lookup.DEFAULTS = {\r\n    url: null,\r\n    id: null,\r\n    mask: true,\r\n    width: 600,\r\n    height: 400,\r\n    title: 'Lookup',\r\n    maxable: true,\r\n    resizable: true,\r\n    arrayfix: null,\r\n    open: true,\r\n    addBtn: false,\r\n    beforeSelect: null // 选中目标赋值之前，返回false则停止赋值关闭窗口动作\r\n  }\r\n\r\n  Lookup.EVENTS = {\r\n    afterChange: 'afterchange.bjui.lookup'\r\n  }\r\n\r\n  Lookup.prototype.init = function () {\r\n    var that = this\r\n    var options = this.options\r\n\r\n    if (!options.url) {\r\n      BJUI.debug('Lookup Plugin: Error trying open a lookup dialog, url is undefined!')\r\n      return false\r\n    } else {\r\n      options.url = decodeURI(options.url).replacePlh(that.$element.closest('.unitBox'))\r\n      if (!options.url.isFinishedTm()) {\r\n        that.$element.alertmsg('error', (options.warn || FRAG.alertPlhMsg.replace('#plhmsg#', BJUI.regional.plhmsg)))\r\n        BJUI.debug('Lookup Plugin: The lookup\\'s url is incorrect, url:' + options.url)\r\n        return false\r\n      }\r\n      options.url = encodeURI(options.url)\r\n    }\r\n\r\n    group = this.options.group || null\r\n    suffix = this.options.suffix || null\r\n    arrayfix = this.options.arrayfix || null\r\n    $currentLookup = this.$element\r\n    if (suffix) suffix = suffix.trim()\r\n    if (options.beforeSelect) {\r\n      if (typeof options.beforeSelect === 'string') {\r\n        this.options.beforeSelect = options.beforeSelect.toFunc()\r\n      }\r\n    }\r\n\r\n    beforeSelect = this.options.beforeSelect\r\n\r\n\r\n    var isInit = $currentLookup.data('bjui.lookupinit')\r\n    if (!isInit) {\r\n      if (options.addBtn) {\r\n        this.addBtn()\r\n      }\r\n      if (options.open) {\r\n        this.open(that.$element)\r\n      }\r\n      $currentLookup.data('bjui.lookupinit', true)\r\n    } else {\r\n      $currentLookup.data('bjui.lookupinit', true)\r\n      this.open(that.$element)\r\n    }\r\n  }\r\n\r\n  Lookup.prototype.addBtn = function () {\r\n    var that = this;\r\n    var $element = that.$element\r\n\r\n    if (!this.$lookBtn && !$element.parent().hasClass('wrap_bjui_btn_box')) {\r\n      this.$lookBtn = $(FRAG.lookupBtn)\r\n      this.$element.css({'paddingRight': '15px'}).wrap('<span class=\"wrap_bjui_btn_box\"></span>')\r\n\r\n      var $box = this.$element.parent()\r\n      var height = this.$element.addClass('form-control').innerHeight()\r\n\r\n      $box.css({'position': 'relative', 'display': 'inline-block'})\r\n\r\n      $.each(that.options, function (key, val) {\r\n        if (key !== 'toggle') that.$lookBtn.data(key, val)\r\n      })\r\n      that.$lookBtn.data('bjui.lookupinit', true)\r\n      this.$lookBtn.css({'height': height, 'lineHeight': height + 'px'}).appendTo($box)\r\n      this.$lookBtn.on('selectstart', function () {\r\n        return false\r\n      })\r\n    }\r\n  }\r\n\r\n  Lookup.prototype.open = function ($obj) {\r\n    var options = this.options\r\n\r\n    $obj.dialog({\r\n      id: options.id || 'lookup_dialog',\r\n      url: options.url,\r\n      title: options.title,\r\n      width: options.width,\r\n      height: options.height,\r\n      mask: options.mask,\r\n      maxable: options.maxable,\r\n      resizable: options.resizable\r\n    })\r\n  }\r\n\r\n  Lookup.prototype.getField = function (key) {\r\n    if (arrayfix) {\r\n      key = arrayfix + '[' + key + ']'\r\n    }\r\n    return (group ? (group + '.') : '') + (key) + (suffix || '')\r\n  }\r\n\r\n  Lookup.prototype.setSingle = function (args, type) {\r\n    if (typeof args === 'string') {\r\n      args = new Function('return ' + args)()\r\n    }\r\n\r\n    if (this.beforeSelect(args, [args], type)) {\r\n      this.setVal(args, type)\r\n    }\r\n  }\r\n\r\n  Lookup.prototype.setMult = function (id, type) {\r\n    var args = {}\r\n    var argsArr = []\r\n    var $unitBox = this.$element.closest('.unitBox')\r\n\r\n    $unitBox.find('[name=\"' + id + '\"]').filter(':checked').each(function () {\r\n      var _args = new Function('return ' + $(this).val())()\r\n\r\n      if (typeof _args === 'object') {\r\n        argsArr.push(_args)\r\n      }\r\n      for (var key in _args) {\r\n        if (_args.hasOwnProperty(key)) {\r\n          var value = args[key] ? args[key] + ',' : ''\r\n\r\n          args[key] = value + _args[key]\r\n        }\r\n      }\r\n    })\r\n\r\n    if ($.isEmptyObject(args)) {\r\n      this.$element.alertmsg('error', this.$element.data('warn') || FRAG.alertSelectMsg)\r\n      return\r\n    }\r\n\r\n    if (this.beforeSelect(args, argsArr, type)) {\r\n      this.setVal(args, type)\r\n    }\r\n  }\r\n\r\n  Lookup.prototype.beforeSelect = function (args, argsArray, type) {\r\n    if (beforeSelect) {\r\n      if (beforeSelect(args, argsArray, type) === false) {\r\n        return false\r\n      }\r\n    }\r\n    return true\r\n  }\r\n\r\n  Lookup.prototype.setVal = function (args, type) {\r\n    var that = this\r\n    var $box = $currentLookup.closest('.unitBox')\r\n    var newValue /* @description 增加 @author 小策一喋 */\r\n\r\n    // for datagrid\r\n    if ($currentLookup.data('customEvent')) {\r\n      $currentLookup.trigger('customEvent.bjui.lookup', [args])\r\n    } else {\r\n      $box.find(':input').each(function () {\r\n        var $input = $(this)\r\n        var inputName = $input.attr('name')\r\n\r\n        for (var key in args) {\r\n          if (args.hasOwnProperty(key)) {\r\n            var name = that.getField(key)\r\n\r\n            if (name === inputName) {\r\n              /* @description 增加 追加参数 @author 小策一喋 */\r\n              if (parseInt(type) === 1) {\r\n                newValue = $input.val() ? $input.val() + ',' + args[key] : args[key]\r\n              } else {\r\n                newValue = args[key]\r\n              }\r\n\r\n              $input\r\n                .val(newValue) /* @description 修改 args[key] 为 newValue @author 小策一喋 */\r\n                .trigger(Lookup.EVENTS.afterChange, {value: args[key]})\r\n\r\n              break\r\n            }\r\n          }\r\n        }\r\n      })\r\n    }\r\n\r\n    this.$element.dialog('closeCurrent')\r\n  }\r\n\r\n  // LOOKUP PLUGIN DEFINITION\r\n  // =======================\r\n\r\n  function Plugin(option) {\r\n    var args = arguments\r\n    var property = option\r\n\r\n    return this.each(function () {\r\n      var $this = $(this)\r\n      var options = $.extend({}, Lookup.DEFAULTS, $this.data(), typeof option === 'object' && option)\r\n      var data = $this.data('bjui.lookup')\r\n\r\n      if (!data) {\r\n        /* 修复未实例化前添加newurl无效*/\r\n        if ($this.data('newurl')) {\r\n          options.url = $this.data('newurl')\r\n        }\r\n        $this.data('bjui.lookup', (data = new Lookup(this, options)))\r\n      } else if ($this.data('newurl')) {\r\n        data.options.url = $this.data('newurl')\r\n        $this.data('bjui.dialog', null)\r\n      }\r\n      if (typeof property === 'string' && $.isFunction(data[property])) {\r\n        [].shift.apply(args)\r\n        if (!args) data[property]()\r\n        else data[property].apply(data, args)\r\n      } else {\r\n        data.init()\r\n      }\r\n    })\r\n  }\r\n\r\n  var old = $.fn.lookup\r\n\r\n  $.fn.lookup = Plugin\r\n  $.fn.lookup.Constructor = Lookup\r\n\r\n  // LOOKUP NO CONFLICT\r\n  // =================\r\n\r\n  $.fn.lookup.noConflict = function () {\r\n    $.fn.lookup = old\r\n    return this\r\n  }\r\n\r\n  // LOOKUP DATA-API\r\n  // ==============\r\n\r\n  $(document).on(BJUI.eventType.initUI, function (e) {\r\n    var $this = $(e.target).find('[data-toggle=\"lookup\"]')\r\n\r\n    if (!$this.length) return\r\n\r\n    Plugin.call($this, 'addBtn')\r\n  })\r\n\r\n  $(document).on('click.bjui.lookup.data-api', '[data-toggle=\"lookupbtn\"]', function (e) {\r\n    var $this = $(this)\r\n\r\n    if ($this.attr('href') && !$this.data('url')) $this.attr('data-url', $this.attr('href'))\r\n    if (!$this.data('title')) $this.attr('data-title', $this.text())\r\n\r\n    Plugin.call($this)\r\n\r\n    e.preventDefault()\r\n  })\r\n\r\n  $(document).on('click.bjui.lookupback.data-api', '[data-toggle=\"lookupback\"]', function (e) {\r\n    var $this = $(this)\r\n    var args = $this.data('args')\r\n    var mult = $this.data('lookupid')\r\n    var type = $('input[name=\"lookupType\"]:checked').val() /* @description 新增 获取是否追加框值 @author 小策一喋 */\r\n\r\n    /* @description 修改 增加type参数 @author 小策一喋 */\r\n    if (args) {\r\n      Plugin.call($this, 'setSingle', args, type)\r\n    } else if (mult) {\r\n      Plugin.call($this, 'setMult', mult, type)\r\n    }\r\n\r\n    e.preventDefault()\r\n  })\r\n}(jQuery))\r\n","/**\r\n * BJUI 框架相关插件兼容处理\r\n * 使用方法： BJUI.ModuleFixed.func\r\n */\r\n+(function($) {\r\n  'use strict'\r\n\r\n  function ModuleFixed() {\r\n  }\r\n\r\n  /**\r\n   * 销毁实例，一般在dialog/navtab重载或关闭前使用\r\n   * @param $selector 需处理的dialog/navtab jquery对象\r\n   */\r\n  ModuleFixed.prototype.destroyModules = function($selector) {\r\n    try {\r\n      // ie9 uploadify 销毁\r\n      var uploadify = $selector.find('.bjui-upload > .uploadify')\r\n      if (uploadify.length) {\r\n        uploadify.uploadify('destroy')\r\n      }\r\n      // colorpicker 销毁\r\n      var colorpicker = $selector.find('[data-toggle=\"colorpicker\"]')\r\n      if (colorpicker.length) {\r\n        colorpicker.colorpicker('destroy')\r\n      }\r\n      var selectpicker = $selector.find('[data-toggle=\"selectpicker\"]')\r\n      if (selectpicker.length) {\r\n        selectpicker.selectpicker('destroy')\r\n      }\r\n    }\r\n     catch (e) {\r\n      BJUI.debug(e)\r\n    }\r\n  }\r\n\r\n  BJUI.ModuleFixed = new ModuleFixed()\r\n\r\n})(jQuery)\r\n","/*!\r\n * B-JUI  v1.2 (http://b-jui.com)\r\n * Git@OSC (http://git.oschina.net/xknaan/B-JUI)\r\n * Copyright 2014 K'naan (xknaan@163.com).\r\n * Licensed under Apache (http://www.apache.org/licenses/LICENSE-2.0)\r\n */\r\n\r\n/* ========================================================================\r\n * B-JUI: bjui-navtab.js  v1.2\r\n * @author K'naan (xknaan@163.com)\r\n * -- Modified from dwz.navTab.js (author:ZhangHuihua@msn.com)\r\n * http://git.oschina.net/xknaan/B-JUI/blob/master/BJUI/js/bjui-navtab.js\r\n * ========================================================================\r\n * Copyright 2014 K'naan.\r\n * Licensed under Apache (http://www.apache.org/licenses/LICENSE-2.0)\r\n * ======================================================================== */\r\n\r\n+(function($) {\r\n  'use strict'\r\n\r\n  // NAVTAB GLOBAL ELEMENTS\r\n  // ======================\r\n\r\n  var currentIndex, $currentTab, $currentPanel, $box, $tabs, $panels, $prevBtn, $nextBtn, $moreBtn, $moreBox, $main, $mainLi\r\n  var autorefreshTimer\r\n\r\n  $(function() {\r\n    var INIT_NAVTAB = function() {\r\n      currentIndex = 0\r\n      $box = $('#bjui-navtab')\r\n      $tabs = $box.find('.navtab-tab')\r\n      $panels = $box.find('.navtab-panel')\r\n      $prevBtn = $box.find('.tabsLeft')\r\n      $nextBtn = $box.find('.tabsRight')\r\n      $moreBtn = $box.find('.tabsMore')\r\n      $moreBox = $box.find('.tabsMoreList')\r\n      $main = $tabs.find('li:first')\r\n      $mainLi = $moreBox.find('li:first')\r\n\r\n      $prevBtn.click(function() { $(this).navtab('scrollPrev') })\r\n      $nextBtn.click(function() { $(this).navtab('scrollNext') })\r\n      $moreBtn.click(function() { $moreBox.show() })\r\n\r\n      $(document).on('click.bjui.navtab.switchtab', function(e) {\r\n        var $target = e.target.tagName === 'I' ? $(e.target).parent() : $(e.target)\r\n        if ($moreBtn[0] !== $target[0]) {\r\n          $moreBox.hide()\r\n        }\r\n      })\r\n\r\n      var mainTit, options\r\n\r\n      $main\r\n        .navtab('contextmenu', $main)\r\n        .click(function() { $(this).navtab('switchTab', 'main') })\r\n        .find('> a > span').html(function(n, c) { return (mainTit = c.replace('#maintab#', BJUI.regional.maintab)) })\r\n\r\n      options = $.extend({}, Navtab.DEFAULTS, $main.data(), { id: 'main', title: mainTit })\r\n\r\n      $main.data('initOptions', options).data('options', options)\r\n\r\n      if ($main.attr('data-url')) {\r\n        $(document).one(BJUI.eventType.initUI, function(e) {\r\n          $main.removeAttr('data-url').navtab('reload', options)\r\n        })\r\n      }\r\n\r\n      setTimeout(function() {\r\n        $main.navtab('switchTab', 'main')\r\n      }, 50)\r\n\r\n      $mainLi\r\n        .click(function() {\r\n          if ($(this).hasClass('active')) $moreBox.hide()\r\n          else $(this).navtab('switchTab', 'main')\r\n        })\r\n        .find('> a').html(function(n, c) { return c.replace('#maintab#', BJUI.regional.maintab) })\r\n    }\r\n\r\n    INIT_NAVTAB()\r\n  })\r\n\r\n  // NAVTAB CLASS DEFINITION\r\n  // ======================\r\n\r\n  var Navtab = function(element, options) {\r\n    this.$element = $(element)\r\n    this.options = options\r\n    this.tools = this.TOOLS()\r\n  }\r\n\r\n  Navtab.DEFAULTS = {\r\n    id: undefined,\r\n    title: 'New tab',\r\n    url: undefined,\r\n    type: 'GET',\r\n    data: {},\r\n    loadingmask: true,\r\n    fresh: false,\r\n    autorefresh: false,\r\n    onLoad: null,\r\n    beforeClose: null,\r\n    onClose: null\r\n  }\r\n\r\n  Navtab.prototype.TOOLS = function() {\r\n    var that = this\r\n    return {\r\n      getDefaults: function() {\r\n        return Navtab.DEFAULTS\r\n      },\r\n      getTabs: function() {\r\n        return $tabs.find('> li')\r\n      },\r\n      getPanels: function() {\r\n        return $panels.find('> div')\r\n      },\r\n      getMoreLi: function() {\r\n        return $moreBox.find('> li')\r\n      },\r\n      getTab: function(tabid) {\r\n        var index = this.indexTabId(tabid)\r\n\r\n        if (index >= 0) return this.getTabs().eq(index)\r\n      },\r\n      getPanel: function(tabid) {\r\n        var index = this.indexTabId(tabid)\r\n\r\n        if (index >= 0) return this.getPanels().eq(index)\r\n      },\r\n      getTabsW: function(iStart, iEnd) {\r\n        return this.tabsW(this.getTabs().slice(iStart, iEnd))\r\n      },\r\n      tabsW: function($tabs) {\r\n        var iW = 0\r\n        $tabs.each(function() {\r\n          iW += $(this).outerWidth(true)\r\n        })\r\n\r\n        return iW\r\n      },\r\n      indexTabId: function(tabid) {\r\n        if (!tabid) return -1\r\n\r\n        var iOpenIndex = -1\r\n\r\n        this.getTabs().each(function(index) {\r\n          if ($(this).data('initOptions').id === tabid) {\r\n            iOpenIndex = index\r\n          }\r\n        })\r\n        return iOpenIndex\r\n      },\r\n      getLeft: function() {\r\n        return $tabs.position().left\r\n      },\r\n      getScrollBarW: function() {\r\n        return $box.width() - 55\r\n      },\r\n      visibleStart: function() {\r\n        var iLeft = this.getLeft()\r\n        var iW = 0\r\n        var $tabs = this.getTabs()\r\n        for (var i = 0; i < $tabs.length; i++) {\r\n          if (iW + iLeft >= 0) return i\r\n          iW += $tabs.eq(i).outerWidth(true)\r\n        }\r\n\r\n        return 0\r\n      },\r\n      visibleEnd: function() {\r\n        var iLeft = this.getLeft()\r\n        var iW = 0\r\n        var $tabs = this.getTabs()\r\n\r\n        for (var i = 0; i < $tabs.length; i++) {\r\n          iW += $tabs.eq(i).outerWidth(true)\r\n          if (iW + iLeft > this.getScrollBarW()) return i\r\n        }\r\n\r\n        return $tabs.length\r\n      },\r\n      scrollPrev: function() {\r\n        var iStart = this.visibleStart()\r\n\r\n        if (iStart > 0) {\r\n          this.scrollTab(-this.getTabsW(0, iStart - 1))\r\n        }\r\n      },\r\n      scrollNext: function() {\r\n        var iEnd = this.visibleEnd()\r\n\r\n        if (iEnd < this.getTabs().length) {\r\n          this.scrollTab(-this.getTabsW(0, iEnd + 1) + this.getScrollBarW())\r\n        }\r\n      },\r\n      scrollTab: function(iLeft, isNext) {\r\n        $tabs.animate({ left: iLeft }, 200, function() {\r\n          that.tools.ctrlScrollBtn()\r\n        })\r\n      },\r\n      scrollCurrent: function() { // auto scroll current tab\r\n        var iW = this.tabsW(this.getTabs())\r\n        var scrollW = this.getScrollBarW()\r\n\r\n        if (iW <= scrollW) {\r\n          this.scrollTab(0)\r\n        } else if (this.getLeft() < scrollW - iW) {\r\n          this.scrollTab(scrollW - iW)\r\n        } else if (currentIndex < this.visibleStart()) {\r\n          this.scrollTab(-this.getTabsW(0, currentIndex))\r\n        } else if (currentIndex >= this.visibleEnd()) {\r\n          this.scrollTab(scrollW - this.getTabs().eq(currentIndex).outerWidth(true) - this.getTabsW(0, currentIndex))\r\n        }\r\n      },\r\n      ctrlScrollBtn: function() {\r\n        var iW = this.tabsW(this.getTabs())\r\n\r\n        if (this.getScrollBarW() > iW) {\r\n          $prevBtn.hide()\r\n          $nextBtn.hide()\r\n          $tabs.parent().removeClass('tabsPageHeaderMargin')\r\n        } else {\r\n          $prevBtn.show().removeClass('tabsLeftDisabled')\r\n          $nextBtn.show().removeClass('tabsRightDisabled')\r\n          $tabs.parent().addClass('tabsPageHeaderMargin')\r\n          if (this.getLeft() >= 0) {\r\n            $prevBtn.addClass('tabsLeftDisabled')\r\n          } else if (this.getLeft() <= this.getScrollBarW() - iW) {\r\n            $nextBtn.addClass('tabsRightDisabled')\r\n          }\r\n        }\r\n      },\r\n      switchTab: function(iTabIndex) {\r\n        var $tab = this.getTabs().removeClass('active').eq(iTabIndex).addClass('active')\r\n        var $panels = this.getPanels()\r\n        var $panel = $panels.eq(iTabIndex)\r\n        var onSwitch = that.options.onSwitch ? that.options.onSwitch.toFunc() : null\r\n\r\n        if ($tab.data('reloadFlag')) {\r\n          $panels.hide()\r\n          $panel.show()\r\n          that.refresh($tab.data('initOptions').id)\r\n        } else {\r\n          $panels.hide()\r\n          if ($panel.find('.bjui-ajax-mask').length) {\r\n            $panel.show()\r\n          } else {\r\n            $panel.addClass('fade').removeClass('in').show()\r\n            if ($.support.transition) {\r\n              $panel.one('bsTransitionEnd', function() {\r\n                $panel.addClass('in')\r\n              }).emulateTransitionEnd(10)\r\n            } else {\r\n              $panel.removeClass('fade')\r\n            }\r\n          }\r\n        }\r\n\r\n        this.getMoreLi().removeClass('active').eq(iTabIndex).addClass('active')\r\n        currentIndex = iTabIndex\r\n        this.scrollCurrent()\r\n        $currentTab = $tab\r\n        $.CurrentNavtab = $currentPanel = $panel\r\n\r\n        if (onSwitch) onSwitch.apply(that)\r\n\r\n        // events\r\n        $panel.trigger('bjui.navtab.switch')\r\n      },\r\n      closeTab: function(index, openTabid) {\r\n        var $tab = this.getTabs().eq(index)\r\n        var $more = this.getMoreLi().eq(index)\r\n        var $panel = this.getPanels().eq(index)\r\n        var options = $tab.data('options')\r\n        var beforeClose = options.beforeClose ? options.beforeClose.toFunc() : null\r\n        var onClose = options.onClose ? options.onClose.toFunc() : null\r\n        var canClose = true\r\n\r\n        if (beforeClose) canClose = beforeClose.apply(that, [$panel])\r\n        if (!canClose) {\r\n          that.tools.switchTab(index)\r\n          return\r\n        }\r\n        BJUI.ModuleFixed.destroyModules($panel)\r\n        $tab.remove()\r\n        $more.remove()\r\n        $panel.trigger(BJUI.eventType.beforeCloseNavtab).remove()\r\n\r\n        if (autorefreshTimer) clearInterval(autorefreshTimer)\r\n        if (onClose) onClose.apply(that)\r\n        if (currentIndex >= index) currentIndex--\r\n        if (openTabid) {\r\n          var openIndex = this.indexTabId(openTabid)\r\n\r\n          if (openIndex > 0) currentIndex = openIndex\r\n        }\r\n\r\n        this.scrollCurrent()\r\n        this.switchTab(currentIndex)\r\n      },\r\n      closeOtherTab: function(index) {\r\n        index = index || currentIndex\r\n\r\n        this.getTabs().each(function(i) {\r\n          if (i > 0 && index !== i) $(this).find('> .close').trigger('click')\r\n        })\r\n      },\r\n      loadUrlCallback: function($panel) {\r\n        $panel.find(':button.btn-close').click(function() {\r\n          that.closeCurrentTab()\r\n        })\r\n      },\r\n      reload: function($tab, flag) {\r\n        flag = flag || $tab.data('reloadFlag')\r\n\r\n        var options = $tab.data('options')\r\n\r\n        if (flag) {\r\n          $tab.data('reloadFlag', false)\r\n          var $panel = that.tools.getPanel(options.id)\r\n\r\n          if ($tab.hasClass('external')) {\r\n            that.openExternal(options.url, $panel)\r\n          } else {\r\n            that.tools.reloadTab($panel, options)\r\n          }\r\n        }\r\n      },\r\n      reloadTab: function($panel, options) {\r\n        var onLoad = options.onLoad ? options.onLoad.toFunc() : null\r\n\r\n        var arefre = options.autorefresh && (isNaN(String(options.autorefresh)) ? 15 : options.autorefresh)\r\n\r\n        BJUI.ModuleFixed.destroyModules($panel)\r\n        if (options.data) {\r\n          options.data = (typeof options.data === 'object') ? options.data : options.data.toObj()\r\n        }\r\n\r\n        $panel\r\n          .trigger(BJUI.eventType.beforeLoadNavtab)\r\n          .ajaxUrl({\r\n            type: (options.type || 'GET'),\r\n            url: options.url,\r\n            data: options.data || {},\r\n            loadingmask: options.loadingmask,\r\n            callback: function(response) {\r\n              that.tools.loadUrlCallback($panel)\r\n              if (onLoad) onLoad.apply(that, [$panel])\r\n              if (autorefreshTimer) clearInterval(autorefreshTimer)\r\n              if (arefre) {\r\n                autorefreshTimer = setInterval(function() {\r\n                  $panel.navtab('refresh')\r\n                }, arefre * 1000)\r\n              }\r\n              if (BJUI.ui.clientPaging && $panel.data('bjui.clientPaging')) $panel.pagination('setPagingAndOrderby', $panel)\r\n            }\r\n          })\r\n      }\r\n    }\r\n  }\r\n\r\n  Navtab.prototype.contextmenu = function($obj) {\r\n    var that = this\r\n    $obj.contextmenu({\r\n      id: 'navtabCM',\r\n      bindings: {\r\n        reload: function(t, m) {\r\n          that.refresh(t.data('initOptions').id)\r\n        },\r\n        closeCurrent: function(t, m) {\r\n          var tabId = t.data('initOptions').id\r\n\r\n          if (tabId) that.closeTab(tabId)\r\n          else that.closeCurrentTab()\r\n        },\r\n        closeOther: function(t, m) {\r\n          if (t.index() === 0) {\r\n            that.closeAllTab()\r\n          } else {\r\n            var index = that.tools.indexTabId(t.data('initOptions').id)\r\n\r\n            that.tools.closeOtherTab(index > 0 ? index : currentIndex)\r\n          }\r\n        },\r\n        closeAll: function(t, m) {\r\n          that.closeAllTab()\r\n        }\r\n      },\r\n      ctrSub: function(t, m) {\r\n        var mReload = m.find('[rel=\"reload\"]')\r\n        var mCur = m.find('[rel=\"closeCurrent\"]')\r\n\r\n        if (t.index() === 0) {\r\n          mCur.addClass('disabled')\r\n          if (!t.data('url')) mReload.addClass('disabled')\r\n        }\r\n      }\r\n    })\r\n  }\r\n\r\n  // if found tabid replace tab, else create a new tab.\r\n  Navtab.prototype.openTab = function() {\r\n    var that = this\r\n    var $element = this.$element\r\n    var options = this.options\r\n    var tools = this.tools\r\n\r\n    if (!options.url && options.href) options.url = options.href\r\n    if (!options.url) {\r\n      BJUI.debug('Navtab Plugin: Error trying to open a navtab, url is undefined!')\r\n      return\r\n    } else {\r\n      options.url = decodeURI(options.url).replacePlh($element.closest('.unitBox'))\r\n\r\n      if (!options.url.isFinishedTm()) {\r\n        $element.alertmsg('error', (options.warn || FRAG.alertPlhMsg.replace('#plhmsg#', BJUI.regional.plhmsg)))\r\n        BJUI.debug('Navtab Plugin: The new navtab\\'s url is incorrect, url: ' + options.url)\r\n        return\r\n      }\r\n\r\n      options.url = encodeURI(options.url)\r\n    }\r\n\r\n    var iOpenIndex = options.id ? tools.indexTabId(options.id) : currentIndex\r\n\r\n    if (!options.id && !BJUI.ui.overwriteHomeTab && iOpenIndex === 0) {\r\n      options.id = 'navtab'\r\n      iOpenIndex = -1\r\n    }\r\n\r\n    var $tab\r\n    var $panel\r\n    if (iOpenIndex >= 0) {\r\n      if (!options.id) delete options.id\r\n\r\n      $tab = tools.getTabs().eq(iOpenIndex)\r\n      $panel = tools.getPanels().eq(iOpenIndex)\r\n      var initOp = $tab.data('initOptions')\r\n      var op = $.extend({}, initOp, options)\r\n\r\n      if (initOp.fresh || options.fresh || initOp.url !== options.url) {\r\n        that.reload(op)\r\n      }\r\n\r\n      currentIndex = iOpenIndex\r\n    } else {\r\n      var tabFrag = '<li><a href=\"javascript:\" title=\"#title#\"><span>#title#</span></a><span class=\"close\">&times;</span></li>'\r\n      $tab = $(tabFrag.replaceAll('#title#', options.title))\r\n      $panel = $('<div class=\"navtabPage unitBox\"></div>')\r\n      var $more = $('<li><a href=\"javascript:\" title=\"#title#\">#title#</a></li>'.replaceAll('#title#', options.title))\r\n\r\n      $tab.appendTo($tabs)\r\n      $panel.appendTo($panels)\r\n      $more.appendTo($moreBox)\r\n\r\n      $tab.data('options', options).data('initOptions', options)\r\n\r\n      if (options.external || (options.url && options.url.isExternalUrl())) {\r\n        $tab.addClass('external')\r\n        this.openExternal(options.url, $panel)\r\n      } else {\r\n        $tab.removeClass('external')\r\n        tools.reloadTab($panel, options)\r\n      }\r\n\r\n      currentIndex = tools.getTabs().length - 1\r\n      this.contextmenu($tab)\r\n\r\n      // events\r\n      $tab.on('click', function(e) {\r\n        var $target = $(e.target)\r\n\r\n        if ($target.hasClass('close')) { that.closeTab(options.id) } else if ($target.closest('li').hasClass('active')) { return false } else { that.switchTab(options.id) }\r\n      })\r\n      $more.on('click', function() {\r\n        that.switchTab(options.id)\r\n      })\r\n    }\r\n\r\n    tools.switchTab(currentIndex)\r\n    tools.scrollCurrent()\r\n  }\r\n\r\n  Navtab.prototype.closeTab = function(tabid) {\r\n    var index = this.tools.indexTabId(tabid)\r\n\r\n    if (index > 0) { this.tools.closeTab(index) }\r\n  }\r\n\r\n  Navtab.prototype.closeCurrentTab = function(openTabid) { // openTabid can be empty. close current tab by default, and open the last tab\r\n    if (currentIndex > 0) { this.tools.closeTab(currentIndex, openTabid) }\r\n  }\r\n\r\n  Navtab.prototype.closeAllTab = function() {\r\n    this.tools.getTabs().find('> .close').each(function() {\r\n      $(this).trigger('click')\r\n    })\r\n  }\r\n\r\n  Navtab.prototype.reloadFlag = function(tabids) {\r\n    var arr = tabids.split(',')\r\n\r\n    for (var i = 0; i < arr.length; i++) {\r\n      var $tab = this.tools.getTab(arr[i].trim())\r\n\r\n      if ($tab) {\r\n        if (this.tools.indexTabId(arr[i]) === currentIndex) this.tools.reload($tab, true)\r\n        else $tab.data('reloadFlag', true)\r\n      }\r\n    }\r\n  }\r\n\r\n  Navtab.prototype.switchTab = function(tabid) {\r\n    var index = this.tools.indexTabId(tabid)\r\n\r\n    this.tools.switchTab(index)\r\n  }\r\n\r\n  Navtab.prototype.scrollPrev = function() {\r\n    this.tools.scrollPrev()\r\n  }\r\n\r\n  Navtab.prototype.scrollNext = function() {\r\n    this.tools.scrollNext()\r\n  }\r\n\r\n  Navtab.prototype.refresh = function(tabid) {\r\n    var $tab, $panel\r\n\r\n    if (!tabid) {\r\n      $tab = $currentTab\r\n    } else if (typeof tabid === 'string') {\r\n      $tab = this.tools.getTab(tabid)\r\n    } else {\r\n      $tab = tabid\r\n    }\r\n\r\n    if ($tab && $tab.length) {\r\n      $panel = this.tools.getPanel($tab.data('initOptions').id)\r\n      $panel.removeData('bjui.clientPaging')\r\n\r\n      this.reload($tab.data('initOptions'))\r\n    }\r\n  }\r\n\r\n  Navtab.prototype.reload = function(option, initOptionFlag) {\r\n    var that = this\r\n    var options = $.extend({}, typeof option === 'object' && option)\r\n    var $tab = options.id ? this.tools.getTab(options.id) : this.tools.getTabs().eq(currentIndex)\r\n\r\n    if ($tab) {\r\n      var initOptions = $tab.data('initOptions') || {}\r\n      var op = $.extend({}, initOptions, options)\r\n      var _reload = function() {\r\n        if (initOptions.title !== op.title) $tab.find('> a').attr('title', op.title).find('> span').html(op.title)\r\n        if (!initOptionFlag) $tab.data('initOptions', op)\r\n        $tab.data('options', op)\r\n        that.tools.reload($tab, true)\r\n      }\r\n\r\n      if (options.reloadWarn) {\r\n        this.$element.alertmsg('confirm', options.reloadWarn, {\r\n          okCall: function() {\r\n            _reload()\r\n          }\r\n        })\r\n      } else {\r\n        _reload()\r\n      }\r\n    }\r\n  }\r\n\r\n  Navtab.prototype.reloadForm = function(clearQuery, option) {\r\n    var options = $.extend({}, typeof option === 'object' && option)\r\n    var $tab, $panel\r\n\r\n    if (typeof option === 'string') {\r\n      $tab = this.tools.getTab(option)\r\n      $panel = this.tools.getPanel(option)\r\n    } else {\r\n      $tab = options.id ? this.tools.getTab(options.id) : this.tools.getTabs().eq(currentIndex)\r\n      $panel = options.id ? this.tools.getPanel(options.id) : this.tools.getPanels().eq(currentIndex)\r\n    }\r\n    if ($tab && $panel) {\r\n      if (!$tab.hasClass('external')) {\r\n        var $pagerForm = $panel.find('#pagerForm'); var data = {}; var pageData = {}\r\n\r\n        if ($pagerForm.attr('action')) options.url = $pagerForm.attr('action')\r\n        if ($pagerForm && $pagerForm.length) {\r\n          pageData = $pagerForm.serializeJson()\r\n          if (!option || !option.type) options.type = $pagerForm.attr('method') || 'POST'\r\n          if (clearQuery) {\r\n            var pageInfo = BJUI.pageInfo\r\n\r\n            /* 修复navtab清空查询对排序无效bug */\r\n            pageData[pageInfo['orderDirection']] = pageData[pageInfo['orderField']] = ''\r\n            if ($panel.data('bjui.clientPaging')) {\r\n              $panel.data('bjui.clientPaging').orderDirection = $panel.data('bjui.clientPaging').orderField = ''\r\n            }\r\n            /* end */\r\n            for (var key in pageInfo) {\r\n              if (pageInfo.hasOwnProperty(key)) {\r\n                data[pageInfo[key]] = pageData[pageInfo[key]]\r\n              }\r\n            }\r\n          } else {\r\n            data = pageData\r\n          }\r\n          options.data = $.extend({}, options.data || {}, data)\r\n        }\r\n      }\r\n      this.reload(options, true)\r\n    }\r\n  }\r\n\r\n  Navtab.prototype.getCurrentPanel = function() {\r\n    return this.tools.getPanels().eq(currentIndex)\r\n  }\r\n\r\n  Navtab.prototype.closeOtherTab = function() {\r\n\t  return this.tools.closeOtherTab()\r\n  }\r\n\r\n  Navtab.prototype.checkTimeout = function() {\r\n    var json = JSON.parse($currentPanel.html())\r\n\r\n    if (json && json[BJUI.keys.statusCode] === BJUI.statusCode.timeout) this.closeCurrentTab()\r\n  }\r\n\r\n  Navtab.prototype.openExternal = function(url, $panel) {\r\n    var ih = $panel.closest('.navtab-panel').height()\r\n\r\n    $panel.html(FRAG.externalFrag.replaceAll('{url}', url).replaceAll('{height}', ih + 'px'))\r\n  }\r\n\r\n  // NAVTAB PLUGIN DEFINITION\r\n  // =======================\r\n\r\n  function Plugin(option) {\r\n    var args = arguments\r\n    var property = option\r\n\r\n    return this.each(function() {\r\n      var $this = $(this)\r\n      var options = $.extend({}, Navtab.DEFAULTS, typeof option === 'object' && option)\r\n      var data = $this.data('bjui.navtab')\r\n\r\n      if (!data) $this.data('bjui.navtab', (data = new Navtab(this, options)))\r\n\r\n      if (typeof property === 'string' && $.isFunction(data[property])) {\r\n        [].shift.apply(args)\r\n        if (!args) data[property]()\r\n        else data[property].apply(data, args)\r\n      } else {\r\n        data = new Navtab(this, options)\r\n        data.openTab()\r\n      }\r\n    })\r\n  }\r\n  var old = $.fn.navtab\r\n\r\n  $.fn.navtab = Plugin\r\n  $.fn.navtab.Constructor = Navtab\r\n\r\n  // NAVTAB NO CONFLICT\r\n  // =================\r\n\r\n  $.fn.navtab.noConflict = function() {\r\n    $.fn.navtab = old\r\n    return this\r\n  }\r\n\r\n  // NAVTAB DATA-API\r\n  // ==============\r\n\r\n  $(document).on('click.bjui.navtab.data-api', '[data-toggle=\"navtab\"]', function(e) {\r\n    var $this = $(this); var href = $this.attr('href'); var data = $this.data(); var options = data.options\r\n    if (options) {\r\n      if (typeof options === 'string') options = options.toObj()\r\n      if (typeof options === 'object') { $.extend(data, options) }\r\n    }\r\n\r\n    if (!data.title) data.title = $this.text()\r\n    if (href && !data.url) data.url = href\r\n\r\n    Plugin.call($this, data)\r\n\r\n    e.preventDefault()\r\n  })\r\n}(jQuery))\r\n","/*!\r\n * B-JUI  v1.2 (http://b-jui.com)\r\n * Git@OSC (http://git.oschina.net/xknaan/B-JUI)\r\n * Copyright 2014 K'naan (xknaan@163.com).\r\n * Licensed under Apache (http://www.apache.org/licenses/LICENSE-2.0)\r\n */\r\n\r\n/* ========================================================================\r\n * B-JUI: bjui-pagination.js  v1.2\r\n * @author K'naan (xknaan@163.com)\r\n * -- Modified from dwz.pagination.js (author:ZhangHuihua@msn.com)\r\n * http://git.oschina.net/xknaan/B-JUI/blob/master/BJUI/js/bjui-pagination.js\r\n * ========================================================================\r\n * Copyright 2014 K'naan.\r\n * Licensed under Apache (http://www.apache.org/licenses/LICENSE-2.0)\r\n * ======================================================================== */\r\n\r\n+(function($) {\r\n  'use strict'\r\n\r\n  // PAGINATION CLASS DEFINITION\r\n  // ======================\r\n\r\n  var Pagination = function(element, options) {\r\n    this.$element = $(element)\r\n    this.options = options\r\n    this.tools = this.TOOLS()\r\n  }\r\n\r\n  Pagination.DEFAULTS = {\r\n    first: 'li.j-first',\r\n    prev: 'li.j-prev',\r\n    next: 'li.j-next',\r\n    last: 'li.j-last',\r\n    nums: 'li.j-num > a',\r\n    jump: 'li.jumpto',\r\n    pageNumFrag: '<li class=\"#liClass#\"><a href=\"javascript:;\">#pageNum#</a></li>',\r\n    total: 0,\r\n    pageSize: 10,\r\n    pageNum: 10,\r\n    pageCurrent: 1,\r\n    callback: function() { return false }\r\n  }\r\n\r\n  Pagination.prototype.TOOLS = function() {\r\n    var options = this.options\r\n    return {\r\n      pageNums: function() {\r\n        return Math.ceil(options.total / options.pageSize)\r\n      },\r\n      getInterval: function() {\r\n        var ne_half = Math.ceil(options.pageNum / 2)\r\n        var pn = this.pageNums()\r\n        var upper_limit = pn - options.pageNum\r\n        var start = this.getCurrentPage() > ne_half ? Math.max(Math.min(this.getCurrentPage() - ne_half, upper_limit), 0) : 0\r\n        var end = this.getCurrentPage() > ne_half ? Math.min(this.getCurrentPage() + ne_half, pn) : Math.min(options.pageNum, pn)\r\n\r\n        return { start: start + 1, end: end + 1 }\r\n      },\r\n      getCurrentPage: function() {\r\n        var pageCurrent = parseInt(options.pageCurrent)\r\n\r\n        return (isNaN(pageCurrent)) ? 1 : pageCurrent\r\n      },\r\n      hasPrev: function() {\r\n        return this.getCurrentPage() > 1\r\n      },\r\n      hasNext: function() {\r\n        return this.getCurrentPage() < this.pageNums()\r\n      }\r\n    }\r\n  }\r\n\r\n  Pagination.prototype.init = function() {\r\n    if (BJUI.ui.clientPaging && !this.getClientPaging()) this.setClientPaging({ pageCurrent: this.options.pageCurrent, pageSize: this.options.pageSize })\r\n\r\n    var that = this\r\n    var options = this.options\r\n    var tools = this.tools\r\n    var interval = tools.getInterval()\r\n    var pageNumFrag = ''\r\n    var pagination = FRAG.pagination\r\n    var pr = BJUI.regional.pagination\r\n\r\n    for (var i = interval.start; i < interval.end; i++) {\r\n      pageNumFrag += options.pageNumFrag.replaceAll('#pageNum#', i).replaceAll('#liClass#', i === tools.getCurrentPage() ? 'selected j-num' : 'j-num')\r\n    }\r\n\r\n    pagination =\r\n      pagination\r\n        .replaceAll('#pageNumFrag#', pageNumFrag)\r\n        .replaceAll('#pageCurrent#', tools.getCurrentPage())\r\n        .replaceAll('#first#', pr.first)\r\n        .replaceAll('#last#', pr.last)\r\n        .replaceAll('#prev#', pr.prev)\r\n        .replaceAll('#next#', pr.next)\r\n        .replaceAll('#jumpto#', pr.jumpto)\r\n        .replaceAll('#jump#', pr.jump)\r\n\r\n    this.$element.html(pagination)\r\n\r\n    var $first = this.$element.find(options.first)\r\n    var $prev = this.$element.find(options.prev)\r\n    var $next = this.$element.find(options.next)\r\n    var $last = this.$element.find(options.last)\r\n\r\n    if (tools.hasPrev()) {\r\n      $first.add($prev).find('> span').hide()\r\n      _bindEvent($prev, tools.getCurrentPage() - 1)\r\n      _bindEvent($first, 1)\r\n    } else {\r\n      $first.add($prev).addClass('disabled').find('> a').hide()\r\n    }\r\n    if (tools.hasNext()) {\r\n      $next.add($last).find('> span').hide()\r\n      _bindEvent($next, tools.getCurrentPage() + 1)\r\n      _bindEvent($last, tools.pageNums())\r\n    } else {\r\n      $next.add($last).addClass('disabled').find('> a').hide()\r\n    }\r\n\r\n    this.$element.find(options.nums).each(function(i) {\r\n      _bindEvent($(this), i + interval.start)\r\n    })\r\n\r\n    this.$element.find(options.jump).each(function() {\r\n      var $inputBox = $(this).find(':text')\r\n      var $button = $(this).find('.goto')\r\n\r\n      $button.on('click', function() {\r\n        var pageCurrent = $inputBox.val(); var pagingInfo = { pageCurrent: pageCurrent, pageSize: options.pageSize }\r\n\r\n        if (pageCurrent && pageCurrent.isPositiveInteger()) {\r\n          that.setClientPaging(pagingInfo)\r\n          $(this).bjuiajax('pageCallback', pagingInfo, that.$element.closest('.bjui-layout'))\r\n        }\r\n      })\r\n\r\n      $inputBox.keyup(function(e) {\r\n        if (e.keyCode === BJUI.keyCode.ENTER) $button.trigger('click')\r\n      })\r\n    })\r\n\r\n    function _bindEvent($target, pageCurrent) {\r\n      $target.on('click', function(e) {\r\n        var pagingInfo = { pageCurrent: pageCurrent, pageSize: that.options.pageSize }\r\n\r\n        that.setClientPaging(pagingInfo)\r\n        $(this).bjuiajax('pageCallback', pagingInfo, that.$element.closest('.bjui-layout'))\r\n\r\n        e.preventDefault()\r\n      })\r\n    }\r\n  }\r\n\r\n  Pagination.prototype.changePagesize = function() {\r\n    var that = this; var pageSize = that.$element.val(); var pagingInfo = { pageSize: pageSize }\r\n\r\n    if (!isNaN(pageSize)) {\r\n      that.setClientPaging(pagingInfo)\r\n      that.$element.bjuiajax('pageCallback', pagingInfo, that.$element.closest('.bjui-layout'))\r\n    }\r\n  }\r\n\r\n  Pagination.prototype.orderBy = function(options) {\r\n    var that = this\r\n\r\n    that.$element.css({ cursor: 'pointer' }).click(function() {\r\n      var orderField = $(this).data('orderField')\r\n      var orderDirection = $(this).data('orderDirection')\r\n      var orderInfo = { orderField: orderField, orderDirection: orderDirection }\r\n\r\n      that.setClientPaging(orderInfo)\r\n      $(this).bjuiajax('pageCallback', orderInfo, that.$element.closest('.bjui-layout'))\r\n    })\r\n  }\r\n\r\n  Pagination.prototype.destroy = function() {\r\n    this.$element.removeData('bjui.pagination').empty()\r\n  }\r\n\r\n  Pagination.prototype.getTarget = function() {\r\n    var that = this; var $target\r\n\r\n    if (that.$element.closest('.bjui-layout').length) $target = that.$element.closest('.bjui-layout')\r\n    else if (that.$element.closest('.navtab-panel').length) $target = $.CurrentNavtab\r\n    else $target = $.CurrentDialog\r\n\r\n    return $target\r\n  }\r\n\r\n  Pagination.prototype.getClientPaging = function() {\r\n    return this.getTarget().data('bjui.clientPaging')\r\n  }\r\n\r\n  Pagination.prototype.setClientPaging = function(clientPaging) {\r\n    if (BJUI.ui.clientPaging) {\r\n      var $target = this.getTarget()\r\n\r\n      $target.data('bjui.clientPaging', $.extend({}, $target.data('bjui.clientPaging') || {}, clientPaging))\r\n    }\r\n  }\r\n\r\n  Pagination.prototype.setClientOrder = function(clientOrder) {\r\n    if (BJUI.ui.clientPaging) {\r\n      var clientPaging = this.getClientPaging()\r\n\r\n      if (!clientPaging || !clientPaging.orderField) this.setClientPaging(clientOrder)\r\n    }\r\n  }\r\n\r\n  Pagination.prototype.setPagingAndOrderby = function($target) {\r\n    var clientPaging = $target.data('bjui.clientPaging')\r\n\r\n    $target.find('[data-toggle=\"pagination\"]')\r\n      .pagination('destroy')\r\n      .pagination(clientPaging)\r\n\r\n    if (clientPaging.pageSize) { $target.find('select[data-toggle-change=\"changepagesize\"]').selectpicker('val', clientPaging.pageSize) }\r\n    if (clientPaging.orderField) { $target.find('th[data-order-field=\"' + clientPaging.orderField + '\"]').addClass(clientPaging.orderDirection).siblings().removeClass('asc desc') }\r\n  }\r\n\r\n  // PAGINATION PLUGIN DEFINITION\r\n  // =======================\r\n\r\n  function Plugin(option) {\r\n    var args = arguments\r\n    var property = option\r\n\r\n    return this.each(function() {\r\n      var $this = $(this)\r\n      var options = $.extend({}, Pagination.DEFAULTS, $this.data(), typeof option === 'object' && option)\r\n      var data = $this.data('bjui.pagination')\r\n\r\n      if (!data) $this.data('bjui.pagination', (data = new Pagination(this, options)))\r\n      if (typeof property === 'string' && $.isFunction(data[property])) {\r\n        [].shift.apply(args)\r\n        if (!args) data[property]()\r\n        else data[property].apply(data, args)\r\n      } else {\r\n        data.init()\r\n      }\r\n    })\r\n  }\r\n\r\n  var old = $.fn.pagination\r\n\r\n  $.fn.pagination = Plugin\r\n  $.fn.pagination.Constructor = Pagination\r\n\r\n  // PAGINATION NO CONFLICT\r\n  // =================\r\n\r\n  $.fn.pagination.noConflict = function() {\r\n    $.fn.pagination = old\r\n    return this\r\n  }\r\n\r\n  // PAGINATION DATA-API\r\n  // ==============\r\n\r\n  $(document).on(BJUI.eventType.initUI, function(e) {\r\n    var $this = $(e.target).find('[data-toggle=\"pagination\"]')\r\n\r\n    if (!$this.length) return\r\n\r\n    Plugin.call($this)\r\n  })\r\n\r\n  $(document).on('change.bjui.pagination.data-api', 'select[data-toggle-change=\"changepagesize\"]', function(e) {\r\n    var $this = $(this)\r\n\r\n    Plugin.call($this, 'changePagesize')\r\n\r\n    e.preventDefault()\r\n  })\r\n}(jQuery))\r\n","/*!\r\n * B-JUI  v1.2 (http://b-jui.com)\r\n * Git@OSC (http://git.oschina.net/xknaan/B-JUI)\r\n * Copyright 2014 K'naan (xknaan@163.com).\r\n * Licensed under Apache (http://www.apache.org/licenses/LICENSE-2.0)\r\n */\r\n\r\n/* ========================================================================\r\n * B-JUI: bjui-plugins.js  v1.2\r\n * @author K'naan (xknaan@163.com)\r\n * http://git.oschina.net/xknaan/B-JUI/blob/master/BJUI/js/bjui-plugins.js\r\n * ========================================================================\r\n * Copyright 2014 K'naan.\r\n * Licensed under Apache (http://www.apache.org/licenses/LICENSE-2.0)\r\n * ======================================================================== */\r\n\r\n+(function($) {\r\n  'use strict'\r\n\r\n  $(document).on(BJUI.eventType.initUI, function(e) {\r\n    var $box = $(e.target)\r\n\r\n    // UI init begin...\r\n\r\n    var $boolCheck = $box.find('[data-toggle=\"boolcheck\"]')\r\n\r\n    $boolCheck.each(function(i) {\r\n      var $element = $(this)\r\n      var name = $element.attr('name')\r\n      $element.removeAttr('name')\r\n      var $input\r\n      if (name) {\r\n        var value = $element.is(':checked') ? 1 : 0\r\n        $input = $('<input type=\"hidden\" value=\"'+value+'\" name=\"'+name+'\">').appendTo($element.parent())\r\n      }\r\n      $element\r\n        .iCheck({\r\n          checkboxClass: 'icheckbox_minimal-purple',\r\n          radioClass: 'iradio_minimal-purple',\r\n          increaseArea: '20%' // optional\r\n        })\r\n        .on('ifChecked', function() {\r\n          if ($input) {\r\n            $input.val(1)\r\n          }\r\n        })\r\n        .on('ifUnchecked', function() {\r\n          if ($input) {\r\n            $input.val(0)\r\n          }\r\n        })\r\n    })\r\n\r\n    /* i-check */\r\n    var $icheck = $box.find('[data-toggle=\"icheck\"]')\r\n\r\n    $icheck.each(function(i) {\r\n      var $element = $(this)\r\n\r\n      var id = $element.attr('id')\r\n\r\n      var name = $element.attr('name')\r\n\r\n      var label = $element.data('label')\r\n\r\n      if (label) $element.after('<label for=\"' + id + '\" class=\"ilabel\">' + label + '</label>')\r\n\r\n      $element\r\n        .on('ifCreated', function(e) {\r\n          /* Fixed validate msgbox position */\r\n          var $parent = $(this).closest('div')\r\n\r\n          var $ilabel = $parent.next('[for=\"' + id + '\"]')\r\n\r\n          $parent.attr('data-icheck', name)\r\n          $ilabel.attr('data-icheck', name)\r\n        })\r\n        .iCheck({\r\n          checkboxClass: 'icheckbox_minimal-purple',\r\n          radioClass: 'iradio_minimal-purple',\r\n          increaseArea: '20%' // optional\r\n        })\r\n        .on('ifChanged', function() {\r\n          /* Trigger validation */\r\n          $(this).trigger('validate')\r\n        })\r\n\r\n      if ($element.prop('disabled')) $element.iCheck('disable')\r\n    })\r\n    /* i-check check all */\r\n    $icheck.filter('.checkboxCtrl').on('ifChanged', function(e) {\r\n      var checked = e.target.checked === true ? 'check' : 'uncheck'\r\n      var group = $(this).data('group')\r\n\r\n      $box.find(':checkbox[name=\"' + group + '\"]').iCheck(checked)\r\n    })\r\n\r\n    /* fixed ui style */\r\n    $box.find(':text, :password, textarea, :button, a.btn').each(function() {\r\n      var $element = $(this)\r\n      var icon\r\n      var _icon\r\n      var $tabledit = $element.closest('table.bjui-tabledit')\r\n\r\n      if (($element.is(':text') || $element.is(':password') || $element.isTag('textarea')) && !$element.hasClass('form-control')) {\r\n        $element.addClass('form-control')\r\n      }\r\n      if ($element.is(':button')) {\r\n        icon = $element.data('icon')\r\n        var oldClass = $element.attr('class')\r\n\r\n        if (!$element.hasClass('btn')) { $element.removeClass().addClass('btn').addClass(oldClass) }\r\n        if (icon) {\r\n          _icon = 'fa-' + icon.replace('fa-', '')\r\n\r\n          if (!$element.data('bjui.icon')) {\r\n            $element.html('<i class=\"fa ' + _icon + '\"></i> ' + $element.html())\r\n              .data('bjui.icon', true)\r\n          }\r\n        }\r\n      }\r\n      if ($element.isTag('a')) {\r\n        icon = $element.data('icon')\r\n\r\n        if (icon) {\r\n          _icon = 'fa-' + icon.replace('fa-', '')\r\n\r\n          if (!$element.data('bjui.icon')) {\r\n            $element.html('<i class=\"fa ' + _icon + '\"></i> ' + $element.html())\r\n              .data('bjui.icon', true)\r\n          }\r\n        }\r\n      }\r\n      if ($element.isTag('textarea')) {\r\n        var toggle = $element.data('toggle')\r\n\r\n        if (toggle && toggle === 'autoheight' && $.fn.autosize) $element.addClass('autosize').autosize()\r\n      }\r\n      if (!$tabledit.length) {\r\n        // 添加size%支持\r\n        var size = $element.attr('size') || $element.attr('cols')\r\n        if (!size) return\r\n        var width = 0\r\n        if (size.charAt(size.length - 1) !== '%') {\r\n          width = size * 10\r\n        } else {\r\n          width = size\r\n        }\r\n        if (width) $element.css('width', width)\r\n      }\r\n    })\r\n\r\n    /* form validate */\r\n    $box.find('form[data-toggle=\"validate\"]').each(function() {\r\n      var $element = $(this)\r\n      var alertmsg = (typeof $element.data('alertmsg') === 'undefined') ? true : $element.data('alertmsg')\r\n\r\n      $(this)\r\n        .validator({\r\n          valid: function(form) {\r\n            $(form).bjuiajax('ajaxForm', $(form).data())\r\n          },\r\n          validClass: 'ok',\r\n          theme: 'red_right_effect'\r\n        })\r\n        .on('invalid.form', function(e, form, errors) {\r\n          if (alertmsg) $(form).alertmsg('error', FRAG.validateErrorMsg.replace('#validatemsg#', BJUI.regional.validatemsg).replaceMsg(errors.length))\r\n        })\r\n    })\r\n\r\n    /* moreSearch */\r\n    $box.find('[data-toggle=\"moresearch\"]').each(function() {\r\n      var $element = $(this)\r\n\r\n      var $parent = $element.closest('.bjui-pageHeader')\r\n\r\n      var $more = $parent && $parent.find('.bjui-moreSearch')\r\n\r\n      var name = $element.data('name')\r\n\r\n      if (!$element.attr('title')) $element.attr('title', '更多查询条件')\r\n      $element.click(function(e) {\r\n        if (!$more.length) {\r\n          BJUI.debug('Not created \\'moresearch\\' box[class=\"bjui-moreSearch\"]!')\r\n          return\r\n        }\r\n        $more.css('top', $parent.outerHeight() - 1)\r\n        if ($more.is(':visible')) {\r\n          $element.html('<i class=\"fa fa-angle-double-down\"></i>')\r\n          if (name) $('body').data('moresearch.' + name, false)\r\n        } else {\r\n          $element.html('<i class=\"fa fa-angle-double-up\"></i>')\r\n          if (name) $('body').data('moresearch.' + name, true)\r\n        }\r\n        $more.fadeToggle('slow', 'linear')\r\n\r\n        e.preventDefault()\r\n      })\r\n\r\n      if (name && $('body').data('moresearch.' + name)) {\r\n        $more.css('top', $parent.outerHeight() - 1).fadeIn()\r\n        $element.html('<i class=\"fa fa-angle-double-up\"></i>')\r\n      }\r\n    })\r\n\r\n    /* bootstrap - select */\r\n    var $selectpicker = $box.find('select[data-toggle=\"selectpicker\"]')\r\n    var bjui_select_linkage = function($obj, $next) {\r\n      var refurl = $obj.data('refurl')\r\n      var _setEmpty = function($select) {\r\n        var $_nextselect = $($select.data('nextselect'))\r\n\r\n        if ($_nextselect && $_nextselect.length) {\r\n          var emptytxt = $_nextselect.data('emptytxt') || '&nbsp;'\r\n\r\n          $_nextselect.html('<option>' + emptytxt + '</option>').selectpicker('refresh')\r\n          _setEmpty($_nextselect)\r\n        }\r\n      }\r\n\r\n      if (($next && $next.length) && refurl) {\r\n        var val = $obj.data('val'); var nextVal = $next.data('val')\r\n\r\n        if (typeof val === 'undefined') val = $obj.val()\r\n        $.ajax({\r\n          type: 'POST',\r\n          dataType: 'json',\r\n          url: refurl.replace('{value}', encodeURIComponent(val)),\r\n          cache: false,\r\n          data: {},\r\n          success: function(json) {\r\n            if (!json) return\r\n\r\n            var html = ''; var selected = ''\r\n\r\n            $.each(json, function(i) {\r\n              var value, label\r\n\r\n              if (json[i] && json[i].length) {\r\n                value = json[i][0]\r\n                label = json[i][1]\r\n              } else {\r\n                value = json[i].value\r\n                label = json[i].label\r\n              }\r\n              if (typeof nextVal !== 'undefined') selected = value === nextVal ? ' selected' : ''\r\n              html += '<option value=\"' + value + '\"' + selected + '>' + label + '</option>'\r\n            })\r\n\r\n            $obj.removeAttr('data-val').removeData('val')\r\n            $next.removeAttr('data-val').removeData('val')\r\n\r\n            if (!html) {\r\n              html = $next.data('emptytxt') || '&nbsp;'\r\n              html = '<option>' + html + '</option>'\r\n            }\r\n\r\n            $next.html(html).selectpicker('refresh')\r\n            _setEmpty($next)\r\n          },\r\n          error: BJUI.ajaxError\r\n        })\r\n      }\r\n    }\r\n\r\n    $selectpicker.each(function() {\r\n      var $element = $(this)\r\n      var options = $element.data()\r\n      var $next = $(options.nextselect)\r\n\r\n      $element.addClass('show-tick')\r\n      if (!options.style) $element.data('style', 'btn-default')\r\n      if (!options.width) $element.data('width', 'auto')\r\n      if (!options.container) $element.data('container', 'body')\r\n      else if (options.container === true) $element.attr('data-container', 'false').data('container', false)\r\n\r\n      $element.selectpicker()\r\n\r\n      if ($next && $next.length && (typeof $next.data('val') !== 'undefined')) { bjui_select_linkage($element, $next) }\r\n    })\r\n\r\n    /* bootstrap - select - linkage && Trigger validation */\r\n    $selectpicker.change(function() {\r\n      var $element = $(this)\r\n      var $nextselect = $($element.data('nextselect'))\r\n\r\n      bjui_select_linkage($element, $nextselect)\r\n\r\n      /* Trigger validation */\r\n      if ($element.attr('aria-required')) {\r\n        $element.trigger('validate')\r\n      }\r\n    })\r\n\r\n    /* zTree - plugin */\r\n    $box.find('[data-toggle=\"ztree\"]').each(function() {\r\n      var $this = $(this); var op = $this.data(); var options = op.options; var _setting\r\n\r\n      if (options && typeof options === 'string') options = options.toObj()\r\n      if (options) $.extend(op, typeof options === 'object' && options)\r\n\r\n      _setting = op.setting\r\n\r\n      if (!op.nodes) {\r\n        op.nodes = []\r\n        $this.find('> li').each(function() {\r\n          var $li = $(this)\r\n          var node = $li.data()\r\n\r\n          if (node.pid) node.pId = node.pid\r\n          node.name = $li.html()\r\n          op.nodes.push(node)\r\n        })\r\n        $this.empty()\r\n      } else {\r\n        if (typeof op.nodes === 'string') {\r\n          if (op.nodes.trim().startsWith('[') || op.nodes.trim().startsWith('{')) {\r\n            op.nodes = op.nodes.toObj()\r\n          } else {\r\n            op.nodes = op.nodes.toFunc()\r\n          }\r\n        }\r\n        if (typeof op.nodes === 'function') {\r\n          op.nodes = op.nodes.call(this)\r\n        }\r\n\r\n        $this.removeAttr('data-nodes')\r\n      }\r\n\r\n      if (!op.showRemoveBtn) op.showRemoveBtn = false\r\n      if (!op.showRenameBtn) op.showRenameBtn = false\r\n      if (op.addHoverDom && typeof op.addHoverDom !== 'function') op.addHoverDom = (op.addHoverDom === 'edit') ? _addHoverDom : op.addHoverDom.toFunc()\r\n      if (op.removeHoverDom && typeof op.removeHoverDom !== 'function') op.removeHoverDom = (op.removeHoverDom === 'edit') ? _removeHoverDom : op.removeHoverDom.toFunc()\r\n      if (!op.maxAddLevel) op.maxAddLevel = 2\r\n\r\n      var setting = {\r\n        view: {\r\n          addHoverDom: op.addHoverDom || null,\r\n          removeHoverDom: op.removeHoverDom || null,\r\n          addDiyDom: op.addDiyDom ? op.addDiyDom.toFunc() : null\r\n        },\r\n        edit: {\r\n          enable: op.editEnable,\r\n          showRemoveBtn: op.showRemoveBtn,\r\n          showRenameBtn: op.showRenameBtn\r\n        },\r\n        check: {\r\n          enable: op.checkEnable,\r\n          chkStyle: op.chkStyle,\r\n          radioType: op.radioType\r\n        },\r\n        callback: {\r\n          onClick: op.onClick ? op.onClick.toFunc() : null,\r\n          beforeDrag: op.beforeDrag ? op.beforeDrag.toFunc() : _beforeDrag,\r\n          beforeDrop: op.beforeDrop ? op.beforeDrop.toFunc() : _beforeDrop,\r\n          onDrop: op.onDrop ? op.onDrop.toFunc() : null,\r\n          onCheck: op.onCheck ? op.onCheck.toFunc() : null,\r\n          beforeRemove: op.beforeRemove ? op.beforeRemove.toFunc() : null,\r\n          onRemove: op.onRemove ? op.onRemove.toFunc() : null,\r\n          onNodeCreated: _onNodeCreated,\r\n          onCollapse: _onCollapse,\r\n          onExpand: _onExpand\r\n        },\r\n        data: {\r\n          simpleData: {\r\n            enable: op.simpleData || true\r\n          },\r\n          key: {\r\n            title: op.title || ''\r\n          }\r\n        }\r\n      }\r\n\r\n      if (_setting && typeof _setting === 'string') _setting = _setting.toObj()\r\n      if (_setting) $.extend(true, setting, typeof _setting === 'object' && _setting)\r\n\r\n      $.fn.zTree.init($this, setting, op.nodes)\r\n\r\n      var IDMark_A = '_a'\r\n      var zTree = $.fn.zTree.getZTreeObj($this.attr('id'))\r\n\r\n      if (op.expandAll) zTree.expandAll(true)\r\n\r\n      // onCreated\r\n      function _onNodeCreated(event, treeId, treeNode) {\r\n        if (treeNode.faicon) {\r\n          var $a = $('#' + treeNode.tId + '_a')\r\n\r\n          if (!$a.data('faicon')) {\r\n            $a.data('faicon', true)\r\n              .addClass('faicon')\r\n              .find('> span.button').append('<i class=\"fa fa-' + treeNode.faicon + '\"></i>')\r\n          }\r\n        }\r\n        if (op.onNodeCreated) {\r\n          op.onNodeCreated.toFunc().call(this, event, treeId, treeNode)\r\n        }\r\n      }\r\n      // onCollapse\r\n      function _onCollapse(event, treeId, treeNode) {\r\n        if (treeNode.faiconClose) {\r\n          $('#' + treeNode.tId + '_ico').find('> i').attr('class', 'fa fa-' + treeNode.faiconClose)\r\n        }\r\n        if (op.onCollapse) {\r\n          op.onCollapse.toFunc().call(this, event, treeId, treeNode)\r\n        }\r\n      }\r\n      // onExpand\r\n      function _onExpand(event, treeId, treeNode) {\r\n        if (treeNode.faicon && treeNode.faiconClose) {\r\n          $('#' + treeNode.tId + '_ico').find('> i').attr('class', 'fa fa-' + treeNode.faicon)\r\n        }\r\n        if (op.onExpand) {\r\n          op.onExpand.toFunc().call(this, event, treeId, treeNode)\r\n        }\r\n      }\r\n      // add button, del button\r\n      function _addHoverDom(treeId, treeNode) {\r\n        var level = treeNode.level\r\n        var $obj = $('#' + treeNode.tId + IDMark_A)\r\n        var $add = $('#diyBtn_add_' + treeNode.id)\r\n        var $del = $('#diyBtn_del_' + treeNode.id)\r\n\r\n        if (!$add.length) {\r\n          if (level < op.maxAddLevel) {\r\n            $add = $('<span class=\"tree_add\" id=\"diyBtn_add_' + treeNode.id + '\" title=\"添加\"></span>')\r\n            $add.appendTo($obj)\r\n            $add.on('click', function() {\r\n              zTree.addNodes(treeNode, { name: '新增Item' })\r\n            })\r\n          }\r\n        }\r\n\r\n        if (!$del.length) {\r\n          $del = $('<span class=\"tree_del\" id=\"diyBtn_del_' + treeNode.id + '\" title=\"删除\"></span>')\r\n\r\n          $del\r\n            .appendTo($obj)\r\n            .on('click', function(event) {\r\n              var delFn = function() {\r\n                $del.alertmsg('confirm', '确认要删除 ' + treeNode.name + ' 吗？', {\r\n                  okCall: function() {\r\n                    zTree.removeNode(treeNode)\r\n                    if (op.onRemove) {\r\n                      var fn = op.onRemove.toFunc()\r\n\r\n                      if (fn) fn.call(this, event, treeId, treeNode)\r\n                    }\r\n                  },\r\n                  cancelCall: function() {\r\n                  }\r\n                })\r\n              }\r\n\r\n              if (op.beforeRemove) {\r\n                var fn = op.beforeRemove.toFunc()\r\n\r\n                if (fn) {\r\n                  var isdel = fn.call(fn, treeId, treeNode)\r\n\r\n                  if (isdel && isdel === true) delFn()\r\n                }\r\n              } else {\r\n                delFn()\r\n              }\r\n            }\r\n            )\r\n        }\r\n      }\r\n\r\n      // remove add button && del button\r\n      function _removeHoverDom(treeId, treeNode) {\r\n        var $add = $('#diyBtn_add_' + treeNode.id)\r\n        var $del = $('#diyBtn_del_' + treeNode.id)\r\n\r\n        if ($add && $add.length) {\r\n          $add.off('click').remove()\r\n        }\r\n\r\n        if ($del && $del.length) {\r\n          $del.off('click').remove()\r\n        }\r\n      }\r\n\r\n      // Drag\r\n      function _beforeDrag(treeId, treeNodes) {\r\n        for (var i = 0; i < treeNodes.length; i++) {\r\n          if (treeNodes[i].drag === false) {\r\n            return false\r\n          }\r\n        }\r\n        return true\r\n      }\r\n\r\n      function _beforeDrop(treeId, treeNodes, targetNode, moveType) {\r\n        return targetNode ? targetNode.drop !== false : true\r\n      }\r\n    })\r\n\r\n    /* zTree - drop-down selector */\r\n    var $selectzTree = $box.find('[data-toggle=\"selectztree\"]')\r\n\r\n    $selectzTree.each(function() {\r\n      var $this = $(this)\r\n      var options = $this.data()\r\n\r\n      var $tree = $(options.tree)\r\n\r\n      var h = $this.outerHeight()\r\n\r\n      options.width = options.width || $this.outerWidth()\r\n      options.height = options.height || 'auto'\r\n\r\n      if (!$tree || !$tree.length) return\r\n\r\n      var treeid = $tree.attr('id')\r\n      var $box = $('#' + treeid + '_select_box')\r\n      var setPosition = function($box) {\r\n        var top = $this.offset().top\r\n\r\n        var left = $this.offset().left\r\n\r\n        var $clone = $tree.clone().appendTo($('body'))\r\n\r\n        var treeHeight = $clone.outerHeight()\r\n\r\n        $clone.remove()\r\n\r\n        var offsetBot = $(window).height() - treeHeight - top - h\r\n\r\n        var maxHeight = $(window).height() - top - h\r\n\r\n        if (options.height === 'auto' && offsetBot < 0) maxHeight = maxHeight + offsetBot\r\n        $box.css({ top: (top + h), left: left, 'max-height': maxHeight })\r\n      }\r\n\r\n      $this.click(function() {\r\n        if ($box && $box.length) {\r\n          setPosition($box)\r\n          $box.show()\r\n          return\r\n        }\r\n\r\n        var zindex = 2\r\n        var dialog = $.CurrentDialog\r\n\r\n        if (dialog && dialog.length) {\r\n          zindex = dialog.css('zIndex') + 1\r\n        }\r\n        $box = $('<div id=\"' + treeid + '_select_box\" class=\"tree-box\"></div>')\r\n          .css({ position: 'absolute', 'zIndex': zindex, 'min-width': options.width, height: options.height, overflow: 'auto', background: '#FAFAFA', border: '1px #EEE solid' })\r\n          .hide()\r\n          .appendTo($('body'))\r\n\r\n        $tree.appendTo($box).css('width', '100%').data('fromObj', $this).removeClass('hide').show()\r\n        setPosition($box)\r\n        $box.show()\r\n      })\r\n\r\n      $('body').on('mousedown', function(e) {\r\n        var $target = $(e.target)\r\n\r\n        if (!($this[0] === e.target || ($box && $box.length > 0 && $target.closest('.tree-box').length > 0))) {\r\n          $box.hide()\r\n        }\r\n      })\r\n\r\n      var $scroll = $this.closest('.bjui-pageContent')\r\n\r\n      if ($scroll && $scroll.length) {\r\n        $scroll.scroll(function() {\r\n          if ($box && $box.length) {\r\n            setPosition($box)\r\n          }\r\n        })\r\n      }\r\n\r\n      // destroy selectzTree\r\n      $this.on('destroy.bjui.selectztree', function() {\r\n        $box.remove()\r\n      })\r\n    })\r\n\r\n    /**\r\n     * bootstrap panel 手风琴 accordion,\r\n     * heightbox 填充目标元素\r\n     * height 每页元素高，默认为填充目标元素高度\r\n     * offsety 每页高度偏移, 内容高度 height - offsety\r\n     */\r\n    $box.find('[data-toggle=\"accordion\"]').each(function() {\r\n      var $this = $(this)\r\n      var hBox = $this.data('heightbox')\r\n      var height = $this.data('height')\r\n      var initAccordion = function(hBox, height) {\r\n        var offsety = $this.data('offsety') || 0\r\n\r\n        height = height || ($(hBox).outerHeight() - (offsety * 1))\r\n\r\n        var $pheader = $this.find('.panel-heading')\r\n\r\n        var h1 = $pheader.outerHeight()\r\n\r\n        h1 = (h1 + 1) * $pheader.length\r\n        $this.css('height', height)\r\n        height = height - h1\r\n        $this.find('.panel-collapse').find('.panel-body').css('height', height)\r\n      }\r\n\r\n      if ($this.find('> .panel').length) {\r\n        if (hBox || height) {\r\n          initAccordion(hBox, height)\r\n          $(window).resize(function() {\r\n            initAccordion(hBox, height)\r\n          })\r\n\r\n          $this.on('hidden.bs.collapse', function(e) {\r\n            var $last = $(this).find('> .panel:last'); var $a = $last.find('> .panel-heading > h4 > a')\r\n\r\n            if ($a.hasClass('collapsed')) { $last.css('border-bottom', '1px #ddd solid') }\r\n          })\r\n        }\r\n      }\r\n    })\r\n\r\n    /* Kindeditor */\r\n    $box.find('[data-toggle=\"kindeditor\"]').each(function() {\r\n      var $editor = $(this); var options = $editor.data()\r\n\r\n      if (options.items && typeof options.items === 'string') { options.items = options.items.replaceAll('\\'', '').replaceAll(' ', '').split(',') }\r\n      if (options.afterUpload) options.afterUpload = options.afterUpload.toFunc()\r\n      if (options.afterSelectFile) options.afterSelectFile = options.afterSelectFile.toFunc()\r\n      if (options.confirmSelect) options.confirmSelect = options.confirmSelect.toFunc()\r\n\r\n      var htmlTags = {\r\n        font: [/* 'color', 'size', 'face', '.background-color'*/],\r\n        span: ['.color', '.background-color', '.font-size', '.font-family'\r\n          /* '.color', '.background-color', '.font-size', '.font-family', '.background',\r\n                        '.font-weight', '.font-style', '.text-decoration', '.vertical-align', '.line-height'*/\r\n        ],\r\n        div: ['.margin', '.padding', '.text-align'\r\n          /* 'align', '.border', '.margin', '.padding', '.text-align', '.color',\r\n                        '.background-color', '.font-size', '.font-family', '.font-weight', '.background',\r\n                        '.font-style', '.text-decoration', '.vertical-align', '.margin-left'*/\r\n        ],\r\n        table: ['align', 'width'\r\n          /* 'border', 'cellspacing', 'cellpadding', 'width', 'height', 'align', 'bordercolor',\r\n                        '.padding', '.margin', '.border', 'bgcolor', '.text-align', '.color', '.background-color',\r\n                        '.font-size', '.font-family', '.font-weight', '.font-style', '.text-decoration', '.background',\r\n                        '.width', '.height', '.border-collapse'*/\r\n        ],\r\n        'td,th': ['align', 'valign', 'width', 'height', 'colspan', 'rowspan'\r\n          /* 'align', 'valign', 'width', 'height', 'colspan', 'rowspan', 'bgcolor',\r\n                        '.text-align', '.color', '.background-color', '.font-size', '.font-family', '.font-weight',\r\n                        '.font-style', '.text-decoration', '.vertical-align', '.background', '.border'*/\r\n        ],\r\n        a: ['href', 'target', 'name'],\r\n        embed: ['src', 'width', 'height', 'type', 'loop', 'autostart', 'quality', '.width', '.height', 'align', 'allowscriptaccess'],\r\n        img: ['src', 'width', 'height', 'border', 'alt', 'title', 'align', '.width', '.height', '.border'],\r\n        'p,ol,ul,li,blockquote,h1,h2,h3,h4,h5,h6': [\r\n          'class', 'align', '.text-align', '.color', /* '.background-color', '.font-size', '.font-family', '.background',*/\r\n          '.font-weight', '.font-style', '.text-decoration', '.vertical-align', '.text-indent', '.margin-left'\r\n        ],\r\n        pre: ['class'],\r\n        hr: ['class', '.page-break-after'],\r\n        'br,tbody,tr,strong,b,sub,sup,em,i,u,strike,s,del': []\r\n      }\r\n\r\n      KindEditor.create($editor, {\r\n        pasteType: options.pasteType,\r\n        minHeight: options.minHeight || 260,\r\n        autoHeightMode: options.autoHeight || false,\r\n        items: options.items || KindEditor.options.items,\r\n        uploadJson: options.uploadJson || BJUI.KindEditor.uploadJson,\r\n        fileManagerJson: options.fileManagerJson || BJUI.KindEditor.fileManagerJson,\r\n        allowFileManager: options.allowFileManager || true,\r\n        fillDescAfterUploadImage: options.fillDescAfterUploadImage || true, // 上传图片成功后转到属性页，为false则直接插入图片[设为true方便自定义函数(X_afterSelect)]\r\n        afterUpload: options.afterUpload,\r\n        afterSelectFile: options.afterSelectFile,\r\n        X_afterSelect: options.confirmSelect,\r\n        htmlTags: htmlTags,\r\n        cssPath: [\r\n          BJUI.PLUGINPATH + 'kindeditor/editor-content.css',\r\n          BJUI.PLUGINPATH + 'kindeditor/plugins/code/prettify.css'\r\n        ],\r\n        afterBlur: function() { this.sync() }\r\n      })\r\n    })\r\n\r\n    /* colorpicker */\r\n    $box.find('[data-toggle=\"colorpicker\"]').each(function() {\r\n      var $this = $(this)\r\n      var isbgcolor = $this.data('bgcolor')\r\n\r\n      $this.colorpicker()\r\n      if (isbgcolor) {\r\n        $this.on('changeColor', function(ev) {\r\n          $this.css('background-color', ev.color.toHex())\r\n        })\r\n      }\r\n    })\r\n\r\n    $box.find('[data-toggle=\"clearcolor\"]').each(function() {\r\n      var $this = $(this)\r\n      var $target = $this.data('target') ? $($this.data('target')) : null\r\n\r\n      if ($target && $target.length) {\r\n        $this.click(function() {\r\n          $target.val('')\r\n          if ($target.data('bgcolor')) $target.css('background-color', '')\r\n        })\r\n      }\r\n    })\r\n\r\n    /* tooltip */\r\n    $box.find('[data-toggle=\"tooltip\"]').each(function() {\r\n      $(this).tooltip()\r\n    })\r\n\r\n    /* fixed dropdown-menu width */\r\n    $box.find('[data-toggle=\"dropdown\"]').parent().on('show.bs.dropdown', function(e) {\r\n      var $this = $(this); var width = $this.outerWidth(); var $menu = $this.find('> .dropdown-menu'); var menuWidth = $menu.outerWidth()\r\n\r\n      if (width > menuWidth) {\r\n        $menu.css('min-width', width)\r\n      }\r\n    })\r\n\r\n    /* not validate */\r\n    $box.find('form[data-toggle=\"ajaxform\"]').each(function() {\r\n      $(this).validator({ ignore: ':input' })\r\n      $(this).validator('destroy')\r\n    })\r\n\r\n    /**\r\n     * jsonEditor\r\n     */\r\n    $box.find('textarea[data-toggle=jsoneditor]').each(function() {\r\n      var $this = $(this)\r\n      $this.hide()\r\n      setTimeout(function() {\r\n        var codeMirror = CodeMirror.fromTextArea($this[0], {\r\n          lineNumbers: true,\r\n          mode: 'application/json',\r\n          gutters: ['CodeMirror-lint-markers'],\r\n          theme: 'rubyblue',\r\n          lint: true\r\n        })\r\n        codeMirror.on('change', function(cm) {\r\n          $this.val(cm.getValue())\r\n        })\r\n      }, 100)\r\n    })\r\n\r\n    $box.find('[data-toggle=clipboard]').each(function() {\r\n      var $this = $(this)\r\n      var data = $this.data()\r\n      var opts = {}\r\n      if (data.target) {\r\n        opts.target = function() {\r\n          return $box.find(data.target)[0]\r\n        }\r\n      } else if (data.text) {\r\n        opts.text = function() {\r\n          return data.text\r\n        }\r\n      }\r\n      var clipboard = new ClipboardJS(this, opts)\r\n\r\n      clipboard.on('error', function(e) {\r\n        console.error('Action:', e.action)\r\n        console.error('Trigger:', e.trigger)\r\n        $box.alertmsg('error', '复制失败！')\r\n        // e.clearSelection()\r\n      })\r\n    })\r\n  })\r\n}(jQuery))\r\n","/*!\r\n * B-JUI  v1.2 (http://b-jui.com)\r\n * Git@OSC (http://git.oschina.net/xknaan/B-JUI)\r\n * Copyright 2014 K'naan (xknaan@163.com).\r\n * Licensed under Apache (http://www.apache.org/licenses/LICENSE-2.0)\r\n */\r\n\r\n/* ========================================================================\r\n * B-JUI: bjui-regional.zh-CN.js  v1.2\r\n * @author K'naan (xknaan@163.com)\r\n * http://git.oschina.net/xknaan/B-JUI/blob/master/BJUI/js/bjui-regional.zh-CN.js\r\n * ========================================================================\r\n * Copyright 2014 K'naan.\r\n * Licensed under Apache (http://www.apache.org/licenses/LICENSE-2.0)\r\n * ======================================================================== */\r\n\r\n+(function($) {\r\n  'use strict'\r\n\r\n  $(function() {\r\n    /* 消息提示框 */\r\n    BJUI.setRegional('alertmsg', {\r\n      title: { error: '错误提示', info: '信息提示', warn: '警告信息', correct: '成功信息', confirm: '确认信息' },\r\n      btnMsg: { ok: '确定', yes: '是', no: '否', cancel: '取消' }\r\n    })\r\n\r\n    /* dialog */\r\n    BJUI.setRegional('dialog', {\r\n      close: '关闭',\r\n      maximize: '最大化',\r\n      restore: '还原',\r\n      minimize: '最小化',\r\n      title: '弹出窗口'\r\n    })\r\n\r\n    /* order by */\r\n    BJUI.setRegional('orderby', {\r\n      asc: '升序',\r\n      desc: '降序'\r\n    })\r\n\r\n    /* 分页 */\r\n    BJUI.setRegional('pagination', {\r\n      total: '总记录数/总页数',\r\n      first: '首页',\r\n      last: '末页',\r\n      prev: '上一页',\r\n      next: '下一页',\r\n      jumpto: '输入跳转页码，回车确认',\r\n      jump: '跳转',\r\n      page: '页',\r\n      refresh: '刷新'\r\n    })\r\n\r\n    BJUI.setRegional('datagrid', {\r\n      asc: '升序',\r\n      desc: '降序',\r\n      showhide: '显示/隐藏 列',\r\n      filter: '过滤',\r\n      clear: '清除',\r\n      lock: '锁定列',\r\n      unlock: '解除锁定',\r\n      add: '添加',\r\n      edit: '编辑',\r\n      save: '保存',\r\n      update: '更新',\r\n      cancel: '取消',\r\n      del: '删除',\r\n      prev: '上一条',\r\n      next: '下一条',\r\n      refresh: '刷新',\r\n      query: '查询',\r\n      'import': '导入',\r\n      'export': '导出',\r\n      all: '全部',\r\n      'true': '是',\r\n      'false': '否',\r\n      selectMsg: '未选中任何行！',\r\n      editMsg: '请先保存编辑行！',\r\n      saveMsg: '没有需要保存的行！',\r\n      delMsg: '确定要删除该行吗？',\r\n      delMsgM: '确定要删除选中行？'\r\n    })\r\n\r\n    /* ajax加载提示 */\r\n    BJUI.setRegional('progressmsg', '正在努力加载数据，请稍等...')\r\n\r\n    /* 日期选择器 */\r\n    BJUI.setRegional('datepicker', {\r\n      close: '关闭',\r\n      prev: '上月',\r\n      next: '下月',\r\n      clear: '清空',\r\n      ok: '确定',\r\n      dayNames: ['日', '一', '二', '三', '四', '五', '六'],\r\n      monthNames: ['一月', '二月', '三月', '四月', '五月', '六月', '七月', '八月', '九月', '十月', '十一月', '十二月']\r\n    })\r\n\r\n    /* navtab右键菜单  */\r\n    BJUI.setRegional('navtabCM', {\r\n      refresh: '刷新本标签',\r\n      close: '关闭本标签',\r\n      closeother: '关闭其他标签',\r\n      closeall: '关闭所有标签'\r\n    })\r\n\r\n    /* dialog右键菜单 */\r\n    BJUI.setRegional('dialogCM', {\r\n      refresh: '刷新本窗口',\r\n      close: '关闭本窗口',\r\n      closeother: '关闭其他窗口',\r\n      closeall: '关闭所有窗口'\r\n    })\r\n\r\n    /* upload按钮提示 */\r\n    BJUI.setRegional('upload', {\r\n      upConfirm: '开始上传',\r\n      upPause: '暂停上传',\r\n      upCancel: '取消上传'\r\n    })\r\n\r\n    /* 503错误提示 */\r\n    BJUI.setRegional('statusCode_503', '服务器当前负载过大或者正在维护！')\r\n\r\n    /* timeout提示 */\r\n    BJUI.setRegional('sessiontimeout', '会话超时，请重新登陆！')\r\n\r\n    /* 占位符对应选择器无有效值提示 */\r\n    BJUI.setRegional('plhmsg', '占位符对应的选择器无有效值！')\r\n\r\n    /* 未定义复选框组名提示 */\r\n    BJUI.setRegional('nocheckgroup', '未定义选中项的组名[复选框的\"data-group\"]！')\r\n\r\n    /* 未选中复选框提示 */\r\n    BJUI.setRegional('notchecked', '未选中任何一项！')\r\n\r\n    /* 未选中下拉菜单提示 */\r\n    BJUI.setRegional('selectmsg', '请选择一个选项！')\r\n\r\n    /* 表单验证错误提示信息 */\r\n    BJUI.setRegional('validatemsg', '提交的表单中 [{0}] 个字段有错误，请更正后再提交！')\r\n\r\n    /* 框架名称 */\r\n    BJUI.setRegional('uititle', 'B-JUI')\r\n\r\n    /* 主navtab标题 */\r\n    BJUI.setRegional('maintab', '我的主页')\r\n\r\n    /**\r\n     *\r\n     *  Plugins regional setting\r\n     */\r\n    /* nice validate - Global configuration */\r\n    $.validator && $.validator.config({\r\n      // stopOnError: false,\r\n      // theme: 'yellow_right',\r\n      defaultMsg: '{0}格式不正确',\r\n      loadingMsg: '正在验证...',\r\n\r\n      // Custom rules\r\n      rules: {\r\n        digits: [/^\\d+$/, '请输入整数'],\r\n        number: [/^[\\-\\+]?((([0-9]{1,3})([,][0-9]{3})*)|([0-9]+))?([\\.]([0-9]+))?$/, '请输入有效的数字'],\r\n        letters: [/^[a-z]+$/i, '{0}只能输入字母'],\r\n        datetime: [/^\\d{4}[\\/\\-](0?[1-9]|1[012])[\\/\\-](0?[1-9]|[12][0-9]|3[01])\\s+(2[0123]|(1|0?)[0-9]){1}:([0-5][0-9]){1}:([0-5][0-9]){1}$/,\r\n          '请输入正确的日期时间，例：yyyy-MM-dd HH:mm:ss'],\r\n        pattern: function(element, params) {\r\n          if (!params) return true\r\n\r\n          var date = element.value.parseDate(params)\r\n\r\n          return (!date ? this.renderMsg('错误的日期时间格式！', params) : true)\r\n        },\r\n        accept: function(element, params) {\r\n          if (!params) return true\r\n\r\n          var ext = params[0]\r\n\r\n          return (ext === '*') ||\r\n                           (new RegExp('.(?:' + (ext || 'png|jpg|jpeg|gif') + ')$', 'i')).test(element.value) ||\r\n                           this.renderMsg('只接受{1}后缀', ext.replace('|', ','))\r\n        }\r\n\r\n      }\r\n    })\r\n  })\r\n}(jQuery))\r\n","/*!\r\n * B-JUI  v1.2 (http://b-jui.com)\r\n * Git@OSC (http://git.oschina.net/xknaan/B-JUI)\r\n * Copyright 2014 K'naan (xknaan@163.com).\r\n * Licensed under Apache (http://www.apache.org/licenses/LICENSE-2.0)\r\n */\r\n\r\n/* ========================================================================\r\n * B-JUI: bjui-slidebar.js  v1.2\r\n * @author K'naan (xknaan@163.com)\r\n * -- Modified from dwz.barDrag.js (author:Roger Wu)\r\n * http://git.oschina.net/xknaan/B-JUI/blob/master/BJUI/js/bjui-slidebar.js\r\n * ========================================================================\r\n * Copyright 2014 K'naan.\r\n * Licensed under Apache (http://www.apache.org/licenses/LICENSE-2.0)\r\n * ======================================================================== */\r\n\r\n+(function($) {\r\n  'use strict'\r\n\r\n  // SLIDEBAR CLASS INSTANCE\r\n  // ======================\r\n  $(function() {\r\n    $('#bjui-leftside').after('<!-- Adjust the width of Left slide -->').after(FRAG.splitBar).after(FRAG.splitBarProxy)\r\n  })\r\n\r\n  // SLIDEBAR CLASS DEFINITION\r\n  // ======================\r\n\r\n  var Slidebar = function(element, options) {\r\n    this.$element = $(element)\r\n    this.$bar = this.$element.find('#bjui-sidebar')\r\n    this.$sbar = this.$element.find('#bjui-sidebar-s')\r\n    this.$accordionmenu = this.$bar.find('#bjui-accordionmenu')\r\n    this.$lock = this.$bar.find('> .toggleCollapse > .lock')\r\n    this.$navtab = $('#bjui-navtab')\r\n    this.$collapse = this.$sbar.find('.collapse')\r\n    this.$split = $('#bjui-splitBar')\r\n    this.$split2 = $('#bjui-splitBarProxy')\r\n\r\n    this.isfloat = false\r\n    this.options = options\r\n  }\r\n\r\n  Slidebar.prototype.lock = function() {\r\n    var that = this\r\n    var cleft = that.$bar.outerWidth() + 4\r\n    var cwidth = BJUI.windowWidth - $('#bjui-sidebar').width() - 6\r\n\r\n    that.faLock()\r\n    that.hoverLock()\r\n    that.$sbar.animate({ left: -10 }, 20)\r\n    that.$bar.removeClass('shadown')\r\n    that.isfloat = false\r\n    that.$navtab.animate({ left: cleft, width: cwidth }, 500, function() {\r\n      $(window).trigger(BJUI.eventType.resizeGrid)\r\n    })\r\n    that.$split.show()\r\n  }\r\n\r\n  Slidebar.prototype.unlock = function() {\r\n    var that = this\r\n    var barleft = 0 - that.$bar.outerWidth()\r\n    var cwidth = BJUI.windowWidth - 6\r\n\r\n    that.faUnLock()\r\n    that.hoverUnLock()\r\n    that.$navtab.animate({ left: 6, width: cwidth }, 400)\r\n    that.$bar.animate({ left: barleft }, 500, function() {\r\n      that.$sbar.animate({ left: 0 }, 200)\r\n      that.$split.hide()\r\n      $(window).trigger(BJUI.eventType.resizeGrid)\r\n    })\r\n    that.isfloat = false\r\n  }\r\n\r\n  Slidebar.prototype.float = function() {\r\n    var that = this\r\n\r\n    that.$sbar.animate({ left: -10 }, 200)\r\n    that.$bar.addClass('shadown').animate({ left: 0 }, 500)\r\n    that.isfloat = true\r\n  }\r\n\r\n  Slidebar.prototype.hideFloat = function() {\r\n    var that = this\r\n    var barleft = 0 - that.$bar.outerWidth()\r\n\r\n    that.$bar.animate({ left: barleft - 10 }, 500, function() {\r\n      that.$sbar.animate({ left: 0 }, 100)\r\n    })\r\n    that.isfloat = false\r\n  }\r\n\r\n  Slidebar.prototype.hoverLock = function() {\r\n    var that = this\r\n\r\n    that.$lock\r\n      .hover(function() {\r\n        that.tipUnLock()\r\n        that.faUnLock()\r\n      }, function() {\r\n        that.tipLock()\r\n        that.faLock()\r\n      })\r\n  }\r\n\r\n  Slidebar.prototype.hoverUnLock = function() {\r\n    var that = this\r\n\r\n    that.$lock\r\n      .hover(function() {\r\n        that.tipLock()\r\n        that.faLock()\r\n      }, function() {\r\n        that.tipUnLock()\r\n        that.faUnLock()\r\n      })\r\n  }\r\n\r\n  Slidebar.prototype.tipLock = function() {\r\n    this.$lock.tooltip('dispose').tooltip({ title: '保持锁定，始终显示导航栏', container: 'body' })\r\n  }\r\n\r\n  Slidebar.prototype.tipUnLock = function() {\r\n    this.$lock.tooltip('dispose').tooltip({ title: '解除锁定，自动隐藏导航栏', container: 'body' })\r\n  }\r\n\r\n  Slidebar.prototype.faLock = function() {\r\n    this.$lock.find('> i').attr('class', 'fa fa-lock')\r\n  }\r\n\r\n  Slidebar.prototype.faUnLock = function() {\r\n    this.$lock.find('> i').attr('class', 'fa fa-unlock-alt')\r\n  }\r\n\r\n  Slidebar.prototype.init = function() {\r\n    var that = this\r\n    if (!BJUI.ui.showSlidebar) {\r\n      that.unlock()\r\n    } else {\r\n      that.hoverLock()\r\n    }\r\n\r\n    this.$lock.off('click.bjui.slidebar').on('click.bjui.slidebar', function() {\r\n      if (that.isfloat) {\r\n        that.lock()\r\n      } else {\r\n        that.unlock()\r\n      }\r\n      BJUI.ui.showSlidebar = !BJUI.ui.showSlidebar\r\n    })\r\n\r\n    this.$collapse.hover(function() {\r\n      that.float()\r\n      that.$navtab.click(function() {\r\n        if (that.isfloat) that.hideFloat()\r\n      })\r\n    })\r\n\r\n    this.$split.mousedown(function(e) {\r\n      that.$split2.each(function() {\r\n        var $spbar2 = $(this)\r\n\r\n        setTimeout(function() { $spbar2.show() }, 100)\r\n        $spbar2\r\n          .css({ visibility: 'visible', left: that.$split.css('left') })\r\n          .basedrag($.extend(that.options, { obj: that.$bar, move: 'horizontal', event: e, stop: function() {\r\n            $(this).css('visibility', 'hidden')\r\n            var move = parseInt($(this).css('left')) - parseInt(that.$split.css('left'))\r\n            var sbarwidth = that.$bar.outerWidth() + move\r\n            var cleft = parseInt(that.$navtab.css('left')) + move\r\n            var cwidth = that.$navtab.outerWidth() - move\r\n\r\n            that.$bar.css('width', sbarwidth)\r\n            that.$split.css('left', $(this).css('left'))\r\n            that.$navtab.css({ left: cleft, width: cwidth })\r\n          } }))\r\n\r\n        return false\r\n      })\r\n    })\r\n\r\n    // move hnav\r\n    if ($('#bjui-hnav-navbar-box').length) {\r\n      that.moveHnav()\r\n    }\r\n\r\n    // menus-header添加active属性\r\n    that.$accordionmenu\r\n      .collapse()\r\n      .on('hidden.bs.collapse', function(e) {\r\n        $(this).find('> .panel > .panel-heading').each(function() {\r\n          var $heading = $(this)\r\n          var $a = $heading.find('> h4 > a')\r\n\r\n          if ($a.hasClass('collapsed')) {\r\n            $heading.removeClass('active')\r\n            var $panel = $heading.parent()\r\n            if ($panel.is(':last-child')) {\r\n              $panel.removeClass('last-child')\r\n            }\r\n          }\r\n        })\r\n      })\r\n      .on('shown.bs.collapse', function(e) {\r\n        $(this).find('> .panel > .panel-heading').each(function() {\r\n          var $heading = $(this)\r\n          var $a = $heading.find('> h4 > a')\r\n\r\n          if (!$a.hasClass('collapsed')) {\r\n            $heading.addClass('active')\r\n            var $panel = $heading.parent()\r\n            if ($panel.is(':last-child')) {\r\n              $panel.addClass('last-child')\r\n            }\r\n          }\r\n        })\r\n      })\r\n\r\n    that.clickMenu()\r\n  }\r\n\r\n  // 点击菜单\r\n  Slidebar.prototype.clickMenu = function() {\r\n    var that = this\r\n    that.$bar.on('click', 'ul.menu-items li > a', function(e) {\r\n      e.preventDefault()\r\n      var $a = $(this)\r\n      var $li = $a.parent()\r\n      var options = $a.data('options').toObj()\r\n      var $children = $li.find('> .menu-items-children')\r\n      var onClose = function() {\r\n        $li.removeClass('active')\r\n      }\r\n      var onSwitch = function() {\r\n        that.$accordionmenu.find('ul.menu-items li').removeClass('switch')\r\n        $li.addClass('switch')\r\n      }\r\n\r\n      $li.addClass('active')\r\n      if (options) {\r\n        options.url = $a.attr('href')\r\n        if (options.url && options.url !== 'javascript:;') {\r\n          options.onClose = onClose\r\n          options.onSwitch = onSwitch\r\n\r\n          if (!options.title) options.title = $a.text()\r\n\r\n          if (!options.target) {\r\n            $a.navtab(options)\r\n          } else {\r\n            $a.dialog(options)\r\n          }\r\n        }\r\n      }\r\n      if ($children.length) {\r\n        $li.toggleClass('open')\r\n      }\r\n    })\r\n  }\r\n\r\n  Slidebar.prototype.moveHnav = function() {\r\n    var $hnavbox = $('#bjui-hnav-navbar-box')\r\n\r\n    var $hnavbar = $hnavbox.find('> #bjui-hnav-navbar')\r\n\r\n    var $hmoreL = $hnavbox.prev()\r\n\r\n    var $hmoreR = $hnavbox.next()\r\n\r\n    $hmoreL.hover(function() {\r\n      $hnavbar.stop().animate({ left: 0 }, 2000, function() {\r\n        $hmoreL.hide()\r\n      })\r\n    }, function() {\r\n      $hnavbar.stop()\r\n      if ($hnavbox.data('hnav.move')) {\r\n        $hmoreR.show()\r\n      }\r\n    }).on('click', function() {\r\n      $hnavbar.stop().animate({ left: 0 }, 'fast', function() {\r\n        $hmoreL.hide()\r\n      })\r\n      return false\r\n    })\r\n\r\n    $hmoreR.hover(function() {\r\n      $hnavbar.stop().animate({ left: ($hnavbox.width() - $hnavbox.data('hnav.liw') - 10) }, 2000, function() {\r\n        $hmoreR.hide()\r\n      })\r\n    }, function() {\r\n      $hnavbar.stop()\r\n      if ($hnavbar.css('left') !== '0px') {\r\n        $hmoreL.show()\r\n      }\r\n    }).on('click', function() {\r\n      $hnavbar.stop().animate({ left: ($hnavbox.width() - $hnavbox.data('hnav.liw') - 10) }, 'fast', function() {\r\n        $hmoreR.hide()\r\n      })\r\n      return false\r\n    })\r\n  }\r\n\r\n  Slidebar.prototype.initHnav = function() {\r\n    var that = this\r\n\r\n    var title = that.$element.text().trim()\r\n\r\n    var $li = that.$element.parent()\r\n\r\n    var $box = $('#bjui-accordionmenu')\r\n\r\n    var $trees\r\n    var $items\r\n    var $panel\r\n    var $array\r\n\r\n    $trees = $li.find('> .items > ul.ztree')\r\n    $items = $li.find('> .items > ul.menu-items')\r\n    if (!($trees.length || $items.length)) return\r\n    if ($trees.length) $array = $trees\r\n    if ($items.length) {\r\n      if (!$array) $array = $items\r\n      else $array = $array.add($items)\r\n\r\n      $items.find('a').each(function() {\r\n        var $a = $(this); var options = $a.data('options')\r\n\r\n        if (!$a.data('icon.init') && options && typeof options === 'string') {\r\n          options = options.toObj()\r\n          if (options && options.faicon) {\r\n            options.faicon = options.faicon.trim()\r\n            if (options.faicon.startsWith('fa-')) options.faicon = options.faicon.substr(3)\r\n            $a.prepend('<i class=\"fa fa-' + options.faicon + '\"></i>').data('icon.init', true).attr('title', $a.text())\r\n          }\r\n        }\r\n      })\r\n    }\r\n\r\n    $box.empty()\r\n    $array.each(function(i) {\r\n      var $t = $(this)\r\n      var panel\r\n      var cls\r\n      var bodycls\r\n      var faicon = $t.data('faicon')\r\n      var icon = faicon || 'dot-circle-o'\r\n\r\n      if ($t.data('tit')) title = $t.data('tit')\r\n\r\n      cls = i ? 'collapsed' : ''\r\n      bodycls = i ? '' : ' in'\r\n      panel = FRAG.slidePanel\r\n        .replaceAll('#id#', 'bjui-collapse' + i)\r\n        .replaceAll('#title#', title)\r\n        .replaceAll('#righticon#', '<i class=\"fa fa-angle-down\"></i>')\r\n        .replaceAll('#class#', cls)\r\n        .replaceAll('#bodyclass#', bodycls)\r\n\r\n      if (icon) panel = panel.replaceAll('#icon#', '<i class=\"fa fa-' + icon + '\"></i>')\r\n      else panel = panel.replaceAll('#icon#', '')\r\n\r\n      $panel = $(panel)\r\n      $panel.find('> .panel-collapse > .panel-body').append($t.removeAttr('data-noinit'))\r\n      $box.append($panel)\r\n\r\n      if (!i) $panel.collapse('show')\r\n    })\r\n    $('#bjui-sidebar').initui()\r\n    $li\r\n      .addClass('active')\r\n      .data('bjui.slidebar.hnav.panels', $box.find('> .panel'))\r\n      .siblings().removeClass('active')\r\n  }\r\n\r\n  // SLIDEBAR PLUGIN DEFINITION\r\n  // =======================\r\n\r\n  function Plugin(option) {\r\n    var args = arguments\r\n    var property = option\r\n\r\n    return this.each(function() {\r\n      var $this = $(this)\r\n      var options = $.extend({}, $this.data(), typeof option === 'object' && option)\r\n      var data = $this.data('bjui.slidebar')\r\n\r\n      if (!data) $this.data('bjui.slidebar', (data = new Slidebar(this, options)))\r\n\r\n      if (typeof property === 'string' && $.isFunction(data[property])) {\r\n        [].shift.apply(args)\r\n        if (!args) data[property]()\r\n        else data[property].apply(data, args)\r\n      } else {\r\n        data.init()\r\n      }\r\n    })\r\n  }\r\n\r\n  var old = $.fn.slidebar\r\n\r\n  $.fn.slidebar = Plugin\r\n  $.fn.slidebar.Constructor = Slidebar\r\n\r\n  // SLIDEBAR NO CONFLICT\r\n  // =================\r\n\r\n  $.fn.basedrag.noConflict = function() {\r\n    $.fn.slidebar = old\r\n    return this\r\n  }\r\n\r\n  // SLIDEBAR DATA-API\r\n  // ==============\r\n  $(document).one(BJUI.eventType.afterInitUI, function(e) {\r\n    $('#bjui-leftside').slidebar({ minW: 150, maxW: 700 })\r\n  })\r\n\r\n  $(document).on('click.bjui.slidebar.data-api', '[data-toggle=\"slidebar\"]', function(e) {\r\n    var $li = $(this).parent()\r\n    var $box = $('#bjui-accordionmenu')\r\n    var $panels = $li.data('bjui.slidebar.hnav.panels')\r\n\r\n    $box.find('> .panel').detach()\r\n\r\n    if ($panels && $panels.length) {\r\n      $box.append($panels)\r\n      $li.addClass('active').siblings().removeClass('active')\r\n    } else {\r\n      Plugin.call($(this), 'initHnav')\r\n    }\r\n\r\n    e.preventDefault()\r\n  })\r\n}(jQuery))\r\n","/*!\r\n * B-JUI  v1.2 (http://b-jui.com)\r\n * Git@OSC (http://git.oschina.net/xknaan/B-JUI)\r\n * Copyright 2014 K'naan (xknaan@163.com).\r\n * Licensed under Apache (http://www.apache.org/licenses/LICENSE-2.0)\r\n */\r\n\r\n/* ========================================================================\r\n * B-JUI: bjui-spinner.js  v1.2\r\n * @author K'naan (xknaan@163.com)\r\n * http://git.oschina.net/xknaan/B-JUI/blob/master/BJUI/js/bjui-spinner.js\r\n * ========================================================================\r\n * Copyright 2014 K'naan.\r\n * Licensed under Apache (http://www.apache.org/licenses/LICENSE-2.0)\r\n * ======================================================================== */\r\n\r\n+(function($) {\r\n  'use strict'\r\n\r\n  // SPINNER CLASS DEFINITION\r\n  // ======================\r\n  var Spinner = function(element, options) {\r\n    this.$element = $(element)\r\n    this.options = options\r\n    this.tools = this.TOOLS()\r\n    this.$spinner = null\r\n    this.height = this.$element.addClass('form-control').innerHeight()\r\n    this.ivalue = Number(this.$element.val()) || 0\r\n  }\r\n\r\n  Spinner.DEFAULTS = {\r\n    min: 0,\r\n    max: 100,\r\n    step: 1,\r\n    decimalPlace: 0\r\n  }\r\n\r\n  Spinner.EVENTS = {\r\n    afterChange: 'afterchange.bjui.spinner'\r\n  }\r\n\r\n  Spinner.prototype.TOOLS = function() {\r\n    var that = this\r\n    return {\r\n      changeVal: function($btn) {\r\n        var $input = that.$element\r\n        var ivalue = Number($input.val()) || Number(that.ivalue)\r\n        var type = $btn.data('add') || -1\r\n        var istart = that.options.min\r\n        var iend = that.options.max\r\n        var istep = that.options.step\r\n\r\n        if (type === 1) {\r\n          if (ivalue <= iend - istep) {\r\n            ivalue = ivalue + istep\r\n          }\r\n        } else if (type === -1) {\r\n          if (ivalue >= (istart + istep)) {\r\n            ivalue = ivalue - istep\r\n          }\r\n        } else if (ivalue > iend) {\r\n          ivalue = iend\r\n        } else if (ivalue < istart) {\r\n          ivalue = istart\r\n        }\r\n        if (that.options.decimalPlace) {\r\n          ivalue = ivalue.toFixed(that.options.decimalPlace)\r\n        }\r\n\r\n        that.ivalue = ivalue\r\n\r\n        $input\r\n          .val(ivalue)\r\n          .trigger(Spinner.EVENTS.afterChange, { value: ivalue })\r\n      }\r\n    }\r\n  }\r\n\r\n  Spinner.prototype.init = function() {\r\n    if (isNaN(this.options.min) || isNaN(this.options.max) || isNaN(this.options.step)) {\r\n      BJUI.debug('Spinner Plugin: Parameter is non-numeric type!')\r\n      return\r\n    }\r\n\r\n    this.addBtn()\r\n  }\r\n\r\n  Spinner.prototype.addBtn = function() {\r\n    var that = this; var $element = that.$element\r\n\r\n    if (!this.$lookBtn && !$element.parent().hasClass('wrap_bjui_btn_box')) {\r\n      this.$spinner = $(FRAG.spinnerBtn)\r\n\r\n      $element.css({ 'paddingRight': '13px' }).wrap('<span class=\"wrap_bjui_btn_box\"></span>')\r\n\r\n      var $box = $element.parent()\r\n\r\n      $box.css('position', 'relative')\r\n      this.$spinner.css({ 'height': this.height }).appendTo($box)\r\n      this.$spinner.on('selectstart', function() { return false })\r\n\r\n      var timer = null\r\n\r\n      that.$spinner.find('li').on('click', function(e) {\r\n        that.tools.changeVal($(this))\r\n      }).on('mousedown', function() {\r\n        var $btn = $(this)\r\n\r\n        timer = setInterval(function() {\r\n          that.tools.changeVal($btn)\r\n        }, 150)\r\n      }).on('mouseup', function() { clearTimeout(timer) })\r\n    }\r\n  }\r\n\r\n  Spinner.prototype.destroy = function() {\r\n    if (this.$element.parent().hasClass('wrap_bjui_btn_box')) {\r\n      this.$element.parent().find('.bjui-spinner').remove()\r\n      this.$element.unwrap()\r\n    }\r\n  }\r\n\r\n  // SPINNER PLUGIN DEFINITION\r\n  // =======================\r\n\r\n  function Plugin(option) {\r\n    var args = arguments\r\n    var property = option\r\n\r\n    return this.each(function() {\r\n      var $this = $(this)\r\n      var options = $.extend({}, Spinner.DEFAULTS, $this.data(), typeof option === 'object' && option)\r\n      var data = $this.data('bjui.spinner')\r\n\r\n      if (!data) $this.data('bjui.spinner', (data = new Spinner(this, options)))\r\n      if (typeof property === 'string' && $.isFunction(data[property])) {\r\n        [].shift.apply(args)\r\n        if (!args) data[property]()\r\n        else data[property].apply(data, args)\r\n      } else {\r\n        data.init()\r\n      }\r\n    })\r\n  }\r\n\r\n  var old = $.fn.spinner\r\n\r\n  $.fn.spinner = Plugin\r\n  $.fn.spinner.Constructor = Spinner\r\n\r\n  // SPINNER NO CONFLICT\r\n  // =================\r\n\r\n  $.fn.spinner.noConflict = function() {\r\n    $.fn.spinner = old\r\n    return this\r\n  }\r\n\r\n  // SPINNER DATA-API\r\n  // ==============\r\n\r\n  $(document).on(BJUI.eventType.initUI, function(e) {\r\n    var $this = $(e.target).find('input[data-toggle=\"spinner\"]')\r\n\r\n    if (!$this.length) return\r\n\r\n    Plugin.call($this)\r\n  })\r\n}(jQuery))\r\n","/*!\r\n * B-JUI  v1.2 (http://b-jui.com)\r\n * Git@OSC (http://git.oschina.net/xknaan/B-JUI)\r\n * Copyright 2014 K'naan (xknaan@163.com).\r\n * Licensed under Apache (http://www.apache.org/licenses/LICENSE-2.0)\r\n */\r\n\r\n/* ========================================================================\r\n * B-JUI: bjui-tabledit.js  v1.2\r\n * @author K'naan (xknaan@163.com)\r\n * -- Modified from dwz.database.js (author:ZhangHuihua@msn.com)\r\n * http://git.oschina.net/xknaan/B-JUI/blob/master/BJUI/js/bjui-tabledit.js\r\n * ========================================================================\r\n * Copyright 2014 K'naan.\r\n * Licensed under Apache (http://www.apache.org/licenses/LICENSE-2.0)\r\n * ======================================================================== */\r\n\r\n+(function($) {\r\n  'use strict'\r\n\r\n  // TABLEDIT CLASS DEFINITION\r\n  // ======================\r\n\r\n  var Tabledit = function(element, options) {\r\n    this.$element = $(element)\r\n    this.options = options\r\n    this.tools = this.TOOLS()\r\n    this.$tbody = this.$element.find('> tbody')\r\n    if (!this.$tbody.length) {\r\n      this.$tbody = $('<tbody></tbody>')\r\n      this.$element.append(this.$tbody)\r\n    }\r\n    this.$numAdd =\r\n      this.$btnAdd = null\r\n  }\r\n\r\n  Tabledit.DEFAULTS = {\r\n    singleNoindex: true\r\n  }\r\n\r\n  Tabledit.EVENTS = {\r\n    afterDelete: 'afterdelete.bjui.tabledit'\r\n  }\r\n\r\n  Tabledit.prototype.TOOLS = function() {\r\n    var that = this\r\n    return {\r\n      initSuffix: function($tbody) {\r\n        var $trs = $tbody.find('> tr')\r\n\r\n        $trs.each(function(i) {\r\n          var $tr = $(this)\r\n\r\n          $tr.find(':input, :file, a, label, div').each(function() {\r\n            var $child = $(this)\r\n\r\n            var name = $child.attr('name')\r\n\r\n            var val = $child.val()\r\n\r\n            var fors = $child.attr('for')\r\n\r\n            var id = $child.attr('id')\r\n\r\n            var href = $child.attr('href')\r\n\r\n            var group = $child.attr('data-group')\r\n\r\n            var suffix = $child.attr('data-suffix')\r\n\r\n            var arrayfix = $child.attr('data-arrayfix')\r\n\r\n            if (name) $child.attr('name', name.replaceSuffix(i))\r\n            if (fors) $child.attr('for', fors.replaceSuffix(i))\r\n            if (id) $child.attr('id', id.replaceSuffix(i).replaceSuffix2(i))\r\n            if (href) $child.attr('href', href.replaceSuffix(i))\r\n            if (group) $child.attr('data-group', group.replaceSuffix(i))\r\n            if (suffix) $child.attr('data-suffix', suffix.replaceSuffix(i))\r\n            if (arrayfix) $child.attr('data-arrayfix', arrayfix.replaceSuffix(i))\r\n            if (val && val.indexOf('#index#') >= 0) $child.val(val.replace('#index#', i + 1))\r\n            if ($child.hasClass('no')) {\r\n              var prefix = $child.data('prefix') ? $child.data('prefix') : ''\r\n\r\n              $child.val(prefix + (i + 1))\r\n            }\r\n          })\r\n        })\r\n      },\r\n      // Enter for Tab\r\n      initEnter: function($tbody) {\r\n        var $texts = $tbody.find(':text')\r\n\r\n        $texts.each(function(i) {\r\n          $(this).bind('keydown', function(e) {\r\n            if (e.which === BJUI.keyCode.ENTER) {\r\n              var nexInd = i + 1\r\n\r\n              if ($texts.eq(nexInd)) {\r\n                $texts.eq(nexInd).focus()\r\n              }\r\n              e.preventDefault()\r\n            }\r\n          })\r\n        })\r\n        this.initInput($tbody)\r\n      },\r\n      initInput: function($tbody) {\r\n        $tbody.find('> tr > td').each(function() {\r\n          var $span = $(this).find('.input-hold')\r\n\r\n          if (!$span.length) {\r\n            $span = $('<span class=\"input-hold\" style=\"display:block; padding:0 4px; height:0; font-size:12px; visibility: hidden;\"></span>')\r\n            $(this).append($span)\r\n          }\r\n          if (!$.support.leadingWhitespace) { // for ie8\r\n            $(this).on('propertychange', ':text', function(e) {\r\n              $span.text($(this).val())\r\n            })\r\n          } else {\r\n            $(this).on('input', ':text', function(e) {\r\n              $span.text($(this).val())\r\n            })\r\n          }\r\n        })\r\n      },\r\n      initTbody: function() {\r\n        var $table = that.$element\r\n\r\n        var $tbody = that.$tbody\r\n\r\n        $tbody.find('> tr').each(function() {\r\n          var $tr = $(this)\r\n          var $tds = $tr.find('> td')\r\n          var $ths = $table.data('bjui.tabledit.tr').clone().find('> th')\r\n\r\n          $tr.data('bjui.tabledit.oldTds', $tr.html())\r\n\r\n          $ths.each(function(i) {\r\n            var $td = $tds.eq(i)\r\n            var val = $td.data('val')\r\n\r\n            var $th = $(this)\r\n            var $child = $th.children()\r\n            var $pic = $th.find('.pic-box')\r\n\r\n            if (typeof val === 'undefined') {\r\n              val = $td.html()\r\n            }\r\n            if (!$td.data('noedit')) {\r\n              if ($child.length) {\r\n                if ($child.is('input:checkbox') || $child.is('input:radio')) {\r\n                  $child.filter('[value=\"' + val + '\"]').attr('checked', 'checked')\r\n                } else if ($child.isTag('select')) {\r\n                  $child.find('option[value=\"' + $td.data('val') + '\"]').attr('selected', 'selected')\r\n                } else if ($pic.length) {\r\n                  if ($td.data('val')) $th.find('.pic-name').val($td.data('val'))\r\n                  $pic.html($td.html())\r\n                } else if ($child.hasClass('wrap_bjui_btn_box')) {\r\n                  $child.find('input[data-toggle]').attr('value', val + '')\r\n                } else if ($child.is('textarea')) {\r\n                  $child.html(val)\r\n                  if ($child.attr('data-toggle') === 'kindeditor') {\r\n                    $child.attr('data-toggle-old', 'kindeditor').removeAttr('data-toggle')\r\n                  }\r\n                } else {\r\n                  $child.attr('value', val + '')\r\n                }\r\n                $td.html($th.html())\r\n              }\r\n            }\r\n          })\r\n\r\n          $tr.on('dblclick', $.proxy(function(e) {\r\n            _doEdit($tr)\r\n          }, that)).initui()\r\n          that.tools.initSuffix($tbody)\r\n          _doRead($tr)\r\n        })\r\n\r\n        $tbody\r\n          .on('click.bjui.tabledit.readonly', '[data-toggle=\"doedit\"]', function(e) {\r\n            _doEdit($(this).closest('tr'))\r\n          })\r\n          .on('click.bjui.tabledit.readonly', '[data-toggle=\"dosave\"]', function(e) {\r\n            var $tr = $(this).closest('tr')\r\n            var index = $tr.index()\r\n            var callback = that.options.callback\r\n\r\n            if (that.options.action) {\r\n              $tr.wrap('<form action=\"\" method=\"POST\"></form>')\r\n              if ($tr.attr('data-id')) {\r\n                var name = $table.find('> thead > tr:eq(0)').data('idname') || 'id'\r\n\r\n                $tr.before('<input type=\"hidden\" name=\"' + name.replaceSuffix(index) + '\" value=\"' + $tr.attr('data-id') + '\">')\r\n              }\r\n\r\n              var data = $tr.parent().serializeArray()\r\n\r\n              if (that.options.singleNoindex) {\r\n                $.each(data, function(ii, nn) {\r\n                  $.extend(nn, { name: nn.name.replaceSuffix(0) })\r\n                })\r\n              }\r\n\r\n              $tr.prev('input').remove()\r\n              $tr\r\n                .unwrap()\r\n                .isValid(function(v) {\r\n                  if (v) {\r\n                    if (callback) {\r\n                      callback = callback.toFunc()\r\n                    } else {\r\n                      callback = function(json) {\r\n                        if (json[BJUI.keys.statusCode] === BJUI.statusCode.ok) {\r\n                          _doRead($tr)\r\n                        } else {\r\n                          $tr.bjuiajax('ajaxDone', json)\r\n                        }\r\n                      }\r\n                    }\r\n                    $tr.bjuiajax('doAjax', {\r\n                      url: that.options.action,\r\n                      data: data,\r\n                      type: that.options.type || 'POST',\r\n                      callback: callback\r\n                    })\r\n                  }\r\n                })\r\n            } else {\r\n              _doRead($tr)\r\n            }\r\n          })\r\n\r\n        that.tools.initEnter($tbody)\r\n\r\n        function _doEdit($tr) {\r\n          $tr.removeClass('readonly').find('> td *').each(function() {\r\n            var $this = $(this)\r\n            var $td = $this.closest('td')\r\n            var val = $td.data('val')\r\n            var toggle = $this.attr('data-toggle-old')\r\n            var readonly = $td.data('readonly')\r\n\r\n            if (typeof val === 'undefined') val = $td.html()\r\n            if ($td.data('notread')) return true\r\n            if ($this.isTag('select')) {\r\n              $td.find('.tabledit-select-text').first().hide()\r\n              $this.val($td.attr('data-val'))\r\n              $this.removeClass('readonly disabled').selectpicker('show')\r\n              // $this.val($td.attr('data-val')).prop('disabled', false).removeClass('readonly').selectpicker('refresh')\r\n            }\r\n            if ($this.is(':checkbox')) {\r\n              $this.closest('.icheckbox_minimal-purple').removeClass('disabled')\r\n              $this.closest('.icheckbox_minimal-purple').find('ins').removeClass('readonly')\r\n            }\r\n            if ($this.is(':radio')) {\r\n              $this.closest('.iradio_minimal-purple').removeClass('disabled')\r\n              $this.closest('.iradio_minimal-purple').find('ins').removeClass('readonly')\r\n            }\r\n            if (toggle) {\r\n              if (toggle === 'dosave') return true\r\n              else $this.removeAttr('data-toggle-old').attr('data-toggle', toggle)\r\n              if (toggle === 'spinner') {\r\n                $this.spinner('destroy').spinner()\r\n              }\r\n              if (toggle === 'kindeditor') {\r\n                // $this.attr('data-toggle', 'kindeditor')\r\n                $td.initui()\r\n              }\r\n            }\r\n            if ($this.is(':text') || $this.is('textarea')) {\r\n              $this.off('keydown.readonly')\r\n              if (readonly) $this.prop('readonly', true)\r\n            }\r\n          })\r\n          $tr.find('.bjui-lookup, .bjui-spinner, .bjui-upload').show()\r\n\r\n          $tr.find('[data-toggle=\"doedit\"]')\r\n            .attr('data-toggle', 'dosave')\r\n            .text('完成')\r\n        }\r\n\r\n        function _doRead($tr) {\r\n          $tr.addClass('readonly').find('> td *').each(function() {\r\n            var $this = $(this)\r\n            var $td = $this.closest('td')\r\n            var toggle = $this.attr('data-toggle')\r\n\r\n            if ($td.data('notread')) return true\r\n            if ($this.isTag('select')) {\r\n              $this.addClass('readonly disabled').selectpicker('hide')\r\n              var selectText = $this.children('option').filter(':selected').text()\r\n              var selectTextBox = $td.find('.tabledit-select-text').first()\r\n              if (selectTextBox.length) {\r\n                selectTextBox.text(selectText).show()\r\n              } else {\r\n                $td.append('<span style=\"padding: 0 2px\" class=\"tabledit-select-text\">' + selectText + '</span>')\r\n              }\r\n              // $this.prop('disabled', true).addClass('readonly').selectpicker('refresh')\r\n            }\r\n            if ($this.is(':checkbox')) {\r\n              $this.closest('.icheckbox_minimal-purple').addClass('disabled')\r\n              $this.closest('.icheckbox_minimal-purple').find('ins').addClass('readonly')\r\n            }\r\n            if ($this.is(':radio')) {\r\n              $this.closest('.iradio_minimal-purple').addClass('disabled')\r\n              $this.closest('.iradio_minimal-purple').find('ins').addClass('readonly')\r\n            }\r\n            if (toggle) {\r\n              if (toggle === 'doedit' || toggle === 'dosave') {\r\n                return true\r\n              } else {\r\n                $this.removeAttr('data-toggle').attr('data-toggle-old', toggle)\r\n              }\r\n              if (toggle === 'kindeditor') {\r\n                KindEditor.remove($this)\r\n              }\r\n            }\r\n            if ($this.is(':text') || $this.is('textarea')) {\r\n              $this.on('keydown.readonly', function(e) {\r\n                e.preventDefault()\r\n              })\r\n            }\r\n          })\r\n\r\n          $tr.find('.bjui-lookup, .bjui-spinner, .bjui-upload').hide()\r\n\r\n          $tr.find('[data-toggle=\"dosave\"]')\r\n            .attr('data-toggle', 'doedit')\r\n            .text('编辑')\r\n        }\r\n      },\r\n      doAdd: function() {\r\n        var $table = that.$element\r\n\r\n        if (!that.$numAdd || !that.$btnAdd) return\r\n        $table\r\n          .on('keydown.bjui.tabledit.add', 'thead .num-add', function(e) {\r\n            if (e.which === BJUI.keyCode.ENTER) {\r\n              that.$btnAdd.trigger('click.bjui.tabledit.add')\r\n\r\n              e.preventDefault()\r\n            }\r\n          })\r\n          .on('click.bjui.tabledit.add', 'thead .row-add', function(e) {\r\n            var rowNum = 1\r\n\r\n            if (!isNaN(that.$numAdd.val())) rowNum = parseInt(that.$numAdd.val())\r\n            that.add($table, rowNum)\r\n\r\n            e.preventDefault()\r\n          })\r\n      },\r\n      doDel: function($tbody) {\r\n        var tool = this\r\n        var delEvent = 'click.bjui.tabledit.del'\r\n\r\n        $tbody.off(delEvent).on(delEvent, '.row-del', function(e) {\r\n          var $btnDel = $(this)\r\n\r\n          if ($btnDel.data('confirmMsg')) {\r\n            $btnDel.alertmsg('confirm', $btnDel.data('confirmMsg'), {\r\n              okCall: function() {\r\n                tool.delData($btnDel)\r\n              }\r\n            })\r\n          } else {\r\n            tool.delData($btnDel)\r\n          }\r\n\r\n          e.preventDefault()\r\n        })\r\n      },\r\n      delData: function($btnDel) {\r\n        var tool = this\r\n        var $tbody = $btnDel.closest('tbody')\r\n        var options = $btnDel.data()\r\n        var _delRow = function(json) {\r\n          $btnDel.closest('tr').remove()\r\n          tool.initSuffix($tbody)\r\n          tool.afterDelete($tbody)\r\n          if (options.callback) (options.callback.toFunc()).apply(that, [json])\r\n        }\r\n\r\n        if ($btnDel.is('[href^=javascript:]') || $btnDel.is('[href^=\"#\"]')) {\r\n          _delRow()\r\n        } else {\r\n          $btnDel.bjuiajax('doAjax', {\r\n            url: $btnDel.attr('href'),\r\n            data: options.data,\r\n            callback: _delRow\r\n          })\r\n        }\r\n      },\r\n      afterDelete: function($tbody) {\r\n        var deletedEvent = $.Event(Tabledit.EVENTS.afterDelete, { relatedTarget: $tbody[0] })\r\n\r\n        that.$element.trigger(deletedEvent)\r\n        // if (deletedEvent.isDefaultPrevented()) return\r\n      }\r\n    }\r\n  }\r\n\r\n  Tabledit.prototype.init = function() {\r\n    var that = this\r\n    var tools = this.tools\r\n    var $table = this.$element.addClass('bjui-tabledit'); var $tr = $table.find('> thead > tr:first')\r\n    var $tbody = this.$tbody\r\n    var trHtml = $table.find('> thead > tr:first').html()\r\n\r\n    $tr.find('> th').each(function() {\r\n      var $th = $(this)\r\n      var title = $th.attr('title')\r\n      var add = $th.data('addtool')\r\n\r\n      if (title) $th.html(title)\r\n      if (add) {\r\n        var $addBox = $('<span style=\"position:relative;\"></span>')\r\n\r\n        $th.empty()\r\n        that.$numAdd = $('<input type=\"text\" value=\"1\" class=\"form-control num-add\" size=\"2\" title=\"待添加的行数\">')\r\n        that.$btnAdd = $('<a href=\"javascript:;\" class=\"row-add\" title=\"添加行\"><i class=\"fa fa-plus-square\"></i></a>')\r\n        $addBox.append(that.$numAdd).append(that.$btnAdd).appendTo($th)\r\n      }\r\n    })\r\n    $table.data('bjui.tabledit.tr', $('<tr>' + trHtml + '</tr>'))\r\n    tools.initTbody()\r\n    tools.doAdd()\r\n    tools.doDel($tbody)\r\n  }\r\n\r\n  Tabledit.prototype.add = function($table, num) {\r\n    var tools = this.tools\r\n    var $tbody = $table.find('> tbody')\r\n    var $firstTr\r\n    var $tr = $table.data('bjui.tabledit.tr')\r\n\r\n    for (var i = 0; i < num; i++) {\r\n      $tr.find('> th').each(function() {\r\n        $(this).replaceWith('<td>' + $(this).html() + '</td>')\r\n      })\r\n\r\n      var $addTr = $tr.clone()\r\n\r\n      if (i === 0) {\r\n        $firstTr = $addTr\r\n      }\r\n      $addTr.hide().appendTo($tbody)\r\n      tools.initSuffix($tbody)\r\n      tools.initEnter($tbody)\r\n      $addTr.show().css('display', '').initui()\r\n    }\r\n    /* 置入焦点*/\r\n    if ($firstTr && $firstTr.length) {\r\n      var $input = $firstTr.find(':text')\r\n\r\n      $input.each(function() {\r\n        var $txt = $(this)\r\n\r\n        if (!$txt.prop('readonly')) {\r\n          $txt.focus()\r\n          return false\r\n        }\r\n      })\r\n    }\r\n  }\r\n\r\n  // TABLEDIT PLUGIN DEFINITION\r\n  // =======================\r\n\r\n  function Plugin(option) {\r\n    var args = arguments\r\n    var property = option\r\n\r\n    return this.each(function() {\r\n      var $this = $(this)\r\n      var options = $.extend({}, Tabledit.DEFAULTS, $this.data(), typeof option === 'object' && option)\r\n      var data = $this.data('bjui.tabledit')\r\n\r\n      if (!data) $this.data('bjui.tabledit', (data = new Tabledit(this, options)))\r\n      if (typeof property === 'string' && $.isFunction(data[property])) {\r\n        [].shift.apply(args)\r\n        if (!args) data[property]()\r\n        else data[property].apply(data, args)\r\n      } else {\r\n        data.init()\r\n      }\r\n    })\r\n  }\r\n\r\n  var old = $.fn.tabledit\r\n\r\n  $.fn.tabledit = Plugin\r\n  $.fn.tabledit.Constructor = Tabledit\r\n\r\n  // TABLEDIT NO CONFLICT\r\n  // =================\r\n\r\n  $.fn.tabledit.noConflict = function() {\r\n    $.fn.tabledit = old\r\n    return this\r\n  }\r\n\r\n  // TABLEDIT DATA-API\r\n  // ==============\r\n\r\n  $(document).on(BJUI.eventType.initUI, function(e) {\r\n    var $this = $(e.target).find('table[data-toggle=\"tabledit\"]')\r\n\r\n    if (!$this.length) return\r\n\r\n    Plugin.call($this)\r\n  })\r\n\r\n  // init add tr\r\n  $(document).on(BJUI.eventType.afterInitUI, function(e) {\r\n    var $this = $(e.target).find('table[data-toggle=\"tabledit\"]')\r\n\r\n    $this.each(function() {\r\n      if ($(this).is('[data-initnum]')) {\r\n        var initNum = $(this).data('initnum')\r\n\r\n        if (initNum > 0) {\r\n          Plugin.call($(this), 'add', $(this), initNum)\r\n        }\r\n      }\r\n    })\r\n  })\r\n\r\n  $(document).on('click.bjui.tabledit.data-api', '[data-toggle=\"tableditadd\"]', function(e) {\r\n    var $this = $(this)\r\n    var num = $this.data('num') || 1\r\n    var table = $this.data('target')\r\n\r\n    if (!table || !$(table).length) return\r\n    if (!$(table).isTag('table')) return\r\n    Plugin.call($this, 'add', $(table), num)\r\n\r\n    e.preventDefault()\r\n  })\r\n}(jQuery))\r\n","/*!\r\n * B-JUI  v1.2 (http://b-jui.com)\r\n * Git@OSC (http://git.oschina.net/xknaan/B-JUI)\r\n * Copyright 2014 K'naan (xknaan@163.com).\r\n * Licensed under Apache (http://www.apache.org/licenses/LICENSE-2.0)\r\n */\r\n\r\n/* ========================================================================\r\n * B-JUI: bjui-tablefixed.js  v1.2\r\n * @author K'naan (xknaan@163.com)\r\n * -- Modified from dwz.stable.js (author:ZhangHuihua@msn.com, Roger Wu)\r\n * http://git.oschina.net/xknaan/B-JUI/blob/master/BJUI/js/bjui-tablefixed.js\r\n * ========================================================================\r\n * Copyright 2014 K'naan.\r\n * Licensed under Apache (http://www.apache.org/licenses/LICENSE-2.0)\r\n * ======================================================================== */\r\n\r\n+(function($) {\r\n  'use strict'\r\n\r\n  // TABLEFIXED CLASS DEFINITION\r\n  // ======================\r\n\r\n  var Tablefixed = function(element, options) {\r\n    this.$element = $(element)\r\n    this.options = options\r\n    this.tools = this.TOOLS()\r\n  }\r\n\r\n  Tablefixed.SCROLLW = 18\r\n\r\n  Tablefixed.DEFAULTS = {\r\n    width: '100%'\r\n  }\r\n\r\n  Tablefixed.prototype.TOOLS = function() {\r\n    return {\r\n      getLeft: function($obj) {\r\n        var width = 0\r\n\r\n        $obj.prevAll().each(function() {\r\n          width += $(this).outerWidth()\r\n        })\r\n\r\n        return width\r\n      },\r\n      getRight: function($obj) {\r\n        var width = 0\r\n\r\n        $obj.prevAll().addBack().each(function() {\r\n          width += $(this).outerWidth()\r\n        })\r\n\r\n        return width - 1\r\n      },\r\n      getCellNum: function($obj) {\r\n        return $obj.prevAll().addBack().length\r\n      },\r\n      getColspan: function($obj) {\r\n        return $obj.attr('colspan') || 1\r\n      },\r\n      getStart: function($obj) {\r\n        var start = 1\r\n\r\n        $obj.prevAll().each(function() {\r\n          start += parseInt($(this).attr('colspan') || 1)\r\n        })\r\n\r\n        return start\r\n      },\r\n      getPageCoord: function(element) {\r\n        var coord = { x: 0, y: 0 }\r\n\r\n        while (element) {\r\n          coord.x += element.offsetLeft\r\n          coord.y += element.offsetTop\r\n          element = element.offsetParent\r\n        }\r\n\r\n        return coord\r\n      },\r\n      getOffset: function($obj, e) {\r\n        if (!$.support.leadingWhitespace) {\r\n          var $objset = $obj.offset()\r\n          var evtset = {\r\n            offsetX: e.pageX || e.screenX,\r\n            offsetY: e.pageY || e.screenY\r\n          }\r\n          return {\r\n            offsetX: evtset.offsetX - $objset.left,\r\n            offsetY: evtset.offsetY - $objset.top\r\n          }\r\n        }\r\n\r\n        var target = e.target\r\n\r\n        if (target.offsetLeft === undefined) {\r\n          target = target.parentNode\r\n        }\r\n\r\n        var pageCoord = this.getPageCoord(target)\r\n        var eventCoord = {\r\n          x: window.pageXOffset + e.clientX,\r\n          y: window.pageYOffset + e.clientY\r\n        }\r\n        return {\r\n          offsetX: eventCoord.x - pageCoord.x,\r\n          offsetY: eventCoord.y - pageCoord.y\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  Tablefixed.prototype.resetWidth = function() {\r\n    var $fixed = this.$element\r\n\r\n    var width = $fixed.width()\r\n\r\n    var $table = $fixed.find('table')\r\n\r\n    var tableW = $table && $table.width()\r\n\r\n    var $ths = $table.eq(0) && $table.eq(0).find('tr:first-child > th')\r\n\r\n    var $tds = $table.eq(1) && $table.eq(1).find('tr:first-child > td')\r\n\r\n    if ($table && ((width - tableW) < Tablefixed.SCROLLW)) {\r\n      var fixedW = parseInt((width - tableW) / $ths.length)\r\n\r\n      $table.width(width - Tablefixed.SCROLLW)\r\n      $ths.each(function(i) {\r\n        var tw = parseInt($(this).css('width'))\r\n\r\n        $(this).width(tw + fixedW)\r\n        if ($tds.eq(i)) $tds.eq(i).width(tw + fixedW)\r\n      })\r\n    }\r\n  }\r\n\r\n  Tablefixed.prototype.init = function() {\r\n    if (!this.$element.isTag('table')) return\r\n\r\n    this.$container = this.$element.parent().addClass('bjui-resizeGrid')\r\n    this.$fixed = undefined\r\n    var width = this.$container.width()\r\n    var height = this.options.height\r\n\r\n    if (this.$container.hasClass('tab-pane')) width = this.$container.parent().width() - 20\r\n    if (typeof this.options.width === 'string' && this.options.width.indexOf('%')) {\r\n      this.options.newWidth = width * (this.options.width.replace('%', '') / 100)\r\n    } else {\r\n      this.options.newWidth = parseInt(this.options.width)\r\n    }\r\n\r\n    this.options.styles = []\r\n    this.$element.wrap('<div class=\"bjui-tablefixed clearfix\"></div>')\r\n    this.$fixed = this.$element.parent()\r\n    this.initHead()\r\n    this.initBody()\r\n    this.resizeCol()\r\n    this.resizeGrid()\r\n\r\n    if (height && !this.$fixed.closest('.tab-content').length) this.$fixed.height(height).addClass('fixedH')\r\n  }\r\n\r\n  Tablefixed.prototype.initHead = function() {\r\n    var styles = this.options.styles = []\r\n    var $hTrs = this.$element.find('thead > tr')\r\n    var $fThs = $hTrs.eq(0).find('> th')\r\n    var fixedW = 0\r\n    var hTh = []\r\n    var cols = []\r\n    var jj = -1\r\n\r\n    $fThs.each(function(i) {\r\n      var $th = $(this)\r\n\r\n      var colspan = parseInt($th.attr('colspan') || 1)\r\n\r\n      var width = $th.attr('width')\r\n\r\n      var align = $th.attr('align')\r\n\r\n      var w = ''\r\n      for (var k = 0; k < colspan; k++) {\r\n        if (colspan === 1 && width) w = ' width=\"' + width + '\"'\r\n        if (align) $th.removeAttr('align').addClass(align)\r\n        hTh.push('<th' + w + '></th>')\r\n      }\r\n      $th.attr('colsNum', jj += colspan)\r\n      cols[i] = colspan\r\n    })\r\n\r\n    var thLen = hTh.length\r\n\r\n    var $hTh = $('<tr class=\"resize-head\">' + hTh.join('') + '</tr>')\r\n\r\n    if ($hTrs.length > 1) {\r\n      jj = 0\r\n      var $ths2 = $hTrs.eq(1).find('> th')\r\n      $.each(cols, function(i, n) {\r\n        n = parseInt(n)\r\n        if (n > 1) {\r\n          var colsNum = parseInt($fThs.eq(i).attr('colsnum'))\r\n          for (var k = n - 1; k >= 0; k--) {\r\n            var $th = $ths2.eq(jj++); var myNum = colsNum - k; var width = $th.attr('width'); var align = $th.attr('align')\r\n            var $_th = $hTh.find('> th').eq(myNum)\r\n\r\n            if ($th && $th.length) $th.attr('colsnum', myNum)\r\n            if (width) $_th.attr('width', width)\r\n            if (align) $th.addClass(align).removeAttr('align')\r\n          }\r\n        }\r\n      })\r\n    }\r\n\r\n    this.$fixed.html(this.$element.html())\r\n    var $thead = this.$fixed.find('thead')\r\n\r\n    $thead.prepend($hTh)\r\n    $hTh.find('> th').each(function(i) {\r\n      var $th = $(this)\r\n      var style = []; var width = $th.innerWidth()\r\n\r\n      style[0] = parseInt(width)\r\n      fixedW += style[0]\r\n      styles[styles.length] = style\r\n    })\r\n\r\n    fixedW = parseInt((this.options.newWidth - Tablefixed.SCROLLW - fixedW) / thLen)\r\n    var $ths = $thead.find('> tr:eq(0) > th')\r\n\r\n    this.options.$ths = $ths\r\n    $ths.each(function(i) {\r\n      var $th = $(this); var style = styles[i]; var w = $th.attr('width')\r\n\r\n      $th\r\n        .removeAttr('align')\r\n        .width(style[0] + fixedW)\r\n\r\n      style[0] = (style[0] + fixedW)\r\n      if (w) {\r\n        style[0] = parseInt(w)\r\n        $th.width(w).removeAttr('width')\r\n      }\r\n    })\r\n\r\n    $thead.find('> tr:gt(0) > th').each(function() {\r\n      var $th = $(this)\r\n\r\n      $th.html('<div class=\"fixedtableCol\">' + $th.html() + '</div>')\r\n    })\r\n\r\n    $thead.wrap('<div class=\"fixedtableHeader\" style=\"width:' + (this.options.newWidth - Tablefixed.SCROLLW) + 'px;overflow:hidden;\"><div class=\"fixedtableThead\"><table class=\"table table-bordered\" style=\"width:' + (this.options.newWidth - Tablefixed.SCROLLW) + 'px; max-width:' + (this.options.newWidth - Tablefixed.SCROLLW) + 'px;\"></table></div></div>')\r\n    this.$fixed.append('<div class=\"resizeMarker\" style=\"display:none; height:300px; left:57px;\"></div><div class=\"resizeProxy\" style=\"left:377px; display:none; height:300px;\"></div>')\r\n  }\r\n\r\n  Tablefixed.prototype.initBody = function() {\r\n    var that = this\r\n    var $tbody = this.$fixed.find('> tbody')\r\n    var style, height\r\n\r\n    if (this.options.height) {\r\n      height = (this.options.height - this.$fixed.find('.fixedtableHeader').height()) + 'px'\r\n    } else {\r\n      height = '100%'\r\n\r\n      var resizeH = function() {\r\n        var _height = that.$fixed.parent().height()\r\n\r\n        that.$fixed.parent().css('overflow', 'hidden')\r\n        that.$fixed.height(_height)\r\n          .find('.fixedtableScroller').height(_height - that.$fixed.find('.fixedtableHeader').height())\r\n      }\r\n\r\n      $(document).one(BJUI.eventType.afterInitUI, function(e) {\r\n        resizeH()\r\n      })\r\n    }\r\n\r\n    style = 'style=\"height:' + height + '; overflow-y:auto;\"'\r\n\r\n    $tbody.wrap('<div class=\"fixedtableScroller\"' + style + ' style=\"width:' + (this.options.newWidth) + 'px;\"><div class=\"fixedtableTbody\"><table style=\"width:' + (this.options.newWidth - Tablefixed.SCROLLW) + 'px; max-width:' + (this.options.newWidth - Tablefixed.SCROLLW) + 'px;\"></table></div></div>')\r\n\r\n    if (!this.$element.attr('class')) $tbody.parent().addClass('table table-striped table-bordered table-hover')\r\n    else $tbody.parent().addClass(this.$element.attr('class'))\r\n    if (typeof this.$element.attr('data-selected-multi') !== 'undefined') $tbody.parent().attr('data-selected-multi', this.$element.attr('data-selected-multi'))\r\n\r\n    $tbody.before('<thead><tr class=\"resize-head\">' + this.$fixed.find('thead > tr').html() + '</tr></thead>')\r\n    this.options.$tds = $tbody.prev().find('> tr:first-child > th')\r\n    if (this.options.nowrap) $tbody.parent().addClass('nowrap')\r\n\r\n    $tbody.closest('.fixedtableScroller').scroll(function(e) {\r\n      var $scroller = $(this)\r\n      var scrollLeft = $scroller.scrollLeft()\r\n      var $header = $scroller.prev().find('> .fixedtableThead')\r\n\r\n      $header.css({ 'position': 'relative', 'left': -scrollLeft })\r\n\r\n      return false\r\n    })\r\n  }\r\n\r\n  Tablefixed.prototype.resizeCol = function() {\r\n    var that = this\r\n    var $fixed = this.$fixed\r\n    var $ths = this.options.$ths\r\n    var $tds = this.options.$tds\r\n    var tools = this.tools\r\n\r\n    $fixed.find('thead > tr:gt(0) > th').each(function(i) {\r\n      var $th = $(this)\r\n\r\n      $th.mouseover(function(e) {\r\n        var ofLeft = parseInt($fixed.find('.fixedtableThead').css('left')) || 0\r\n        var offset = tools.getOffset($th, e).offsetX\r\n        var $resizeTh = $ths.eq($th.attr('colsnum'))\r\n\r\n        if ($th.outerWidth() - offset < 5) {\r\n          $th.css('cursor', 'col-resize').off('mousedown.bjui.tablefixed.resize').on('mousedown.bjui.tablefixed.resize', function(event) {\r\n            $fixed.find('> .resizeProxy')\r\n              .show()\r\n              .css({\r\n                left: tools.getRight($resizeTh) + ofLeft + $fixed.position().left,\r\n                top: $fixed.position().top,\r\n                height: $fixed.height(),\r\n                cursor: 'col-resize'\r\n              })\r\n              .basedrag({\r\n                scop: true, cellMinW: 20, relObj: $fixed.find('.resizeMarker'),\r\n                move: 'horizontal',\r\n                event: event,\r\n                stop: function() {\r\n                  var pleft = $fixed.find('.resizeProxy').position().left\r\n                  var mleft = $fixed.find('.resizeMarker').position().left\r\n                  var move = pleft - mleft - $resizeTh.outerWidth() - 9\r\n                  var cellNum = tools.getCellNum($resizeTh)\r\n                  var newW = $resizeTh.width() + move\r\n                  var $dcell = $tds.eq(cellNum - 1)\r\n                  var tableW = $fixed.find('> .fixedtableHeader .table').width()\r\n\r\n                  $resizeTh.width(newW)\r\n                  $dcell.width(newW)\r\n\r\n                  $fixed.find('.table').width(tableW + move)\r\n                  $fixed.find('.resizeMarker, .resizeProxy').hide()\r\n\r\n                  if ((tableW + move + Tablefixed.SCROLLW) < that.options.newWidth) {\r\n                    $fixed.find('.fixedtableScroller').width(tableW + move + Tablefixed.SCROLLW)\r\n                  } else {\r\n                    newW = $fixed.closest('.bjui-resizeGrid').innerWidth()\r\n                    if ((tableW + move + Tablefixed.SCROLLW) < newW) newW = (tableW + move + Tablefixed.SCROLLW)\r\n\r\n                    $fixed.find('.fixedtableHeader').width(newW - Tablefixed.SCROLLW)\r\n                    $fixed.find('.fixedtableScroller').width(newW)\r\n                    $fixed.width(newW)\r\n                  }\r\n                  $fixed.data('resizeGrid', true)\r\n                }\r\n              })\r\n\r\n            $fixed\r\n              .find('> .resizeMarker')\r\n              .show()\r\n              .css({\r\n                left: tools.getLeft($resizeTh) + ofLeft + $fixed.position().left,\r\n                top: $fixed.position().top,\r\n                height: $fixed.height()\r\n              })\r\n          })\r\n        } else {\r\n          $th\r\n            .css('cursor', 'default')\r\n            .off('mousedown.bjui.tablefixed.resize')\r\n        }\r\n\r\n        return false\r\n      })\r\n    })\r\n  }\r\n\r\n  Tablefixed.prototype.setOrderBy = function(options) {\r\n    var $th = this.$element\r\n\r\n    var $orderBox = $th.find('.fixedtableCol')\r\n\r\n    var $order = $(FRAG.orderby.replace('#asc#', BJUI.regional.orderby.asc).replace('#desc#', BJUI.regional.orderby.desc))\r\n\r\n    options = options || this.options\r\n\r\n    $th.addClass('orderby')\r\n    if (options.orderDirection) {\r\n      if (!BJUI.ui.clientPaging) $th.addClass(options.orderDirection)\r\n      $th.pagination('setClientOrder', { orderField: options.orderField, orderDirection: options.orderDirection })\r\n    }\r\n    if (!$orderBox.length) {\r\n      $orderBox = $('<div class=\"fixedtableCol\">' + $th.html() + '</div>')\r\n        .appendTo($th.empty())\r\n    }\r\n\r\n    $order\r\n      .data('orderField', options.orderField)\r\n      .appendTo($orderBox)\r\n      .pagination('orderBy')\r\n  }\r\n\r\n  Tablefixed.prototype.resizeGrid = function() {\r\n    var that = this\r\n    var _resizeGrid = function() {\r\n      $('div.bjui-resizeGrid').each(function() {\r\n        var $this = $(this); var $navtab = $this.closest('.navtabPage')\r\n\r\n        var width = $this.width()\r\n\r\n        var height = $this.height()\r\n\r\n        var $fixed = $this.find('.bjui-tablefixed')\r\n\r\n        var fixedH = $fixed.find('.fixedtableThead').height()\r\n\r\n        var newWidth = that.options.newWidth\r\n\r\n        var realWidth\r\n\r\n        if ($this.length && $this.is(':hidden')) {\r\n          if (!$this.hasClass('tab-pane')) {\r\n            $navtab.show()\r\n            width = $this.innerWidth()\r\n            height = $this.height()\r\n            fixedH = $fixed.find('.fixedtableHeader').height()\r\n            $navtab.hide()\r\n          }\r\n        }\r\n        if (width) {\r\n          $this.find('.bjui-tablefixed').each(function() {\r\n            var $fixed = $(this)\r\n\r\n            if (!$fixed.data('resizeGrid')) realWidth = width\r\n            else realWidth = newWidth\r\n\r\n            $fixed.width(realWidth)\r\n            $fixed.find('.table').width(realWidth - Tablefixed.SCROLLW)\r\n            $fixed.find('.fixedtableHeader').width(realWidth - Tablefixed.SCROLLW)\r\n            $fixed.find('.fixedtableScroller').width(realWidth)\r\n          })\r\n        }\r\n\r\n        /* resizeH */\r\n        $this.css('overflow', 'hidden')\r\n        $fixed.height(height)\r\n          .find('.fixedtableScroller').height(height - fixedH)\r\n      })\r\n\r\n      // var resizeH = function() {\r\n      //   var _height = that.$fixed.parent().height()\r\n      //\r\n      //   that.$fixed.parent().css('overflow', 'hidden')\r\n      //   that.$fixed.height(_height)\r\n      //     .find('.fixedtableScroller').height(_height - that.$fixed.find('.fixedtableHeader').height())\r\n      // }\r\n    }\r\n\r\n    $(window).on(BJUI.eventType.resizeGrid, _resizeGrid)\r\n  }\r\n\r\n  // TABLEFIXED PLUGIN DEFINITION\r\n  // =======================\r\n\r\n  function Plugin(option) {\r\n    var args = arguments\r\n    var property = option\r\n\r\n    return this.each(function() {\r\n      var $this = $(this)\r\n      var options = $.extend({}, Tablefixed.DEFAULTS, $this.data(), typeof option === 'object' && option)\r\n      var data = $this.data('bjui.tablefixed')\r\n\r\n      if (!data) $this.data('bjui.tablefixed', (data = new Tablefixed(this, options)))\r\n      if (typeof property === 'string' && $.isFunction(data[property])) {\r\n        [].shift.apply(args)\r\n        if (!args) data[property]()\r\n        else data[property].apply(data, args)\r\n      } else {\r\n        data.init()\r\n      }\r\n    })\r\n  }\r\n\r\n  var old = $.fn.tablefixed\r\n\r\n  $.fn.tablefixed = Plugin\r\n  $.fn.tablefixed.Constructor = Tablefixed\r\n\r\n  // TABLEFIXED NO CONFLICT\r\n  // =================\r\n\r\n  $.fn.tablefixed.noConflict = function() {\r\n    $.fn.tablefixed = old\r\n    return this\r\n  }\r\n\r\n  // TABLEFIXED DATA-API\r\n  // ==============\r\n\r\n  $(document).on(BJUI.eventType.initUI, function(e) {\r\n    var $this = $(e.target).find('table[data-toggle=\"tablefixed\"]')\r\n\r\n    if (!$this.length) return\r\n\r\n    Plugin.call($this)\r\n  })\r\n\r\n  /* orderby */\r\n  $(document).on(BJUI.eventType.afterInitUI, function(e) {\r\n    var $this = $(e.target).find('th[data-order-field]')\r\n\r\n    if (!$this.length) return\r\n\r\n    Plugin.call($this, 'setOrderBy')\r\n  })\r\n\r\n  /* selected tr */\r\n  $(document).on('click.bjui.tr.data-api', 'tr[data-id]', function(e) {\r\n    var $this = $(this)\r\n\r\n    var $table = $this.closest('table')\r\n\r\n    var multi = $table.data('selectedMulti')\r\n\r\n    var id = $this.attr('data-id')\r\n\r\n    var clsName = 'selected'\r\n\r\n    var $selected = $table.closest('.unitBox').find('#bjui-selected')\r\n\r\n    $this.toggleClass(clsName)\r\n    if (multi) {\r\n      id = []\r\n      $this.siblings('.' + clsName).add(($this.hasClass(clsName) ? $this : '')).each(function() {\r\n        id.push($(this).attr('data-id'))\r\n      })\r\n      id = id.join(',')\r\n    } else {\r\n      $this.siblings().removeClass(clsName)\r\n      if (!$this.hasClass(clsName)) id = ''\r\n    }\r\n    if ($selected && $selected.length) {\r\n      $selected.val(id)\r\n    } else {\r\n      $selected = $('<input type=\"hidden\" id=\"bjui-selected\" value=\"' + id + '\">')\r\n      $selected.appendTo($table.closest('.unitBox'))\r\n    }\r\n  })\r\n}(jQuery))\r\n","/*!\r\n * B-JUI  v1.2 (http://b-jui.com)\r\n * Git@OSC (http://git.oschina.net/xknaan/B-JUI)\r\n * Copyright 2014 K'naan (xknaan@163.com).\r\n * Licensed under Apache (http://www.apache.org/licenses/LICENSE-2.0)\r\n */\r\n\r\n/* ========================================================================\r\n * B-JUI: bjui-taskbar.js  v1.2\r\n * reference: bjui-dialog.js\r\n * @author K'naan (xknaan@163.com)\r\n * -- Modified from dwz.taskBar.js (author:Roger Wu)\r\n * http://git.oschina.net/xknaan/B-JUI/blob/master/BJUI/js/bjui-taskbar.js\r\n * ========================================================================\r\n * Copyright 2014 K'naan.\r\n * Licensed under Apache (http://www.apache.org/licenses/LICENSE-2.0)\r\n * ======================================================================== */\r\n\r\n+(function($) {\r\n  'use strict'\r\n\r\n  // TASKBAR GLOBAL ELEMENTS\r\n  // ======================\r\n\r\n  var $resizable\r\n  var $taskBar, $taskBox, $taskList, $prevBtn, $nextBtn, taskDisabled, taskSelected, taskMargin\r\n\r\n  $(function() {\r\n    var INIT_TASKBAR = function() {\r\n      $resizable = $('#bjui-resizable')\r\n      $taskBar = $(FRAG.taskbar)\r\n      $taskBox = $taskBar.find('.taskbarContent')\r\n      $taskList = $taskBox.find('> ul')\r\n      $prevBtn = $taskBar.find('.taskbarLeft')\r\n      $nextBtn = $taskBar.find('.taskbarRight')\r\n      taskDisabled = 'disabled'\r\n      taskSelected = 'selected'\r\n      taskMargin = 'taskbarMargin'\r\n\r\n      $('body').append('<!-- dialog task bar -->').append($taskBar)\r\n\r\n      // events\r\n      $prevBtn.click(function(e) { $(this).taskbar('scrollLeft') })\r\n      $nextBtn.click(function(e) { $(this).taskbar('scrollRight') })\r\n    }\r\n    INIT_TASKBAR()\r\n  })\r\n\r\n  // TASKBAR CLASS DEFINITION\r\n  // ======================\r\n\r\n  var Taskbar = function(element, options) {\r\n    this.$element = $(element)\r\n    this.$task = null\r\n    this.options = options\r\n    this.tools = this.TOOLS()\r\n  }\r\n\r\n  Taskbar.DEFAULTS = {\r\n    id: undefined,\r\n    title: undefined\r\n  }\r\n\r\n  Taskbar.prototype.init = function() {\r\n    var that = this\r\n    var $task = $taskList.find('#' + this.options.id)\r\n\r\n    this.show()\r\n    if (!$task.length) {\r\n      var taskFrag = '<li id=\"#taskid#\"><div class=\"taskbutton\"><span><i class=\"fa fa-th-large\"></i></span> <span class=\"title\">#title#</span></div><div class=\"close\"><i class=\"fa fa-times-circle\"></i></div></li>'\r\n\r\n      $task = $(taskFrag.replace('#taskid#', this.options.id).replace('#title#', this.options.title))\r\n      $task.appendTo($taskList)\r\n    } else {\r\n      $task.find('> div > span.title').html(this.options.title)\r\n    }\r\n    this.contextmenu($task)\r\n    this.switchTask($task)\r\n    this.tools.scrollTask($task)\r\n\r\n    // events\r\n    $task.click(function(e) {\r\n      if ($(e.target).closest('div').hasClass('close') || $(e.target).hasClass('close')) {\r\n        $task.dialog('close', that.options.id)\r\n      } else {\r\n        var $dialog = $('body').data(that.options.id)\r\n\r\n        if ($task.hasClass('selected')) {\r\n          $dialog.find('.dialogHeader a.minimize').trigger('click')\r\n        } else {\r\n          if ($dialog.is(':hidden')) {\r\n            that.restoreDialog($dialog)\r\n          } else {\r\n            $dialog.trigger('click')\r\n            $task.addClass(taskSelected)\r\n          }\r\n        }\r\n        that.scrollCurrent($task)\r\n      }\r\n\r\n      return false\r\n    })\r\n  }\r\n\r\n  Taskbar.prototype.TOOLS = function() {\r\n    return {\r\n      scrollCurrent: function() {\r\n        var iW = this.tasksW(this.getTasks())\r\n\r\n        if (iW > this.getTaskBarW()) {\r\n          var $tools = this\r\n          var lTask = $taskList.find('> li:last-child')\r\n          var left = this.getTaskBarW() - lTask.position().left - lTask.outerWidth(true)\r\n\r\n          $taskList.animate({ left: left }, 200, function() {\r\n            $tools.ctrlScrollBtn()\r\n          })\r\n        } else {\r\n          this.ctrlScrollBtn()\r\n        }\r\n      },\r\n      getTaskBarW: function() {\r\n        return $taskBox.width() - ($prevBtn.is(':hidden') ? $prevBtn.width() + 2 : 0) - ($nextBtn.is(':hidden') ? $nextBtn.width() + 2 : 0)\r\n      },\r\n      scrollTask: function($task) {\r\n        var $tools = this\r\n        var left\r\n\r\n        if ($task.position().left + this.getLeft() + $task.outerWidth() > this.getBarWidth()) {\r\n          left = this.getTaskBarW() - $task.position().left - $task.outerWidth(true) - 2\r\n\r\n          $taskList.animate({ left: left }, 200, function() {\r\n            $tools.ctrlScrollBtn()\r\n          })\r\n        } else if ($task.position().left + this.getLeft() < 0) {\r\n          left = this.getLeft() - ($task.position().left + this.getLeft())\r\n\r\n          $taskList.animate({ left: left }, 200, function() {\r\n            $tools.ctrlScrollBtn()\r\n          })\r\n        }\r\n      },\r\n      ctrlScrollBtn: function() {\r\n        var iW = this.tasksW(this.getTasks())\r\n\r\n        if (this.getTaskBarW() > iW) {\r\n          $taskBox.removeClass(taskMargin)\r\n          $nextBtn.hide()\r\n          $prevBtn.hide()\r\n          if (this.getTasks().eq(0).length) this.scrollTask(this.getTasks().eq(0))\r\n        } else {\r\n          $taskBox.addClass(taskMargin)\r\n          $nextBtn.show().removeClass(taskDisabled)\r\n          $prevBtn.show().removeClass(taskDisabled)\r\n          if (this.getLeft() >= 0) $prevBtn.addClass(taskDisabled)\r\n          if (this.getLeft() <= this.getTaskBarW() - iW) $nextBtn.addClass(taskDisabled)\r\n        }\r\n      },\r\n      getLeft: function() {\r\n        return $taskList.position().left\r\n      },\r\n      visibleStart: function() {\r\n        var iLeft = this.getLeft()\r\n        var jTasks = this.getTasks()\r\n\r\n        for (var i = 0; i < jTasks.length; i++) {\r\n          if (jTasks.eq(i).position().left + jTasks.eq(i).outerWidth(true) + iLeft >= 0) return jTasks.eq(i)\r\n        }\r\n\r\n        return jTasks.eq(0)\r\n      },\r\n      visibleEnd: function() {\r\n        var iLeft = this.getLeft()\r\n        var jTasks = this.getTasks()\r\n\r\n        for (var i = 0; i < jTasks.length; i++) {\r\n          if (jTasks.eq(i).position().left + jTasks.eq(i).outerWidth(true) + iLeft > this.getBarWidth()) return jTasks.eq(i)\r\n        }\r\n\r\n        return jTasks.eq(jTasks.length - 1)\r\n      },\r\n      getTasks: function() {\r\n        return $taskList.find('> li')\r\n      },\r\n      tasksW: function(jTasks) {\r\n        var iW = 0\r\n\r\n        jTasks.each(function() {\r\n          iW += $(this).outerWidth(true)\r\n        })\r\n\r\n        return iW\r\n      },\r\n      getBarWidth: function() {\r\n        return $taskBar.innerWidth()\r\n      },\r\n      getCurrent: function() {\r\n        return $taskList.find('li.' + taskSelected)\r\n      }\r\n    }\r\n  }\r\n\r\n  Taskbar.prototype.contextmenu = function($obj) {\r\n    var that = this\r\n\r\n    $obj.contextmenu({\r\n      id: 'dialogCM',\r\n      bindings: {\r\n        reload: function(t) {\r\n          t.dialog('refresh', that.options.id)\r\n        },\r\n        closeCurrent: function(t, m) {\r\n          var $obj = t.isTag('li') ? t : that.tools.getCurrent()\r\n\r\n          $obj.find('.close').trigger('click')\r\n        },\r\n        closeOther: function(t, m) {\r\n          var $tasks = $taskList.find('> li').not(t)\r\n\r\n          $tasks.each(function(i) {\r\n            $(this).find('.close').trigger('click')\r\n          })\r\n        },\r\n        closeAll: function(t, m) {\r\n          var $tasks = that.tools.getTasks()\r\n\r\n          $tasks.each(function(i) {\r\n            $(this).find('.close').trigger('click')\r\n          })\r\n        }\r\n      },\r\n      ctrSub: function(t, m) {\r\n        var mCur = m.find('[rel=\"closeCurrent\"]')\r\n        var mOther = m.find('[rel=\"closeOther\"]')\r\n\r\n        if (!that.tools.getCurrent().length) {\r\n          mCur.addClass(taskDisabled)\r\n          mOther.addClass(taskDisabled)\r\n        } else {\r\n          if (that.tools.getTasks().length === 1) { mOther.addClass(taskDisabled) }\r\n        }\r\n      }\r\n    })\r\n  }\r\n\r\n  Taskbar.prototype.closeDialog = function(task) {\r\n    var $task = (typeof task === 'string') ? this.getTask(task) : task\r\n\r\n    if (!$task || !$task.length) return\r\n\r\n    $task.remove()\r\n    if (this.tools.getTasks().length === 0) {\r\n      this.hide()\r\n    }\r\n    this.tools.scrollCurrent()\r\n    this.$element.removeData('bjui.taskbar')\r\n  }\r\n\r\n  Taskbar.prototype.minimize = function(dialog) {\r\n    var that = this\r\n    var $dialog = (typeof dialog === 'string') ? $('body').data('dialog') : dialog\r\n    var $task = this.getTask($dialog.data('options').id)\r\n\r\n    $resizable.css({\r\n      top: $dialog.css('top'),\r\n      left: $dialog.css('left'),\r\n      height: $dialog.css('height'),\r\n      width: $dialog.css('width')\r\n    }).show().animate({ top: $(window).height() - 60, left: $task.position().left, width: $task.outerWidth(), height: $task.outerHeight() }, 250, function() {\r\n      $(this).hide()\r\n      that.inactive($task)\r\n    })\r\n  }\r\n\r\n  /**\r\n   * @param $dialog {Object} id or dialog\r\n   */\r\n  Taskbar.prototype.restoreDialog = function($dialog) {\r\n    var $task = this.getTask($dialog.data('options').id)\r\n\r\n    $resizable.css({ top: $(window).height() - 60, left: $task.position().left, height: $task.outerHeight(), width: $task.outerWidth() })\r\n      .show()\r\n      .animate({ top: $dialog.css('top'), left: $dialog.css('left'), width: $dialog.css('width'), height: $dialog.css('height') }, 250, function() {\r\n        $(this).hide()\r\n        $dialog.show()\r\n      })\r\n\r\n    this.switchTask($task)\r\n  }\r\n\r\n  /**\r\n   * @param task {Object} id\r\n   */\r\n  Taskbar.prototype.inactive = function(task) {\r\n    var $task = (typeof task === 'string') ? this.getTask(task) : task\r\n\r\n    $task.removeClass(taskSelected)\r\n  }\r\n\r\n  Taskbar.prototype.scrollLeft = function() {\r\n    var $task = this.tools.visibleStart()\r\n\r\n    this.tools.scrollTask($task)\r\n  }\r\n\r\n  Taskbar.prototype.scrollRight = function() {\r\n    var $task = this.tools.visibleEnd()\r\n\r\n    this.tools.scrollTask($task)\r\n  }\r\n\r\n  Taskbar.prototype.scrollCurrent = function($task) {\r\n    this.tools.scrollTask($task)\r\n  }\r\n\r\n  /**\r\n   * @param task {Object} id or $task\r\n   */\r\n  Taskbar.prototype.switchTask = function(task) {\r\n    this.tools.getCurrent().removeClass(taskSelected)\r\n    var $task = (typeof task === 'string') ? this.getTask(task) : task\r\n\r\n    $task.addClass(taskSelected)\r\n  }\r\n\r\n  Taskbar.prototype.getTask = function(id) {\r\n    return $taskList.find('#' + id)\r\n  }\r\n\r\n  Taskbar.prototype.changeTitle = function(id, title) {\r\n    var $task = this.getTask(id)\r\n\r\n    if ($task && title) $task.find('.title').html(title)\r\n  }\r\n\r\n  Taskbar.prototype.show = function() {\r\n    if ($taskBar.is(':hidden')) $taskBar.show().animate({ bottom: 0 }, 500)\r\n  }\r\n\r\n  Taskbar.prototype.hide = function() {\r\n    if ($taskBar.is(':visible')) $taskBar.animate({ bottom: -50 }, 500, function() { $taskBar.hide() })\r\n  }\r\n\r\n  // TASKBAR PLUGIN DEFINITION\r\n  // =======================\r\n\r\n  function Plugin(option) {\r\n    var args = arguments\r\n    var property = option\r\n\r\n    return this.each(function() {\r\n      var $this = $(this)\r\n      var options = $.extend({}, Taskbar.DEFAULTS, $this.data(), typeof option === 'object' && option)\r\n      var data = $this.data('bjui.taskbar')\r\n\r\n      if (!data) $this.data('bjui.taskbar', (data = new Taskbar(this, options)))\r\n      else if (data.options.id !== options.id) $this.data('bjui.taskbar', (data = new Taskbar(this, options)))\r\n\r\n      if (typeof property === 'string' && $.isFunction(data[property])) {\r\n        [].shift.apply(args)\r\n        if (!args) data[property]()\r\n        else data[property].apply(data, args)\r\n      } else {\r\n        data.init()\r\n      }\r\n    })\r\n  }\r\n\r\n  var old = $.fn.taskbar\r\n\r\n  $.fn.taskbar = Plugin\r\n  $.fn.taskbar.Constructor = Taskbar\r\n\r\n  // TASKBAR NO CONFLICT\r\n  // =================\r\n\r\n  $.fn.taskbar.noConflict = function() {\r\n    $.fn.taskbar = old\r\n    return this\r\n  }\r\n}(jQuery))\r\n","/*!\r\n * B-JUI  v1.2 (http://b-jui.com)\r\n * Git@OSC (http://git.oschina.net/xknaan/B-JUI)\r\n * Copyright 2014 K'naan (xknaan@163.com).\r\n * Licensed under Apache (http://www.apache.org/licenses/LICENSE-2.0)\r\n */\r\n\r\n/* ========================================================================\r\n * B-JUI: bjui-theme.js  v1.2\r\n * @author K'naan (xknaan@163.com)\r\n * http://git.oschina.net/xknaan/B-JUI/blob/master/BJUI/js/bjui-theme.js\r\n * ========================================================================\r\n * Copyright 2014 K'naan.\r\n * Licensed under Apache (http://www.apache.org/licenses/LICENSE-2.0)\r\n * ======================================================================== */\r\n\r\n+(function($) {\r\n  'use strict'\r\n\r\n  // THEME GLOBAL ELEMENTS\r\n  // ======================\r\n\r\n  var $themeLink, $themeLis\r\n\r\n  $(function() {\r\n    var INIT_THEME = function() {\r\n      $themeLink = $('#bjui-link-theme')\r\n      $themeLis = $('#bjui-themes')\r\n    }\r\n\r\n    INIT_THEME()\r\n  })\r\n\r\n  // THEME CLASS DEFINITION\r\n  // ======================\r\n  var Theme = function(element, options) {\r\n    this.$element = $(element)\r\n    this.options = options\r\n  }\r\n\r\n  Theme.DEFAULTS = {\r\n    theme: 'purple'\r\n  }\r\n\r\n  Theme.prototype.init = function() {\r\n    if (!$themeLink.length) return\r\n    var themeHref = $themeLink.attr('href')\r\n\r\n    themeHref = themeHref.substring(0, themeHref.lastIndexOf('/'))\r\n    themeHref = themeHref.substring(0, themeHref.lastIndexOf('/'))\r\n    themeHref += '/' + this.options.theme + '/core.css'\r\n    $themeLink.attr('href', themeHref)\r\n\r\n    var $themeA = this.$element.closest('ul').prev()\r\n    var classA = $themeA.attr('class')\r\n\r\n    classA = classA.replace(/(theme[\\s][a-z]*)/g, '')\r\n    $themeA.removeClass().addClass(classA).addClass('theme').addClass(this.options.theme)\r\n    $themeLis.find('li').removeClass('active')\r\n    this.$element.parent().addClass('active')\r\n    this.cookie()\r\n  }\r\n\r\n  Theme.prototype.setTheme = function(themeName) {\r\n    $themeLis.find('a.theme_' + themeName).trigger('click')\r\n  }\r\n\r\n  Theme.prototype.cookie = function() {\r\n    var theme = this.options.theme\r\n\r\n    if ($.cookie) $.cookie('bjui_theme', theme, { path: '', expires: 30 })\r\n  }\r\n\r\n  // THEME PLUGIN DEFINITION\r\n  // =======================\r\n\r\n  function Plugin(option) {\r\n    var args = arguments\r\n    var property = option\r\n\r\n    return this.each(function() {\r\n      var $this = $(this)\r\n      var options = $.extend({}, Theme.DEFAULTS, $this.data(), typeof option === 'object' && option)\r\n      var data = $this.data('bjui.theme')\r\n\r\n      if (!data) $this.data('bjui.theme', (data = new Theme(this, options)))\r\n      if (typeof property === 'string' && $.isFunction(data[property])) {\r\n        [].shift.apply(args)\r\n        if (!args) data[property]()\r\n        else data[property].apply(data, args)\r\n      } else {\r\n        data.init()\r\n      }\r\n    })\r\n  }\r\n\r\n  var old = $.fn.theme\r\n\r\n  $.fn.theme = Plugin\r\n  $.fn.theme.Constructor = Theme\r\n\r\n  // THEME NO CONFLICT\r\n  // =================\r\n\r\n  $.fn.theme.noConflict = function() {\r\n    $.fn.theme = old\r\n    return this\r\n  }\r\n\r\n  // THEME DATA-API\r\n  // ==============\r\n\r\n  $(document).on('click.bjui.theme.data-api', '[data-toggle=\"theme\"]', function(e) {\r\n    Plugin.call($(this))\r\n\r\n    e.preventDefault()\r\n  })\r\n}(jQuery))\r\n","/*!\r\n * B-JUI  v1.2 (http://b-jui.com)\r\n * Git@OSC (http://git.oschina.net/xknaan/B-JUI)\r\n * Copyright 2014 K'naan (xknaan@163.com).\r\n * Licensed under Apache (http://www.apache.org/licenses/LICENSE-2.0)\r\n */\r\n\r\n/* ========================================================================\r\n * B-JUI: bjui-upload.js  v1.2\r\n * @author K'naan (xknaan@163.com)\r\n * -- Modified from Huploadify 2.0 (author:吕大豹)\r\n * http://git.oschina.net/xknaan/B-JUI/blob/master/BJUI/js/bjui-upload.js\r\n * ========================================================================\r\n * Copyright 2014 K'naan.\r\n * Licensed under Apache (http://www.apache.org/licenses/LICENSE-2.0)\r\n * ======================================================================== */\r\n\r\n+(function($) {\r\n  'use strict'\r\n\r\n  // UPLOAD CLASS DEFINITION\r\n  // ======================\r\n  var Upload = function(element, options) {\r\n    this.$element = $(element)\r\n    this.options = options\r\n    this.tools = this.TOOLS()\r\n  }\r\n\r\n  Upload.DEFAULTS = {\r\n    fileTypeExts: '*.jpg;*.png', // 允许上传的文件类型，格式'*.jpg;*.doc'\r\n    uploader: '', // 文件提交的地址\r\n    auto: false, // 是否开启自动上传\r\n    method: 'POST', // 发送请求的方式，get或post\r\n    multi: false, // 是否允许选择多个文件\r\n    formData: {}, // 发送给服务端的参数，格式：{key1:value1,key2:value2}\r\n    fileObjName: 'file', // 在后端接受文件的参数名称，如PHP中的$_FILES['file']\r\n    fileSizeLimit: 204800, // 允许上传的文件大小，单位KB\r\n    previewImg: true, // 是否预览上传图片\r\n    previewLoadimg: null, // 预览图片前的载入图标\r\n    dragDrop: false, // 是否允许拖动上传\r\n    showUploadedPercent: true, // 是否实时显示上传的百分比，如20%\r\n    showUploadedSize: true, // 是否实时显示已上传的文件大小，如1M/2M\r\n    buttonText: '选择上传文件', // 上传按钮上的文字\r\n    removeTimeout: 1e3, // 上传完成后进度条的消失时间\r\n    itemTemplate: FRAG.uploadTemp, // 上传队列显示的模板\r\n    breakPoints: false, // 是否开启断点续传\r\n    fileSplitSize: 1024 * 1024, // 断点续传的文件块大小，单位Byte，默认1M\r\n    onUploadBefore: null, // 上传开始前的动作, 返回true则开始上传，否则结束上传\r\n    onUploadStart: null, // 上传开始时的动作\r\n    onUploadSuccess: null, // 上传成功的动作\r\n    onUploadComplete: null, // 上传完成的动作\r\n    onUploadError: null, // 上传失败的动作, 这里的失败指的是httpCode != 200，请勿与框架ajax回调code混淆\r\n    onInit: null, // 初始化时的动作\r\n    onCancel: null, // 删除掉某个文件后的回调函数，可传入参数file\r\n    onSelect: null // 选取文件回调\r\n  }\r\n\r\n  Upload.MIMETYPES = {\r\n    zip: ['application/x-zip-compressed'],\r\n    jpg: ['image/jpeg'],\r\n    png: ['image/png'],\r\n    gif: ['image/gif'],\r\n    swf: ['application/x-shockwave-flash'],\r\n    doc: ['application/msword'],\r\n    xls: ['application/vnd.ms-excel'],\r\n    docx: ['application/vnd.openxmlformats-officedocument.wordprocessingml.document'],\r\n    xlsx: ['application/vnd.openxmlformats-officedocument.spreadsheetml.sheet'],\r\n    ppt: ['application/vnd.ms-powerpoint'],\r\n    pptx: ['application/vnd.openxmlformats-officedocument.presentationml.presentation'],\r\n    mp3: ['audio/mpeg'],\r\n    mp4: ['video/mp4'],\r\n    pdf: ['application/pdf'],\r\n    txt: ['text/plain'],\r\n    xml: ['text/xml']\r\n  }\r\n\r\n  Upload.prototype.TOOLS = function() {\r\n    var that = this; var options = this.options\r\n    var tools = {\r\n      // 将文件的单位由bytes转换为KB或MB，若第二个参数指定为true，则永远转换为KB\r\n      formatFileSize: function(size, byKB) {\r\n        if (size > 1024 * 1024 && !byKB) { size = (Math.round(size * 100 / (1024 * 1024)) / 100).toString() + 'MB' } else { size = (Math.round(size * 100 / 1024) / 100).toString() + 'KB' }\r\n\r\n        return size\r\n      },\r\n      // 根据文件序号获取文件\r\n      getFile: function(index, files) {\r\n        console.log(index)\r\n        for (var i = 0; i < files.length; i++) {\r\n          if (files[i].index === index) return files[i]\r\n        }\r\n        return false\r\n      },\r\n      // 将输入的文件类型字符串转化为数组,原格式为*.jpg;*.png\r\n      getFileTypes: function(str) {\r\n        var result = []\r\n        var arr1 = str.split(';')\r\n\r\n        for (var i = 0; i < arr1.length; i++) {\r\n          result.push(arr1[i].split('.').pop())\r\n        }\r\n        return result\r\n      },\r\n      // 根据后缀名获得文件的mime类型\r\n      getMimetype: function(name) {\r\n        return Upload.MIMETYPES[name]\r\n      },\r\n      // 根据配置的字符串，获得上传组件accept的值\r\n      getAcceptString: function(str) {\r\n        var types = this.getFileTypes(str)\r\n        var result = []\r\n\r\n        for (var i = 0; i < types.length; i++) {\r\n          var mime = this.getMimetype(types[i])\r\n\r\n          if (mime) result.push(mime)\r\n          else result.push('.' + types[i])\r\n        }\r\n        return result.join(',')\r\n      },\r\n      // 过滤上传文件\r\n      filter: function(files) {\r\n        var arr = []\r\n        var typeArray = this.getFileTypes(options.fileTypeExts)\r\n\r\n        if (typeArray.length > 0) {\r\n          for (var i = 0; i < files.length; i++) {\r\n            var thisFile = files[i]\r\n\r\n            if (parseInt(this.formatFileSize(thisFile.size, true)) > options.fileSizeLimit) {\r\n              that.$element.alertmsg('error', '文件\"' + thisFile.name + '\"大小超出限制！')\r\n              continue\r\n            }\r\n            if ($.inArray(thisFile.name.split('.').pop().toLowerCase(), typeArray) >= 0) {\r\n              arr.push(thisFile)\r\n            } else {\r\n              that.$element.alertmsg('error', '文件\"' + thisFile.name + '\"类型不允许！')\r\n            }\r\n          }\r\n        }\r\n        return arr\r\n      },\r\n      // 获取选择文件，file控件\r\n      getFiles: function(e) {\r\n        var files = e.target.files || e.dataTransfer.files // 获取文件列表对象\r\n\r\n        files = this.filter(files)\r\n        for (var i = 0; i < files.length; i++) {\r\n          files[i].id = files[i].lastModifiedDate.getTime() + '_' + files[i].size + '_' + (files[i].type || '').replace(/\\W/g, '')\r\n          this.renderQueueItem(files[i])\r\n          that.queueData.files++\r\n        }\r\n\r\n        return files\r\n      },\r\n      // 生成上传队列Dom\r\n      renderQueueItem: function(file) {\r\n        var uploadedSize = 0\r\n        var $temp = $(options.itemTemplate\r\n          .replace('{fileId}', file.id)\r\n          .replace('{fileName}', file.name)\r\n          .replace('#upConfirm#', BJUI.regional.upload.upConfirm)\r\n          .replace('#upPause#', BJUI.regional.upload.upPause)\r\n          .replace('#upCancel#', BJUI.regional.upload.upCancel)\r\n          .replace('{percent}', '0.00%')\r\n          .replace('{uploadedSize}', '0KB')\r\n          .replace('{fileSize}', this.formatFileSize(file.size)))\r\n\r\n        // 如果是自动上传，去掉上传按钮\r\n        if (options.auto) {\r\n          $temp.find('> .info > .up_confirm').remove()\r\n        }\r\n        $temp.data('upfile', file)\r\n        that.$uploadFileList.append($temp)\r\n        // 如果断点续传\r\n        if (options.breakPoints) {\r\n          uploadedSize = this.getUploadedSize(file.id)\r\n          if (uploadedSize > file.size) uploadedSize = file.size\r\n        }\r\n        this.showProgress(file.id, uploadedSize, file.size)\r\n        // 判断是否预览图片\r\n        if (options.previewImg && file.type.indexOf('image') !== -1) {\r\n          var $prevbox = $temp.find('> .preview > .img')\r\n\r\n          if (options.previewLoadimg) $prevbox.html('<img src=\"' + options.previewLoadimg + '\" height=\"114\">')\r\n          this.previewImg(file, $prevbox)\r\n        } else {\r\n          $temp.find('> .preview').remove()\r\n        }\r\n        // 判断是否显示已上传文件大小\r\n        if (options.showUploadedSize) {\r\n          var $fileSize = $temp.find('> .filesize')\r\n\r\n          $fileSize.find('> .uploadedsize').html(this.formatFileSize(uploadedSize))\r\n          $fileSize.find('> .filesize').html(this.formatFileSize(file.size))\r\n        } else {\r\n          $temp.find('> .filesize').remove()\r\n        }\r\n        // 判断是否显示上传百分比\r\n        if (options.showUploadedPercent) {\r\n          $temp.find('> .percent').html((uploadedSize / file.size * 100).toFixed(2) + '%')\r\n        } else {\r\n          $temp.find('> .percent').remove()\r\n        }\r\n        options.onSelect && options.onSelect(file)\r\n        // 判断是否是自动上传\r\n        if (options.auto) that.fileUpload(file, uploadedSize)\r\n\r\n        $temp.on('click.bjui.upload.confirm', '.up_confirm', function(e) {\r\n          var $this = $(this); var $queue = $this.closest('.item')\r\n\r\n          $this.hide().next().show()\r\n          that.fileUpload($queue.data('upfile'), uploadedSize)\r\n        })\r\n        $temp.on('click.bjui.upload.cancel', '.up_cancel', this.removeQueueItem)\r\n      },\r\n      successQueueItem: function(file, xhr) {\r\n        tools.showProgress(file.id, file.size, file.size)\r\n        options.onUploadSuccess && options.onUploadSuccess.toFunc().call(that, file, xhr.responseText, that.$element)\r\n        // 在指定的间隔时间后删掉进度条\r\n        setTimeout(function() {\r\n          that.$element.find('#' + file.id).fadeOut('normal', function() {\r\n            $(this).remove()\r\n            var filelen = that.$element.find('> .queue > .item:visible').length\r\n\r\n            if (filelen === 0) {\r\n              that.$element.find('> .queue').hide()\r\n              that.$file.val('')\r\n            }\r\n          })\r\n        }, options.removeTimeout)\r\n      },\r\n      removeQueueItem: function(e, xhr) {\r\n        if (xhr) xhr.abort()\r\n\r\n        $(this).closest('.item').fadeOut('normal', function() {\r\n          $(this).remove()\r\n\r\n          var filelen = that.$element.find('> .queue > .item:visible').length\r\n          if (filelen === 0) that.$element.find('> .queue').hide()\r\n        })\r\n\r\n        e.preventDefault()\r\n      },\r\n      // 预览上传图片\r\n      previewImg: function(file, $obj) {\r\n        if (file && $obj.length) {\r\n          var reader = new FileReader()\r\n\r\n          reader.onload = function(e) {\r\n            $obj.html('<img src=\"' + e.target.result + '\">')\r\n          }\r\n          reader.readAsDataURL(file)\r\n        }\r\n      },\r\n      // 上传进度条\r\n      showProgress: function(fileId, uploadedSize, fileSize) {\r\n        var initWidth = uploadedSize / fileSize * 100 + '%'\r\n\r\n        // var initFileSize = that.tools.formatFileSize(uploadedSize)\r\n\r\n        // var initUppercent = (uploadedSize / fileSize * 100).toFixed(2) + '%'\r\n        that.$element.find('#' + fileId + ' > .progress > .bar').css('width', initWidth)\r\n      },\r\n      // 断点续传：获取已上传的文件片断大小\r\n      getUploadedSize: function(fileId) {\r\n        return localStorage.getItem(fileId) * 1\r\n      },\r\n      // 断点续传：保存已上传的文件片断大小\r\n      saveUploadedSize: function(fileId, value) {\r\n        localStorage.setItem(fileId, value)\r\n      },\r\n      // 发送文件块函数\r\n      sendBlob: function(url, xhr, file, formdata) {\r\n        var fd = new FormData()\r\n\r\n        xhr.open(options.method, url, true)\r\n        xhr.setRequestHeader('X-Requested-With', 'XMLHttpRequest')\r\n        // xhr.setRequestHeader('X_Requested_With', location.href.split('/')[5].replace(/[^a-z]+/g, '$'))\r\n        fd.append(options.fileObjName, file)\r\n        if (formdata) {\r\n          for (var key in formdata) {\r\n            if (formdata.hasOwnProperty(key)) {\r\n              fd.append(key, formdata[key])\r\n            }\r\n          }\r\n        }\r\n        xhr.send(fd)\r\n      }\r\n    }\r\n\r\n    return tools\r\n  }\r\n\r\n  Upload.prototype.init = function() {\r\n    var that = this\r\n    var $element = this.$element\r\n    var options = this.options\r\n\r\n    if (!(options.uploader)) {\r\n      BJUI.debug('Upload Plugin: The options uploader is undefined!')\r\n      return\r\n    } else {\r\n      options.uploader = decodeURI(options.uploader).replacePlh($element.closest('.unitBox'))\r\n\r\n      if (!options.uploader.isFinishedTm()) {\r\n        $element.alertmsg('error', (options.warn || FRAG.alertPlhMsg.replace('#plhmsg#', BJUI.regional.plhmsg)))\r\n        BJUI.debug('Upload Plugin: The options uploader is incorrect: ' + options.uploader)\r\n        return\r\n      }\r\n\r\n      options.uploader = encodeURI(options.uploader)\r\n    }\r\n\r\n    if ($element.hasClass('bjui-upload')) return\r\n\r\n    var $uploadFrag = $(FRAG.uploadFrag\r\n      .replaceAll('#multi#', options.multi ? 'multiple' : '')\r\n      .replaceAll('#accept#', that.tools.getAcceptString(options.fileTypeExts))\r\n      .replaceAll('#btnTxt#', (options.icon ? '<i class=\"fa fa-' + options.icon + '\">&nbsp;&nbsp;' : '') + options.buttonText))\r\n\r\n    $element\r\n      .addClass('bjui-upload')\r\n      .append($uploadFrag)\r\n\r\n    this.$file = $element.find('> .bjui-upload-select-file')\r\n    this.$uploadFileList = $element.find('> .queue')\r\n    this.queueData = { files: 0, success: 0, error: 0 }\r\n\r\n    // do select files\r\n    $element\r\n      .on('change.bjui.upload', '.bjui-upload-select-file', function(e) {\r\n        that.fileSelect(e)\r\n      })\r\n      .on('click.bjui.upload', '.bjui-upload-select', function(e) {\r\n        that.$file.trigger('click')\r\n      })\r\n\r\n    options.onInit && options.onInit()\r\n\r\n    // 如果允许拖动上传\r\n    if (options.dragDrop) {\r\n      /* 拖拽元素在目标元素头上移动的时候 */\r\n      $element[0].ondragover = function(ev) {\r\n        ev.preventDefault()\r\n        return true\r\n      }\r\n\r\n      $element[0].ondrop = function(e) {\r\n        that.fileSelect(e)\r\n\r\n        e.stopPropagation()\r\n        e.preventDefault()\r\n      }\r\n    }\r\n  }\r\n\r\n  Upload.prototype.fileSelect = function(e) {\r\n    this.$uploadFileList.show()\r\n    this.tools.getFiles(e)\r\n  }\r\n\r\n  Upload.prototype.fileUpload = function(file, uploadedSize) {\r\n    var that = this; var $element = that.$element; var options = that.options; var tools = that.tools\r\n    var xhr = false; var originalFile = file\r\n\r\n    if (options.onUploadComplete) {\r\n      if (typeof options.onUploadComplete === 'string') {\r\n        options.onUploadComplete = options.onUploadComplete.toFunc()\r\n      }\r\n    }\r\n\r\n    var next = true\r\n    if (options.onUploadBefore) {\r\n      if (typeof options.onUploadBefore === 'string') {\r\n        options.onUploadBefore = options.onUploadBefore.toFunc()\r\n      }\r\n      next = options.onUploadBefore(options.formData || {}, this.$file)\r\n      if (next !== true) {\r\n        options.formData = next\r\n      }\r\n    }\r\n    if (!next) {\r\n      $element\r\n        .find('#' + originalFile.id + ' > .info > .up_cancel')\r\n        .trigger('click.bjui.upload.cancel')\r\n      options.onUploadComplete && options.onUploadComplete(originalFile, xhr.responseText, this.$file)\r\n      return\r\n    }\r\n\r\n    // 校正进度条和上传比例的误差\r\n    xhr = new XMLHttpRequest()\r\n\r\n    if (options.breakPoints) {\r\n      // 对文件进行切割，并保留原来的信息\r\n      file = originalFile.slice(uploadedSize, uploadedSize + options.fileSplitSize)\r\n    }\r\n    if (xhr.upload) {\r\n      // 上传进度\r\n      xhr.upload.onprogress = function(e) { that.onProgress(file, e.loaded, originalFile.size) }\r\n      // 上传回调\r\n      xhr.onreadystatechange = function(e) {\r\n        if (xhr.readyState !== 4) {\r\n          return\r\n        }\r\n        if (xhr.status === 200) {\r\n          var upOver = false\r\n          if (options.breakPoints) {\r\n            // 更新已上传文件大小，保存到本地\r\n            uploadedSize += options.fileSplitSize\r\n            tools.saveUploadedSize(originalFile.id, uploadedSize)\r\n            // 继续上传其他片段\r\n            if (uploadedSize < originalFile.size) {\r\n              file = originalFile.slice(uploadedSize, uploadedSize + options.fileSplitSize)\r\n              // 上传文件\r\n              tools.sendBlob(options.uploader, xhr, file, options.formData)\r\n            } else {\r\n              upOver = true\r\n            }\r\n          } else {\r\n            upOver = true\r\n          }\r\n          if (upOver) {\r\n            that.queueData.success++\r\n            tools.successQueueItem(originalFile, xhr)\r\n            options.onUploadComplete && options.onUploadComplete(originalFile, xhr.responseText, that.$file)\r\n          }\r\n        } else {\r\n          that.queueData.error++\r\n          // 错误回调\r\n          options.onUploadError && options.onUploadError(originalFile, xhr.responseText)\r\n        }\r\n        // 队列完成回调\r\n        if (options.onQueueComplete) {\r\n          if (that.queueData.files === (that.queueData.success + that.queueData.error)) { options.onQueueComplete(that.queueData) }\r\n        }\r\n      }\r\n      options.onUploadStart && options.onUploadStart()\r\n\r\n      // 开始上传\r\n      options.formData.fileName = originalFile.name\r\n      options.formData.lastModifiedDate = originalFile.lastModifiedDate.getTime()\r\n      tools.sendBlob(options.uploader, xhr, file, options.formData)\r\n    }\r\n\r\n    // 暂停事件\r\n    $element\r\n      .find('#' + originalFile.id + ' > .info > .up_pause')\r\n      .on('click.bjui.upload.pause', function(e) {\r\n        xhr.abort()\r\n        $(this).hide().prev().show()\r\n      })\r\n\r\n    // 取消事件\r\n    $element\r\n      .find('#' + originalFile.id + ' > .info > .up_cancel')\r\n      .off('click.bjui.upload.cancel')\r\n      .on('click.bjui.upload.cancel', $.proxy(function(e) {\r\n        this.tools.removeQueueItem(e, xhr)\r\n      }, this))\r\n  }\r\n\r\n  Upload.prototype.onProgress = function(file, loaded, total) {\r\n    var that = this; var options = that.options\r\n    var $progress = that.$element.find('#' + file.id + ' .progress')\r\n    var thisLoaded = loaded\r\n    // 根据上一次触发progress时上传的大小，得到本次的增量\r\n    var lastLoaded = $progress.attr('lastLoaded') || 0\r\n\r\n    loaded -= parseInt(lastLoaded)\r\n    if (loaded > file.size) loaded = file.size\r\n\r\n    that.$progressBar = $progress.children('.bar')\r\n    var oldWidth = options.breakPoints ? parseFloat(that.$progressBar.get(0).style.width || 0) : 0\r\n    var percent = (loaded / total * 100 + oldWidth).toFixed(2)\r\n    var percentText = percent > 100 ? '100%' : percent + '%'\r\n\r\n    // 校正四舍五入的计算误差\r\n    if (options.showUploadedSize) {\r\n      var $filesize = $progress.nextAll('.filesize')\r\n\r\n      $filesize.find('> .uploadedsize').text(that.tools.formatFileSize(loaded))\r\n    }\r\n    if (options.showUploadedPercent) {\r\n      $progress.nextAll('.up_percent').text(percentText)\r\n    }\r\n    that.$progressBar.css('width', percentText)\r\n    // 记录本次触发progress时已上传的大小，用来计算下次需增加的数量\r\n    if (thisLoaded < options.fileSplitSize) {\r\n      $progress.attr('lastLoaded', thisLoaded)\r\n    } else {\r\n      $progress.removeAttr('lastLoaded')\r\n    }\r\n  }\r\n\r\n  Upload.prototype.destroy = function() {\r\n\r\n  }\r\n\r\n  // UPLOAD PLUGIN DEFINITION\r\n  // =======================\r\n\r\n  function Plugin(option) {\r\n    var args = arguments\r\n    var property = option\r\n\r\n    if (window.FileReader) {\r\n      return this.each(function() {\r\n        var $this = $(this)\r\n        var options = $.extend({}, Upload.DEFAULTS, $this.data(), typeof option === 'object' && option)\r\n        var data = $this.data('bjui.upload')\r\n\r\n        if (!data) $this.data('bjui.upload', (data = new Upload(this, options)))\r\n        if (typeof property === 'string' && $.isFunction(data[property])) {\r\n          [].shift.apply(args)\r\n          if (!args) data[property]()\r\n          else data[property].apply(data, args)\r\n        } else {\r\n          data.init()\r\n        }\r\n      })\r\n    } else { // for IE8-9\r\n      this.each(function() {\r\n        if (!$.fn.uploadify) return\r\n        var options = {\r\n          swf: BJUI.PLUGINPATH + 'uploadify/scripts/uploadify.swf',\r\n          fileTypeExts: '*.jpg;*.png',\r\n          id: 'fileInput',\r\n          fileObjName: 'file',\r\n          fileSizeLimit: 204800,\r\n          buttonText: '选择上传文件',\r\n          auto: false,\r\n          multi: false,\r\n          height: 24\r\n        }\r\n        var $element = $(this)\r\n        var op = $element.data()\r\n\r\n        $element.addClass('bjui-upload')\r\n        if (!op.id) op.id = $element.attr('id')\r\n        $.extend(options, op)\r\n        if (!(options.uploader)) {\r\n          BJUI.debug('Upload Plugin: The options uploader is undefined!')\r\n          return\r\n        } else {\r\n          options.uploader = decodeURI(options.uploader).replacePlh($element.closest('.unitBox'))\r\n\r\n          if (!options.uploader.isFinishedTm()) {\r\n            $element.alertmsg('error', (options.warn || FRAG.alertPlhMsg.replace('#plhmsg#', BJUI.regional.plhmsg)))\r\n            BJUI.debug('Upload Plugin: The options uploader is incorrect: ' + options.uploader)\r\n            return\r\n          }\r\n\r\n          options.uploader = encodeURI(options.uploader)\r\n        }\r\n        if (options.id === 'fileInput') options.id = options.id + (new Date().getTime())\r\n        var $file = $('<input type=\"file\" name=\"' + options.name + '\" id=\"' + options.id + '\">')\r\n\r\n        if (options.onInit && typeof options.onInit === 'string') { options.onInit = options.onInit.toFunc() }\r\n        if (options.onCancel && typeof options.onCancel === 'string') { options.onCancel = options.onCancel.toFunc() }\r\n        if (options.onSelect && typeof options.onSelect === 'string') { options.onSelect = options.onSelect.toFunc() }\r\n        if (options.onUploadSuccess && typeof options.onUploadSuccess === 'string') { options.onUploadSuccess = options.onUploadSuccess.toFunc() }\r\n        if (options.onUploadComplete && typeof options.onUploadComplete === 'string') { options.onUploadComplete = options.onUploadComplete.toFunc() }\r\n        if (options.onUploadError && typeof options.onUploadError === 'string') { options.onUploadError = options.onUploadError.toFunc() }\r\n        if (options.onUploadBefore && typeof options.onUploadBefore === 'string') { options.onUploadBefore = options.onUploadBefore.toFunc() }\r\n\r\n        $file.appendTo($element)\r\n        if (!options.auto) {\r\n          var $upBtn = $('<button class=\"btn btn-orange\" data-icon=\"cloud-upload\">开始上传</button>')\r\n\r\n          $upBtn\r\n            .hide()\r\n            .insertAfter($element)\r\n            .click(function() {\r\n              $file.uploadify('upload', '*')\r\n              $(this).hide()\r\n            })\r\n\r\n          options.onSelect = function() {\r\n            $upBtn.show()\r\n          }\r\n        }\r\n        $file.uploadify(options)\r\n      })\r\n    }\r\n  }\r\n\r\n  var old = $.fn.upload\r\n\r\n  $.fn.upload = Plugin\r\n  $.fn.upload.Constructor = Upload\r\n\r\n  // UPLOAD NO CONFLICT\r\n  // =================\r\n\r\n  $.fn.upload.noConflict = function() {\r\n    $.fn.upload = old\r\n    return this\r\n  }\r\n\r\n  // UPLOAD DATA-API\r\n  // ==============\r\n\r\n  $(document).on(BJUI.eventType.initUI, function(e) {\r\n    var $this = $(e.target).find('[data-toggle=\"upload\"]')\r\n\r\n    if (!$this.length) return\r\n\r\n    Plugin.call($this)\r\n  })\r\n}(jQuery))\r\n","/*!\r\n * B-JUI  v1.2 (http://b-jui.com)\r\n * Git@OSC (http://git.oschina.net/xknaan/B-JUI)\r\n * Copyright 2014 K'naan (xknaan@163.com).\r\n * Licensed under Apache (http://www.apache.org/licenses/LICENSE-2.0)\r\n */\r\n\r\n/* ========================================================================\r\n * B-JUI: bjui-util.date.js  v1.2\r\n * @author K'naan (xknaan@163.com)\r\n * -- Modified from dwz.util.date.js (author:ZhangHuihua@msn.com)\r\n * http://git.oschina.net/xknaan/B-JUI/blob/master/BJUI/js/bjui-util.date.js\r\n * ========================================================================\r\n * Copyright 2014 K'naan.\r\n * Licensed under Apache (http://www.apache.org/licenses/LICENSE-2.0)\r\n * ======================================================================== */\r\n\r\n+(function($) {\r\n  'use strict'\r\n\r\n  var MONTH_NAMES = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December', 'Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec']\r\n\r\n  var DAY_NAMES = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat']\r\n\r\n  /**\r\n   * @return {string}\r\n   */\r\n  function LZ(x) {\r\n    return (x < 0 || x > 9 ? '' : '0') + x\r\n  }\r\n\r\n  /**\r\n   * formatDate (date_object, format)\r\n   * Returns a date in the output format specified.\r\n   * The format string uses the same abbreviations as in parseDate()\r\n   * @param {Object} date\r\n   * @param {Object} format\r\n   */\r\n  function formatDate(date, format) {\r\n    format = format + ''\r\n    var result = ''\r\n    var i_format = 0\r\n    var c = ''\r\n    var token = ''\r\n    var y = date.getYear() + ''\r\n    var M = date.getMonth() + 1\r\n    var d = date.getDate()\r\n    var E = date.getDay()\r\n    var H = date.getHours()\r\n    var m = date.getMinutes()\r\n    var s = date.getSeconds()\r\n    // Convert real date parts into formatted versions\r\n    var value = {}\r\n\r\n    if (y.length < 4) {\r\n      y = '' + (y - 0 + 1900)\r\n    }\r\n    value['y'] = '' + y\r\n    value['yyyy'] = y\r\n    value['yy'] = y.substring(2, 4)\r\n    value['M'] = M\r\n    value['MM'] = LZ(M)\r\n    value['MMM'] = MONTH_NAMES[M - 1]\r\n    value['NNN'] = MONTH_NAMES[M + 11]\r\n    value['d'] = d\r\n    value['dd'] = LZ(d)\r\n    value['E'] = DAY_NAMES[E + 7]\r\n    value['EE'] = DAY_NAMES[E]\r\n    value['H'] = H\r\n    value['HH'] = LZ(H)\r\n\r\n    if (H === 0) {\r\n      value['h'] = 12\r\n    } else if (H > 12) {\r\n      value['h'] = H - 12\r\n    } else {\r\n      value['h'] = H\r\n    }\r\n    value['hh'] = LZ(value['h'])\r\n\r\n    if (H > 11) {\r\n      value['K'] = H - 12\r\n    } else {\r\n      value['K'] = H\r\n    }\r\n    value['k'] = H + 1\r\n    value['KK'] = LZ(value['K'])\r\n    value['kk'] = LZ(value['k'])\r\n\r\n    if (H > 11) {\r\n      value['a'] = 'PM'\r\n    } else {\r\n      value['a'] = 'AM'\r\n    }\r\n    value['m'] = m\r\n    value['mm'] = LZ(m)\r\n    value['s'] = s\r\n    value['ss'] = LZ(s)\r\n\r\n    while (i_format < format.length) {\r\n      c = format.charAt(i_format)\r\n      token = ''\r\n\r\n      while (format.charAt(i_format) === c && i_format < format.length) {\r\n        token += format.charAt(i_format++)\r\n      }\r\n      if (value[token] != null) {\r\n        result += value[token]\r\n      } else {\r\n        result += token\r\n      }\r\n    }\r\n    return result\r\n  }\r\n\r\n  function _isInteger(val) {\r\n    return new RegExp(/^\\d+$/).test(val)\r\n  }\r\n\r\n  function _getInt(str, i, minlength, maxlength) {\r\n    for (var x = maxlength; x >= minlength; x--) {\r\n      var token = str.substring(i, i + x)\r\n\r\n      if (token.length < minlength) {\r\n        return null\r\n      }\r\n      if (_isInteger(token)) {\r\n        return token\r\n      }\r\n    }\r\n    return null\r\n  }\r\n\r\n  /**\r\n   * parseDate( date_string , format_string )\r\n   *\r\n   * This function takes a date string and a format string. It matches\r\n   * If the date string matches the format string, it returns the date.\r\n   * If it does not match, it returns 0.\r\n   * @param {Object} val\r\n   * @param {Object} format\r\n   */\r\n  function parseDate(val, format) {\r\n    val = val + ''\r\n    format = format + ''\r\n\r\n    var i\r\n    var i_val = 0\r\n    var i_format = 0\r\n    var c = ''\r\n    var token = ''\r\n    var x, y\r\n    var now = new Date(1900, 0, 1)\r\n    var year = now.getYear()\r\n    var month = now.getMonth() + 1\r\n    var date = 1\r\n    var hh = now.getHours()\r\n    var mm = now.getMinutes()\r\n    var ss = now.getSeconds()\r\n    var ampm = ''\r\n\r\n    while (i_format < format.length) {\r\n      // Get next token from format string\r\n      c = format.charAt(i_format)\r\n      token = ''\r\n      while (format.charAt(i_format) === c && i_format < format.length) {\r\n        token += format.charAt(i_format++)\r\n      }\r\n      // Extract contents of value based on format token\r\n      if (token === 'yyyy' || token === 'yy' || token === 'y') {\r\n        if (token === 'yyyy') {\r\n          x = 4\r\n          y = 4\r\n        }\r\n        if (token === 'yy') {\r\n          x = 2\r\n          y = 2\r\n        }\r\n        if (token === 'y') {\r\n          x = 2\r\n          y = 4\r\n        }\r\n        year = _getInt(val, i_val, x, y)\r\n        if (year === null) {\r\n          return 0\r\n        }\r\n        i_val += year.length\r\n        if (year.length === 2) {\r\n          if (year > 70) {\r\n            year = 1900 + (year - 0)\r\n          } else {\r\n            year = 2e3 + (year - 0)\r\n          }\r\n        }\r\n      } else if (token === 'MMM' || token === 'NNN') {\r\n        month = 0\r\n        for (i = 0; i < MONTH_NAMES.length; i++) {\r\n          var month_name = MONTH_NAMES[i]\r\n\r\n          if (val.substring(i_val, i_val + month_name.length).toLowerCase() === month_name.toLowerCase()) {\r\n            if (token === 'MMM' || token === 'NNN' && i > 11) {\r\n              month = i + 1\r\n              if (month > 12) {\r\n                month -= 12\r\n              }\r\n              i_val += month_name.length\r\n              break\r\n            }\r\n          }\r\n        }\r\n        if (month < 1 || month > 12) {\r\n          return 0\r\n        }\r\n      } else if (token === 'EE' || token === 'E') {\r\n        for (i = 0; i < DAY_NAMES.length; i++) {\r\n          var day_name = DAY_NAMES[i]\r\n\r\n          if (val.substring(i_val, i_val + day_name.length).toLowerCase() === day_name.toLowerCase()) {\r\n            i_val += day_name.length\r\n            break\r\n          }\r\n        }\r\n      } else if (token === 'MM' || token === 'M') {\r\n        month = _getInt(val, i_val, token.length, 2)\r\n        if (month === null || month < 1 || month > 12) {\r\n          return 0\r\n        }\r\n        i_val += month.length\r\n      } else if (token === 'dd' || token === 'd') {\r\n        date = _getInt(val, i_val, token.length, 2)\r\n        if (date === null || date < 1 || date > 31) {\r\n          return 0\r\n        }\r\n        i_val += date.length\r\n      } else if (token === 'hh' || token === 'h') {\r\n        hh = _getInt(val, i_val, token.length, 2)\r\n        if (hh === null || hh < 1 || hh > 12) {\r\n          return 0\r\n        }\r\n        i_val += hh.length\r\n      } else if (token === 'HH' || token === 'H') {\r\n        hh = _getInt(val, i_val, token.length, 2)\r\n        if (hh === null || hh < 0 || hh > 23) {\r\n          return 0\r\n        }\r\n        i_val += hh.length\r\n      } else if (token === 'KK' || token === 'K') {\r\n        hh = _getInt(val, i_val, token.length, 2)\r\n        if (hh === null || hh < 0 || hh > 11) {\r\n          return 0\r\n        }\r\n        i_val += hh.length\r\n      } else if (token === 'kk' || token === 'k') {\r\n        hh = _getInt(val, i_val, token.length, 2)\r\n        if (hh === null || hh < 1 || hh > 24) {\r\n          return 0\r\n        }\r\n        i_val += hh.length\r\n        hh--\r\n      } else if (token === 'mm' || token === 'm') {\r\n        mm = _getInt(val, i_val, token.length, 2)\r\n        if (mm === null || mm < 0 || mm > 59) {\r\n          return 0\r\n        }\r\n        i_val += mm.length\r\n      } else if (token === 'ss' || token === 's') {\r\n        ss = _getInt(val, i_val, token.length, 2)\r\n        if (ss === null || ss < 0 || ss > 59) {\r\n          return 0\r\n        }\r\n        i_val += ss.length\r\n      } else if (token === 'a') {\r\n        if (val.substring(i_val, i_val + 2).toLowerCase() === 'am') {\r\n          ampm = 'AM'\r\n        } else if (val.substring(i_val, i_val + 2).toLowerCase() === 'pm') {\r\n          ampm = 'PM'\r\n        } else {\r\n          return 0\r\n        }\r\n        i_val += 2\r\n      } else {\r\n        if (val.substring(i_val, i_val + token.length) !== token) {\r\n          return 0\r\n        } else {\r\n          i_val += token.length\r\n        }\r\n      }\r\n    }\r\n    // If there are any trailing characters left in the value, it doesn't match\r\n    if (i_val !== val.length) {\r\n      return 0\r\n    }\r\n    // Is date valid for month?\r\n    if (month === 2) {\r\n      // Check for leap year\r\n      if (year % 4 === 0 && year % 100 !== 0 || year % 400 === 0) {\r\n        // leap year\r\n        if (date > 29) {\r\n          return 0\r\n        }\r\n      } else {\r\n        if (date > 28) {\r\n          return 0\r\n        }\r\n      }\r\n    }\r\n    if (month === 4 || month === 6 || month === 9 || month === 11) {\r\n      if (date > 30) {\r\n        return 0\r\n      }\r\n    }\r\n    // Correct hours value\r\n    if (hh < 12 && ampm === 'PM') {\r\n      hh = hh + 12\r\n    } else if (hh > 11 && ampm === 'AM') {\r\n      hh -= 12\r\n    }\r\n\r\n    return new Date(year, month - 1, date, hh, mm, ss)\r\n  }\r\n\r\n  Date.prototype.formatDate = function(dateFmt) {\r\n    return formatDate(this, dateFmt)\r\n  }\r\n\r\n  String.prototype.parseDate = function(dateFmt) {\r\n    if (this.length < dateFmt.length) {\r\n      dateFmt = dateFmt.slice(0, this.length)\r\n    }\r\n    return parseDate(this, dateFmt)\r\n  }\r\n\r\n  /**\r\n   * replaceTmEval('{1+2}-{2-1}')\r\n   */\r\n  function replaceTmEval(data) {\r\n    return data.replace(RegExp('({[A-Za-z0-9_+-]*})', 'g'), function($1) {\r\n      return eval('(' + $1.replace(/[{}]+/g, '') + ')')\r\n    })\r\n  }\r\n\r\n  /**\r\n   * dateFmt:%y-%M-%d\r\n   * %y-%M-{%d+1}\r\n   * ex: new Date().formatDateTm('%y-%M-{%d-1}')\r\n   *     new Date().formatDateTm('2012-1')\r\n   */\r\n  Date.prototype.formatDateTm = function(dateFmt) {\r\n    var y = this.getFullYear()\r\n    var m = this.getMonth() + 1\r\n    var d = this.getDate()\r\n    var sDate = dateFmt.replaceAll('%y', y).replaceAll('%M', m).replaceAll('%d', d)\r\n\r\n    sDate = replaceTmEval(sDate)\r\n\r\n    var _y = 1900; var _m = 0; var _d = 1\r\n    var aDate = sDate.split('-')\r\n\r\n    if (aDate.length > 0) _y = aDate[0]\r\n    if (aDate.length > 1) _m = aDate[1] - 1\r\n    if (aDate.length > 2) _d = aDate[2]\r\n\r\n    return new Date(_y, _m, _d).formatDate('yyyy-MM-dd')\r\n  }\r\n\r\n  /**\r\n   * 时间格式化\r\n   * 示例： Date.parseTime(new Date(), '{y}-{m}-{d} {h}:{i}:{s}')\r\n   * @param time Date对象 或 时间戳， 默认当前时间\r\n   * @param format 返回格式 默认：{y}-{m}-{d} {h}:{i}:{s}\r\n   * @returns {void | string}\r\n   */\r\n  Date.parseTime = function(time, format) {\r\n    time = time || new Date()\r\n    format = format || '{y}-{m}-{d} {h}:{i}:{s}'\r\n    var date\r\n    if (typeof time === 'object') {\r\n      date = time\r\n    } else {\r\n      if (('' + time).length === 10) time = parseInt(time) * 1000\r\n      date = new Date(time)\r\n    }\r\n    var formatObj = {\r\n      y: date.getFullYear(),\r\n      m: date.getMonth() + 1,\r\n      d: date.getDate(),\r\n      h: date.getHours(),\r\n      i: date.getMinutes(),\r\n      s: date.getSeconds(),\r\n      a: date.getDay()\r\n    }\r\n    return format.replace(/{([ymdhis])+}/g, function(result, key) {\r\n      var value = formatObj[key]\r\n      if (result.length > 0 && value < 10) {\r\n        value = '0' + value\r\n      }\r\n      return value || 0\r\n    })\r\n  }\r\n  /**\r\n   * 设置0点\r\n   * @returns {Date}\r\n   */\r\n  Date.prototype.startTime = function() {\r\n    this.setHours(0)\r\n    this.setMinutes(0)\r\n    this.setSeconds(0)\r\n    this.setMilliseconds(0)\r\n    return this\r\n  }\r\n  /**\r\n   * @returns {Date}\r\n   */\r\n  Date.prototype.endTime = function() {\r\n    this.setHours(23)\r\n    this.setMinutes(59)\r\n    this.setSeconds(59)\r\n    this.setMilliseconds(999)\r\n    return this\r\n  }\r\n\r\n  /**\r\n   * 返回当天时间- 00:00:00|23:59:59\r\n   * @param type {String} start|end\r\n   * @returns {Date}\r\n   */\r\n  Date.today = function(type) {\r\n    type = type || 'start'\r\n    if (type === 'start') {\r\n      return new Date().startTime()\r\n    } else {\r\n      return new Date().endTime()\r\n    }\r\n  }\r\n}(jQuery))\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","/*! js-cookie v3.0.1 | MIT */\n/* eslint-disable no-var */\nfunction assign (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n    for (var key in source) {\n      target[key] = source[key];\n    }\n  }\n  return target\n}\n/* eslint-enable no-var */\n\n/* eslint-disable no-var */\nvar defaultConverter = {\n  read: function (value) {\n    if (value[0] === '\"') {\n      value = value.slice(1, -1);\n    }\n    return value.replace(/(%[\\dA-F]{2})+/gi, decodeURIComponent)\n  },\n  write: function (value) {\n    return encodeURIComponent(value).replace(\n      /%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,\n      decodeURIComponent\n    )\n  }\n};\n/* eslint-enable no-var */\n\n/* eslint-disable no-var */\n\nfunction init (converter, defaultAttributes) {\n  function set (key, value, attributes) {\n    if (typeof document === 'undefined') {\n      return\n    }\n\n    attributes = assign({}, defaultAttributes, attributes);\n\n    if (typeof attributes.expires === 'number') {\n      attributes.expires = new Date(Date.now() + attributes.expires * 864e5);\n    }\n    if (attributes.expires) {\n      attributes.expires = attributes.expires.toUTCString();\n    }\n\n    key = encodeURIComponent(key)\n      .replace(/%(2[346B]|5E|60|7C)/g, decodeURIComponent)\n      .replace(/[()]/g, escape);\n\n    var stringifiedAttributes = '';\n    for (var attributeName in attributes) {\n      if (!attributes[attributeName]) {\n        continue\n      }\n\n      stringifiedAttributes += '; ' + attributeName;\n\n      if (attributes[attributeName] === true) {\n        continue\n      }\n\n      // Considers RFC 6265 section 5.2:\n      // ...\n      // 3.  If the remaining unparsed-attributes contains a %x3B (\";\")\n      //     character:\n      // Consume the characters of the unparsed-attributes up to,\n      // not including, the first %x3B (\";\") character.\n      // ...\n      stringifiedAttributes += '=' + attributes[attributeName].split(';')[0];\n    }\n\n    return (document.cookie =\n      key + '=' + converter.write(value, key) + stringifiedAttributes)\n  }\n\n  function get (key) {\n    if (typeof document === 'undefined' || (arguments.length && !key)) {\n      return\n    }\n\n    // To prevent the for loop in the first place assign an empty array\n    // in case there are no cookies at all.\n    var cookies = document.cookie ? document.cookie.split('; ') : [];\n    var jar = {};\n    for (var i = 0; i < cookies.length; i++) {\n      var parts = cookies[i].split('=');\n      var value = parts.slice(1).join('=');\n\n      try {\n        var foundKey = decodeURIComponent(parts[0]);\n        jar[foundKey] = converter.read(value, foundKey);\n\n        if (key === foundKey) {\n          break\n        }\n      } catch (e) {}\n    }\n\n    return key ? jar[key] : jar\n  }\n\n  return Object.create(\n    {\n      set: set,\n      get: get,\n      remove: function (key, attributes) {\n        set(\n          key,\n          '',\n          assign({}, attributes, {\n            expires: -1\n          })\n        );\n      },\n      withAttributes: function (attributes) {\n        return init(this.converter, assign({}, this.attributes, attributes))\n      },\n      withConverter: function (converter) {\n        return init(assign({}, this.converter, converter), this.attributes)\n      }\n    },\n    {\n      attributes: { value: Object.freeze(defaultAttributes) },\n      converter: { value: Object.freeze(converter) }\n    }\n  )\n}\n\nvar api = init(defaultConverter, { path: '/' });\n/* eslint-enable no-var */\n\nexport default api;\n","import Cookies from 'js-cookie'\n\n/**\n * Cookie plugin\n * jQuery Cookie封装\n *\n */\n\njQuery.cookie = function(name, value, options) {\n  if (typeof value !== 'undefined') {\n    // set cookie\n    options = options || {}\n    if (value === null) {\n      // remove cookie\n      return Cookies.remove(name, options)\n    }\n    return Cookies.set(name, value, options)\n  } else {\n    // get cookie\n    return Cookies.get(name)\n  }\n}\n"],"names":["$","autorefreshTimer","Bjuiajax","element","options","this","$element","tools","TOOLS","Plugin","option","args","arguments","property","each","$this","extend","DEFAULTS","data","isFunction","shift","apply","reload","loadingmask","NAVTAB","prototype","that","getPagerForm","$parent","form","isTag","find","pageInfo","BJUI","key","hasOwnProperty","val","value","appendTo","getTarget","closest","length","ajaxForm","$form","callback","enctype","attr","toFunc","successFn","textStatus","jqXHR","proxy","ajaxCallback","_submitFn","op","type","url","error","ajaxError","window","FormData","contentType","processData","serializeArray","files","iframe","_extra","extra","undefined","toObj","JSON","stringify","serializeJson","doAjax","confirmMsg","alertmsg","okCall","ajaxDone","json","keys","statusCode","message","timeout","FRAG","sessionTimout","loadLogin","xhr","ajaxOptions","thrownError","removeProgress","msg","responseText","trim","startsWith","status","statusText","$target","ok","divCallback","navtabCallback","dialogCallback","tabid","setTimeout","navtab","dialogid","dialog","divid","bjuiajax","ajaxUrl","reloadNavtab","forward","_forward","forwardConfirm","closeCurrent","datagrid","join","i","n","cancelCall","pageCallback","target","reloadDiv","CurrentNavtab","CurrentDialog","doSearch","pageCurrent","isValid","decodeURI","replacePlh","isFinishedTm","warn","alertPlhMsg","replace","regional","plhmsg","debug","encodeURI","search","_data","clearQuery","validator","v","doLoad","removeData","refreshLayout","clearInterval","arefre","autorefresh","isNaN","String","addClass","html","ui","clientPaging","pagination","setInterval","refreshDiv","arr","split","todo","doExport","fileDownload","httpMethod","cookiePath","failCallback","responseHtml","doExportChecked","group","ids","$checks","push","idname","alertNotChecked","notchecked","alertNoCheckGroup","nocheckgroup","doAjaxChecked","old","fn","Constructor","noConflict","document","on","e","call","preventDefault","eventType","initUI","valid","jQuery","Ajaxtab","init","load","tab","ajaxtab","$box","$alertbg","timer","alertBoxFrag","hide","alertBackground","append","Alertmsg","clearTime","displayPosition","displayMode","autoClose","alertTimeout","mask","types","info","correct","confirm","fas","getTitle","title","keydownOk","event","which","keyCode","ENTER","trigger","keydownEsc","ESC","openPosition","position","alertMsg","mode","height","outerHeight","startCss","endCss","top","left","right","bottom","css","show","animate","opacity","closePosition","empty","remove","open","buttons","$newbox","$btns","btnsHtml","sRel","sCls","cls","sIco","alertBtnFrag","name","clearTimeout","close","eq","alert","btnoptions","okName","btnMsg","off","cancelName","cancel","Basedrag","$obj","obj","start","selector","bind","onselectstart","oleft","parseInt","otop","stop","drag","pageX","clientX","pageY","clientY","move","minW","maxW","scop","relObj","cellMinW","$selector","outerWidth","width","preventEvent","unbind","destroy","stopPropagation","nounbind","basedrag","$menu","$shadow","hash","Contextmenu","id","shadow","bindings","ctrSub","index","display","cur","cp","content","func","posX","posY","one","items","isShow","exclude","custom","$li","$ul","icon","evt","contextmenu","version","JSPATH","PLUGINPATH","IS_DEBUG","date","KeyPressed","ctrl","theme","KindEditor","uploadJson","fileManagerJson","END","HOME","SHIFT","CTRL","TAB","LEFT","RIGHT","UP","DOWN","DELETE","BACKSPACE","beforeInitUI","afterInitUI","ajaxStatus","resizeGrid","beforeAjaxLoad","beforeLoadNavtab","beforeLoadDialog","afterLoadNavtab","afterLoadDialog","beforeCloseNavtab","beforeCloseDialog","afterCloseNavtab","afterCloseDialog","total","pageSize","orderField","orderDirection","ajaxTimeout","windowWidth","showSlidebar","overwriteHomeTab","console","log","loginInfo","login","cookie","initEnv","initDate","resize","ww","initLayout","initui","$header","$navtab","iContentW","iContentH","navtabH","resizePageH","navbarWidth","$toggle","$logo","$navbar","$nav","logoW","navW","removeClass","$hnavbox","$hnavbar","$hmoreL","prev","$hmoreR","next","hboxWidth","liW","setRegional","getRegional","indexOf","doRegional","frag","k","replaceAll","today","Date","formatDate","setSeconds","getSeconds","fadeOut","$main","$prev","$next","$year","$month","$time","$timeinps","$spinner","$hh","$mm","$ss","$tm","$close","$days","$dayNames","$clearBtn","$okBtn","datepicker","calendar","calendarFrag","clear","dayNames","dr","monthNames","m","INIT_DATEPICKER","Datepicker","$dateBtn","now","minDate","formatDateTm","maxDate","events","focus_time","click_prev","click_next","click_ok","click_days","click_clear","click_close","click_tm","click_spinner","mousedown_sp","mouseup_sp","change_ym","click_time","keydown_time","keyup_time","pattern","mmStep","ssStep","EVENTS","afterChange","changeTmMenu","sltClass","filter","clickTmMenu","$input","text","keydownInt","changeTm","$btn","ivalue","istart","iend","istep","newVal","closeCalendar","flag","get","getDays","y","test","minMaxDate","sDate","_count","_format","parseDate","getMinDate","getMaxDate","_sDate","_date","_day","getFullYear","getMonth","setDate","setMonth","getDateWrap","days","year","month","day","getDate","hour","getHours","minute","getMinutes","second","changeDate","d","changeDateTime","M","H","s","changeDay","chMonth","dw","changeMonth","yearIndex","selectedIndex","maxYear","change","hasHour","hasMinute","hasSecond","hasTime","hasDate","_dateKeys","addBtn","addbtn","parent","hasClass","dateBtn","wrap","innerHeight","yearstart","yearend","add","$day","create","$dd","setHours","setMinutes","focus","_ctrClass","t","monthStart","startDay","getDay","dayStr","prevDateWrap","$alldays","not","iMinute","offset","iTop","offsetHeight","iBoxH","click","$date","prevAll","is","$current","zindex","Dialog","ZINDEX","resizable","minH","max","drawable","maxable","minable","fresh","onLoad","beforeClose","onClose","getDefaults","$dialog","wW","wH","$dialogContent","ModuleFixed","destroyModules","response","resizeContent","$body","href","switchDialog","maximize","restore","minimize","maxsize","addMask","taskbar","$a","$bar","resizeInit","$mask","dialogMask","insertBefore","refresh","initOptionFlag","getCurrent","initOptions","_reload","reloadWarn","reloadForm","$pagerForm","pageData","cindex","canClose","unwrap","$dialogs","$_current","getMaxIndexObj","checkTimeout","$dialogConetnt","parse","original","dwidth","dheight","resizeDialog","$resizable","dragCurrent","owidth","oheight","ox","screenX","oy","resizeStop","resizeStart","current","lmove","tmove","ajax","cache","dataType","success","toJson","$ajaxMask","sessiontimeout","statusCode_503","loadUrl","getPageTarget","when","done","$pageHeader","$pageContent","$pageFooter","headH","footH","$elements","zIndex","newZIndex","o","a","tn","prop","tagName","toLowerCase","isBind","_events","isPositiveInteger","RegExp","isInteger","isNumber","includeChinese","endsWith","lastIndexOf","replaceSuffix","replaceSuffix2","trans","encodeTXT","os","ns","$1","replaceMsg","holder","replaceTm","$data","replaceTmById","_box","skipChar","ch","charAt","substring","isValidPwd","isValidMail","isSpaces","isPhone","isUrl","isExternalUrl","domain","toBool","toString","match","Function","m_arr","setUrlParam","r","encodeURIComponent","reg","tmp","getQuery","$location","$params","createElement","location","$p","$seg","len","decodeURIComponent","Array","slice","concat","unique","temp","sort","myIndexOf","isJson","parseJSON","yes","no","asc","desc","first","last","jumpto","jump","showhide","lock","unlock","edit","save","update","del","query","all","selectMsg","saveMsg","editMsg","delMsg","delMsgM","closeother","closeall","upConfirm","upPause","upCancel","splitBar","splitBarProxy","maskBackground","maskProgress","progressBar_custom","orderby","slidePanel","gridPaging","gridPageNum","gridMenu","gridFilter","gridShowhide","gridEditBtn","gridDialogEditBtns","spinnerBtn","lookupBtn","navtabCM","dialogCM","externalFrag","uploadTemp","uploadFrag","alertSelectMsg","validateErrorMsg","uiTitle","mainTabTitle","Initui","noinits","$noinit","pos","visible","before","after","submit","$active","bjui_ajaxStatus","$offset","offsetParent","$ajaxBackground","$ajaxProgress","progressmsg","prepend","$bg","$pr","ajaxMask","fadeIn","bodyClear","selectpicker","suffix","$currentLookup","arrayfix","beforeSelect","Lookup","$lookBtn","getField","setSingle","setVal","setMult","argsArr","_args","isEmptyObject","argsArray","newValue","inputName","lookup","mult","uploadify","colorpicker","currentIndex","$currentTab","$currentPanel","$tabs","$panels","$prevBtn","$nextBtn","$moreBtn","$moreBox","$mainLi","mainTit","c","maintab","Navtab","removeAttr","openTab","getTabs","getPanels","getMoreLi","getTab","indexTabId","getPanel","getTabsW","iStart","iEnd","tabsW","iW","iOpenIndex","getLeft","getScrollBarW","visibleStart","iLeft","visibleEnd","scrollPrev","scrollTab","scrollNext","isNext","ctrlScrollBtn","scrollCurrent","scrollW","switchTab","iTabIndex","$tab","$panel","onSwitch","support","transition","emulateTransitionEnd","closeTab","openTabid","$more","openIndex","closeOtherTab","loadUrlCallback","closeCurrentTab","openExternal","reloadTab","tabId","closeOther","closeAllTab","closeAll","mReload","mCur","initOp","external","reloadFlag","tabids","getCurrentPanel","ih","Pagination","nums","pageNumFrag","pageNum","pageNums","Math","ceil","getInterval","ne_half","pn","upper_limit","getCurrentPage","min","end","hasPrev","hasNext","getClientPaging","setClientPaging","interval","pr","$first","$last","_bindEvent","pagingInfo","$inputBox","$button","keyup","changePagesize","orderBy","cursor","orderInfo","setClientOrder","clientOrder","setPagingAndOrderby","siblings","iCheck","checkboxClass","radioClass","increaseArea","$icheck","label","$ilabel","checked","_icon","$tabledit","oldClass","toggle","autosize","size","validClass","errors","validatemsg","fadeToggle","$selectpicker","bjui_select_linkage","refurl","_setEmpty","$select","$_nextselect","emptytxt","nextVal","selected","nextselect","style","container","$nextselect","_setting","setting","nodes","node","pid","pId","showRemoveBtn","showRenameBtn","addHoverDom","treeId","treeNode","level","tId","$add","$del","maxAddLevel","zTree","addNodes","delFn","removeNode","onRemove","beforeRemove","isdel","removeHoverDom","view","addDiyDom","enable","editEnable","check","checkEnable","chkStyle","radioType","onClick","beforeDrag","treeNodes","beforeDrop","targetNode","moveType","drop","onDrop","onCheck","onNodeCreated","faicon","onCollapse","faiconClose","onExpand","simpleData","getZTreeObj","expandAll","$tree","tree","h","treeid","setPosition","$clone","clone","treeHeight","offsetBot","maxHeight","overflow","background","border","$scroll","scroll","hBox","initAccordion","offsety","$pheader","h1","$editor","afterUpload","afterSelectFile","confirmSelect","pasteType","minHeight","autoHeightMode","autoHeight","allowFileManager","fillDescAfterUploadImage","X_afterSelect","htmlTags","font","span","div","table","embed","img","pre","hr","cssPath","afterBlur","sync","isbgcolor","ev","color","toHex","tooltip","ignore","CodeMirror","fromTextArea","lineNumbers","gutters","lint","cm","getValue","opts","ClipboardJS","action","page","config","defaultMsg","loadingMsg","rules","digits","number","letters","datetime","params","renderMsg","accept","ext","Slidebar","$sbar","$accordionmenu","$lock","$collapse","$split","$split2","isfloat","cleft","cwidth","faLock","hoverLock","barleft","faUnLock","hoverUnLock","float","hideFloat","hover","tipUnLock","tipLock","mousedown","$spbar2","visibility","sbarwidth","moveHnav","collapse","$heading","clickMenu","$children","toggleClass","initHnav","$trees","$items","$array","substr","panel","bodycls","$t","slidebar","detach","Spinner","Number","step","decimalPlace","changeVal","toFixed","spinner","Tabledit","$tbody","$numAdd","$btnAdd","singleNoindex","afterDelete","initSuffix","$child","fors","prefix","initEnter","$texts","nexInd","initInput","$span","leadingWhitespace","initTbody","$table","_doEdit","$tr","$td","readonly","_doRead","selectText","children","selectTextBox","$tds","$ths","$th","$pic","ii","nn","doAdd","rowNum","doDel","tool","delEvent","$btnDel","delData","_delRow","deletedEvent","Event","relatedTarget","trHtml","$addBox","num","$firstTr","replaceWith","$addTr","$txt","tabledit","initNum","Tablefixed","SCROLLW","getRight","addBack","getCellNum","getColspan","getStart","getPageCoord","coord","x","offsetLeft","offsetTop","getOffset","$objset","evtset","offsetX","offsetY","screenY","parentNode","pageCoord","eventCoord","pageXOffset","pageYOffset","resetWidth","$fixed","tableW","fixedW","tw","$container","newWidth","styles","initHead","initBody","resizeCol","$hTrs","$fThs","hTh","cols","jj","colspan","align","w","thLen","$hTh","$ths2","colsNum","myNum","$_th","$thead","innerWidth","_height","nowrap","$scroller","scrollLeft","mouseover","ofLeft","$resizeTh","cellNum","newW","$dcell","setOrderBy","$orderBox","$order","realWidth","fixedH","tablefixed","multi","clsName","$selected","$taskBar","$taskBox","$taskList","taskDisabled","taskSelected","taskMargin","Taskbar","$task","switchTask","scrollTask","restoreDialog","tasksW","getTasks","getTaskBarW","$tools","lTask","getBarWidth","jTasks","mOther","closeDialog","task","getTask","inactive","scrollRight","changeTitle","$themeLink","$themeLis","Theme","themeHref","$themeA","classA","setTheme","themeName","path","expires","Upload","FileReader","swf","fileTypeExts","fileObjName","fileSizeLimit","buttonText","auto","uploader","getTime","$file","onInit","onCancel","onSelect","onUploadSuccess","onUploadComplete","onUploadError","onUploadBefore","$upBtn","insertAfter","method","formData","previewImg","previewLoadimg","dragDrop","showUploadedPercent","showUploadedSize","removeTimeout","itemTemplate","breakPoints","fileSplitSize","onUploadStart","MIMETYPES","zip","jpg","png","gif","doc","xls","docx","xlsx","ppt","pptx","mp3","mp4","pdf","txt","xml","formatFileSize","byKB","round","getFile","getFileTypes","str","result","arr1","pop","getMimetype","getAcceptString","mime","typeArray","thisFile","inArray","getFiles","dataTransfer","lastModifiedDate","renderQueueItem","queueData","file","uploadedSize","$temp","upload","$uploadFileList","getUploadedSize","showProgress","$prevbox","$fileSize","fileUpload","$queue","removeQueueItem","successQueueItem","abort","reader","onload","readAsDataURL","fileId","fileSize","initWidth","localStorage","getItem","saveUploadedSize","setItem","sendBlob","formdata","fd","setRequestHeader","send","$uploadFrag","fileSelect","ondragover","ondrop","originalFile","XMLHttpRequest","onprogress","onProgress","loaded","onreadystatechange","readyState","upOver","onQueueComplete","fileName","$progress","thisLoaded","lastLoaded","$progressBar","percent","parseFloat","percentText","nextAll","MONTH_NAMES","DAY_NAMES","LZ","format","i_format","token","getYear","E","_isInteger","_getInt","minlength","maxlength","i_val","hh","mm","ss","ampm","month_name","day_name","replaceTmEval","eval","dateFmt","_y","_m","_d","aDate","parseTime","time","formatObj","startTime","setMilliseconds","endTime","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","__webpack_modules__","source","converter","defaultAttributes","set","attributes","toUTCString","escape","stringifiedAttributes","attributeName","write","Object","cookies","jar","parts","foundKey","read","withAttributes","withConverter","freeze","Cookies"],"sourceRoot":""}