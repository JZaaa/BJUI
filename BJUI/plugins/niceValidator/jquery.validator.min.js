/*! nice-validator 1.1.5
 * (c) 2012-2020 Jony Zhang <niceue@live.com>, MIT Licensed
 * https://github.com/niceue/nice-validator
 */
!function(e){"object"==typeof module&&module.exports?module.exports=e(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(g,c){"use strict";function f(e,t,i){return e&&e.tagName?i===c?e.getAttribute(t):void(null===i?e.removeAttribute(t):e.setAttribute(t,""+i)):null}var t,o="validator",m="."+o,h=".field",u="nice-"+o,l="msg-box",d="aria-invalid",p="data-rule",n="data-msg",a="data-tip",r="data-timely",v="data-target",_="novalidate",y=":verifiable",i=/(&)?(!)?\b(\w+)(?:\[\s*(.*?\]?)\s*\]|\(\s*(.*?\)?)\s*\))?\s*(;|\|)?/g,b=/(\w+)(?:\[\s*(.*?\]?)\s*\]|\(\s*(.*?\)?)\s*\))?/,s=/(?:([^:;\(\[]*):)?(.*)/,k=/[^\x00-\xff]/g,w=/top|right|bottom|left/,x=/(?:(cors|jsonp):)?(?:(post|get):)?(.+)/i,M=/[<>'"`\\]|&#x?\d+[A-F]?;?|%3[A-F]/gim,V=g.noop,O=g.proxy,F=g.trim,$=g.isFunction,E=function(e){return"string"==typeof e},C=function(e){return e&&"[object Object]"===Object.prototype.toString.call(e)},A=document.documentMode||+(navigator.userAgent.match(/MSIE (\d+)/)&&RegExp.$1),j={},N={debug:0,theme:"default",ignore:"",focusInvalid:!0,focusCleanup:!1,stopOnError:!1,beforeSubmit:null,valid:null,invalid:null,validation:null,formClass:"n-default",validClass:"n-valid",invalidClass:"n-invalid",bindClassTo:null},T={timely:1,display:null,target:null,ignoreBlank:!1,showOk:!0,dataFilter:function(e){if(E(e)||C(e)&&("error"in e||"ok"in e))return e},msgMaker:function(i){var s='<span role="alert" class="msg-wrap n-'+i.type+'">'+i.arrow;return i.result?g.each(i.result,function(e,t){s+='<span class="n-'+t.type+'">'+i.icon+'<span class="n-msg">'+t.msg+"</span></span>"}):s+=i.icon+'<span class="n-msg">'+i.msg+"</span>",s+="</span>"},msgWrapper:"span",msgArrow:"",msgIcon:'<span class="n-icon"></span>',msgClass:"n-right",msgStyle:"",msgShow:null,msgHide:null},S={};function R(e,t){var i=this;if(!(i instanceof R))return new R(e,t);function s(){i.$el=g(e),i.$el.length?i._init(i.$el[0],t):E(e)&&(j[e]=t)}R.pending?g(window).on("validatorready",s):s()}function q(e,t){if(C(e)){var i,s=t?!0===t?this:t:q.prototype;for(i in e)U(i)&&(s[i]=I(e[i]))}}function D(e,t){if(C(e)){var i,s=t?!0===t?this:t:D.prototype;for(i in e)s[i]=e[i]}}function I(e){switch(g.type(e)){case"function":return e;case"array":var t=function(){return e[0].test(this.value)||e[1]||!1};return t.msg=e[1],t;case"regexp":return function(){return e.test(this.value)}}}function H(e){var t,i,s;if(e&&e.tagName){switch(e.tagName){case"INPUT":case"SELECT":case"TEXTAREA":case"BUTTON":case"FIELDSET":t=e.form||g(e).closest("."+u);break;case"FORM":t=e;break;default:t=g(e).closest("."+u)}for(i in j)if(g(t).is(i)){s=j[i];break}return g(t).data(o)||g(t)[o](s).data(o)}}function L(e,t,i){var s=t.msg,t=t._r;return C(s)&&(s=s[t]),E(s)||(s=f(e,n+"-"+t)||f(e,n)||(i?E(i)?i:i[t]:"")),s}function B(e){return"INPUT"===e.tagName&&"checkbox"===e.type||"radio"===e.type}function P(e){return Date.parse(e.replace(/\.|\-/g,"/"))}function U(e){return/^\w+$/.test(e)}function W(e){var t="#"===e.charAt(0);return e=e.replace(/([:.{(|)}/\[\]])/g,"\\$1"),t?e:'[name="'+e+'"]:first'}return g.fn.validator=function(t){var e=this,i=arguments;return e.is(y)?e:(e.is("form")||(e=this.find("form")),e.length||(e=this),e.each(function(){var e=g(this).data(o);e?E(t)?"_"!==t.charAt(0)&&e[t].apply(e,[].slice.call(i,1)):t&&(e._reset(!0),e._init(this,t)):new R(this,t)}),this)},g.fn.isValid=function(t,e){var i,s=H(this[0]),n=$(t);return!s||(n||e!==c||(e=t),s.checkOnly=!!e,i=s.options,e=s._multiValidate(this.is(y)?this:this.find(y),function(e){e||!i.focusInvalid||s.checkOnly||s.$el.find("["+d+"]:first").focus(),n&&(t.length?t(e):e&&t()),s.checkOnly=!1}),n?this:e)},g.extend(g.expr.pseudos||g.expr[":"],{verifiable:function(e){var t=e.nodeName.toLowerCase();return("input"===t&&!{submit:1,button:1,reset:1,image:1}[e.type]||"select"===t||"textarea"===t||"true"===e.contentEditable)&&!e.disabled},filled:function(e){return!!F(g(e).val())}}),R.prototype={_init:function(e,t){var i,s,n,a=this;function r(){var e,t=this.options;for(e in t)e in T&&(this[e]=t[e]);g.extend(this,{_valHook:function(){return"true"===this.element.contentEditable?"text":"val"},getValue:function(){var e=this.element;return!e||"number"===e.type&&e.validity&&e.validity.badInput?"NaN":g(e)[this._valHook()]()},setValue:function(e){g(this.element)[this._valHook()](this.value=e)},getRangeMsg:function(e,t,i){if(t){var s,n=this,a=n.messages[n._r]||"",r=t[0].split("~"),l="false"===t[1],o=r[0],u=r[1],d="rg",c=[""],t=F(e)&&+e==+e;return 2===r.length?o&&u?(t&&f(e,+o)&&f(+u,e)&&(s=!0),c=c.concat(r),d=l?"gtlt":"rg"):o&&!u?(t&&f(e,+o)&&(s=!0),c.push(o),d=l?"gt":"gte"):!o&&u&&(t&&f(+u,e)&&(s=!0),c.push(u),d=l?"lt":"lte"):(e===+o&&(s=!0),c.push(o),d="eq"),a&&(i&&a[d+i]&&(d+=i),c[0]=a[d]),s||n._rules&&(n._rules[n._i].msg=n.renderMsg.apply(null,c))}function f(e,t){return l?t<e:t<=e}},renderMsg:function(){var e=arguments,t=e[0],i=e.length;if(t){for(;--i;)t=t.replace("{"+i+"}",e[i]);return t}}})}function l(e,t,i){this.key=e,this.validator=n,g.extend(this,i,t)}$(t)&&(t={valid:t}),t=a._opt=t||{},s=f(e,"data-"+o+"-option"),s=a._dataOpt=s&&"{"===s.charAt(0)?new Function("return "+s)():{},i=a._themeOpt=S[t.theme||s.theme||N.theme],s=a.options=g.extend({},N,T,i,a.options,t,s),a.rules=new q(s.rules,!0),a.messages=new D(s.messages,!0),a.Field=(r.prototype=n=a,l.prototype=new r,l),a.elements=a.elements||{},a.deferred={},a.errors={},a.fields={},a._initFields(s.fields),a.$el.data(o)||(a.$el.data(o,a).addClass(u+" "+s.formClass).on("form-submit-validate",function(e,t,i,s,n){a.vetoed=n.veto=!a.isValid,a.ajaxFormOptions=s}).on("submit"+m+" validate"+m,O(a,"_submit")).on("reset"+m,O(a,"_reset")).on("showmsg"+m,O(a,"_showmsg")).on("hidemsg"+m,O(a,"_hidemsg")).on("focusin"+m+" click"+m,y,O(a,"_focusin")).on("focusout"+m+" validate"+m,y,O(a,"_focusout")).on("keyup"+m+" input"+m+" compositionstart compositionend",y,O(a,"_focusout")).on("click"+m,":radio,:checkbox","click",O(a,"_focusout")).on("change"+m,'select,input[type="file"]',"change",O(a,"_focusout")),a._NOVALIDATE=f(e,_),f(e,_,_)),E(s.target)&&a.$el.find(s.target).addClass("msg-container")},_guessAjax:function(e){function t(e,t,i){return!!(e&&e[t]&&g.map(e[t],function(e){return~e.namespace.indexOf(i)?1:null}).length)}(this.isAjaxSubmit=!!this.options.valid)||(e=(g._data||g.data)(e,"events"),this.isAjaxSubmit=t(e,"valid","form")||t(e,"submit","form-plugin"))},_initFields:function(e){var t,i,s,n=this,a=null===e;if(a&&(e=n.fields),C(e))for(t in e)if(~t.indexOf(","))for(s=(i=t.split(",")).length;s--;)r(F(i[s]),e[t]);else r(t,e[t]);function r(e,t){var i;null===t||a?((i=n.elements[e])&&n._resetElement(i,!0),delete n.fields[e]):n.fields[e]=new n.Field(e,E(t)?{rule:t}:t,n.fields[e])}n.$el.find(y).each(function(){n._parse(this)})},_parse:function(e){var t,i=this,s=e.name,n=f(e,p);return n&&f(e,p,null),e.id&&("#"+e.id in i.fields||!s||null!==n&&(t=i.fields[s])&&n!==t.rule&&e.id!==t.key)&&(s="#"+e.id),s=s||"#"+(e.id="N"+String(Math.random()).slice(-12)),(t=i.getField(s,!0)).rule=n||t.rule,(n=f(e,"data-display"))&&(t.display=n),t.rule&&(null===f(e,"data-must")&&!/\b(?:match|checked)\b/.test(t.rule)||(t.must=!0),/\brequired\b/.test(t.rule)&&(t.required=!0),(n=f(e,r))?t.timely=+n:3<t.timely&&f(e,r,t.timely),i._parseRule(t),t.old={}),E(t.target)&&f(e,v,t.target),E(t.tip)&&f(e,a,t.tip),i.fields[s]=t},_parseRule:function(t){var e=s.exec(t.rule);e&&(t._i=0,e[1]&&(t.display=e[1]),e[2]&&(t._rules=[],e[2].replace(i,function(){var e=arguments;e[4]=e[4]||e[5],t._rules.push({and:"&"===e[1],not:"!"===e[2],or:"|"===e[6],method:e[3],params:e[4]?g.map(e[4].split(", "),F):c})})))},_multiValidate:function(e,t){var i=this,s=i.options;return i.hasError=!1,s.ignore&&(e=e.not(s.ignore)),e.each(function(){if(i._validate(this),i.hasError&&s.stopOnError)return!1}),t&&(i.validating=!0,g.when.apply(null,g.map(i.deferred,function(e){return e})).done(function(){t.call(i,!i.hasError),i.validating=!1})),g.isEmptyObject(i.deferred)?!i.hasError:c},_submit:function(e){var s=this,n=s.options,a=e.target,r="submit"===e.type&&"FORM"===a.tagName&&!e.isDefaultPrevented();e.preventDefault(),(t?~(t=!1):s.submiting)||"validate"===e.type&&s.$el[0]!==a||$(n.beforeSubmit)&&!1===n.beforeSubmit.call(s,a)||(s.isAjaxSubmit===c&&s._guessAjax(a),s._debug("log","\n<<< event: "+e.type),s._reset(),s.submiting=!0,s._multiValidate(s.$el.find(y),function(e){var t,i=e||2===n.debug?"valid":"invalid";e||(n.focusInvalid&&s.$el.find("["+d+"]:first").focus(),t=g.map(s.errors,function(e){return e})),s.submiting=!1,s.isValid=e,$(n[i])&&n[i].call(s,a,t),s.$el.trigger(i+".form",[a,t]),s._debug("log",">>> "+i),e&&(s.vetoed?g(a).ajaxSubmit(s.ajaxFormOptions):r&&!s.isAjaxSubmit&&document.createElement("form").submit.call(a))}))},_reset:function(e){var t=this;t.errors={},e&&(t.reseting=!0,t.$el.find(y).each(function(){t._resetElement(this)}),delete t.reseting)},_resetElement:function(e,t){this._setClass(e,null),this.hideMsg(e)},_focusin:function(e){var t=this,i=t.options,s=e.target;t.validating||"click"===e.type&&document.activeElement===s||(i.focusCleanup&&"true"===f(s,d)&&(t._setClass(s,null),t.hideMsg(s)),(i=f(s,a))?t.showMsg(s,{type:"tip",msg:i}):(f(s,p)&&t._parse(s),(s=f(s,r))&&(8!==s&&9!==s||t._focusout(e))))},_focusout:function(e){var t,i,s,n,a,r=this,l=r.options,o=e.target,u=e.type,d="focusin"===u,c="validate"===u,f=0;if("compositionstart"===u&&(r.pauseValidate=!0),"compositionend"===u&&(r.pauseValidate=!1),!r.pauseValidate&&(s=o.name&&B(o)?r.$el.find('input[name="'+o.name+'"]').get(0):o,(i=r.getField(s))&&i.rule)){if(t=i._e,i._e=u,a=i.timely,!c){if(!a||B(o)&&"click"!==u)return;if(s=i.getValue(),i.ignoreBlank&&!s&&!d)return void r.hideMsg(o);if("focusout"===u){if("change"===t)return;if(2===a||8===a){if(n=i.old,!s||!n)return;i.isValid&&!n.showOk?r.hideMsg(o):r._makeMsg(o,i,n)}}else{if(a<2&&!e.data)return;if((n=+new Date)-(o._ts||0)<100)return;if(o._ts=n,"keyup"===u){if("input"===t)return;if(9===(e=e.keyCode)&&!s)return;if(e<48&&!{8:1,9:1,16:1,32:1,46:1}[e])return}d||(f=a<100?"click"===u||"SELECT"===o.tagName?0:400:a)}}l.ignore&&g(o).is(l.ignore)||(clearTimeout(i._t),f?i._t=setTimeout(function(){r._validate(o,i)},f):(c&&(i.old={}),r._validate(o,i)))}},_setClass:function(e,t){var i=g(e),e=this.options;e.bindClassTo&&(i=i.closest(e.bindClassTo)),i.removeClass(e.invalidClass+" "+e.validClass),null!==t&&i.addClass(t?e.validClass:e.invalidClass)},_showmsg:function(e,t,i){var s=this,e=e.target;s.$el.is(e)?C(t)?s.showMsg(t):"tip"===t&&s.$el.find(y+"["+a+"]",e).each(function(){s.showMsg(this,{type:t,msg:i})}):s.showMsg(e,{type:t,msg:i})},_hidemsg:function(e){e=g(e.target);e.is(y)&&this.hideMsg(e)},_validatedField:function(e,t,i){var s=this,n=s.options,a=t.isValid=i.isValid=!!i.isValid,r=a?"valid":"invalid";i.key=t.key,i.ruleName=t._r,i.id=e.id,i.value=t.value,s.elements[t.key]=i.element=e,s.isValid=s.$el[0].isValid=a&&s.isFormValid(),a?i.type="ok":(s.submiting&&(s.errors[t.key]=i.msg),s.hasError=!0),t.old=i,$(t[r])&&t[r].call(s,e,i),$(n.validation)&&n.validation.call(s,e,i),g(e).attr(d,!a||null).trigger(r+h,[i,s]),s.$el.triggerHandler("validation",[i,s]),s.checkOnly||(s._setClass(e,i.skip||"tip"===i.type?null:a),s._makeMsg.apply(s,arguments))},_makeMsg:function(e,t,i){t.msgMaker&&(i=g.extend({},i),"focusin"===t._e&&(i.type="tip"),this[i.showOk||i.msg||"tip"===i.type?"showMsg":"hideMsg"](e,i,t))},_validatedRule:function(i,s,e,t){s=s||r.getField(i),t=t||{};var n,a,r=this,l=s._r,o=s.timely,u=9===o||8===o,d=!1;if(null===e)return r._validatedField(i,s,{isValid:!0,skip:!0}),void(s._i=0);if(e===c?a=!0:!0===e||""===e?d=!0:E(e)?n=e:C(e)?e.error?n=e.error:(n=e.ok,d=!0):d=!!e,(o=s._rules[s._i]).not&&(n=c,d="required"===l||!d),o.or)if(d)for(;s._i<s._rules.length&&s._rules[s._i].or;)s._i++;else a=!0;else o.and&&(s.isValid||(a=!0));a?d=!0:(d&&!1!==s.showOk&&(n=null===(e=f(i,"data-ok"))?E(s.ok)?s.ok:n:e,!E(n)&&E(s.showOk)&&(n=s.showOk),E(n)&&(t.showOk=d)),d&&!u||(n=(L(i,s,n||o.msg||r.messages[l])||r.messages.fallback).replace(/\{0\|?([^\}]*)\}/,function(e,t){return r._getDisplay(i,s.display)||t||r.messages[0]})),d||(s.isValid=d),t.msg=n,g(i).trigger((d?"valid":"invalid")+".rule",[l,n])),!u||a&&!o.and||(d||s._m||(s._m=n),s._v=s._v||[],s._v.push({type:d?a?"tip":"ok":"error",msg:n||o.msg})),r._debug("log","   "+s._i+": "+l+" => "+(d||n)),(d||u)&&s._i<s._rules.length-1?(s._i++,r._checkRule(i,s)):(s._i=0,u?(t.isValid=s.isValid,t.result=s._v,t.msg=s._m||"",s.value||"focusin"!==s._e||(t.type="tip")):t.isValid=d,r._validatedField(i,s,t),delete s._m,delete s._v)},_checkRule:function(n,a){var e,t,r=this,i=a.key,l=a._rules[a._i],s=l.method,o=l.params;r.submiting&&r.deferred[i]||(t=a.old,a._r=s,t&&!a.must&&!l.must&&l.result!==c&&t.ruleName===s&&t.id===n.id&&a.value&&t.value===a.value?e=l.result:(e=(s=function(e,t){t=F(f(e,p+"-"+t));if(t=t&&new Function("return "+t)())return I(t)}(n,s)||r.rules[s]||V).call(a,n,o,a),s.msg&&(l.msg=s.msg)),C(e)&&$(e.then)?(r.deferred[i]=e,a.isValid=c,r.checkOnly||r.showMsg(n,{type:"loading",msg:r.messages.loading},a),e.then(function(e,t,i){var s=F(i.responseText),i=a.dataFilter;/jsonp?/.test(this.dataType)?s=e:"{"===s.charAt(0)&&(s=g.parseJSON(s)),(e=i.call(this,s,a))===c&&(e=i.call(this,s.data,a)),l.data=this.data,l.result=a.old?e:c,r._validatedRule(n,a,e)},function(e,t){r._validatedRule(n,a,r.messages[t]||t)}).always(function(){delete r.deferred[i]})):r._validatedRule(n,a,e))},_validate:function(e,t){var i=this;if(!e.disabled&&null===f(e,_)&&(t=t||i.getField(e),t&&(t._rules||i._parse(e),t._rules)))return i._debug("info",t.key),t.isValid=!0,t.element=e,t.value=t.getValue(),t.required||t.must||t.value||B(e)?(i._checkRule(e,t),t.isValid):(i._validatedField(e,t,{isValid:!0}),!0)},_debug:function(e,t){window.console&&this.options.debug&&console[e](t)},test:function(e,t){var i,s,t=b.exec(t);return t&&(i=t[1])in this.rules&&(s=(s=t[2]||t[3])?s.split(", "):c,(t=this.getField(e,!0))._r=i,t.value=t.getValue(),s=this.rules[i].call(t,e,s)),!0===s||s===c||null===s},_getDisplay:function(e,t){return E(t)?t:$(t)?t.call(this,e):""},_getMsgOpt:function(e,t){t=t||this.options;return g.extend({type:"error",pos:function(e){var t;e&&(t=w.exec(e));return t&&t[0]}(t.msgClass),target:t.target,wrapper:t.msgWrapper,style:t.msgStyle,cls:t.msgClass,arrow:t.msgArrow,icon:t.msgIcon},E(e)?{msg:e}:e)},_getMsgDOM:function(e,t){var i,s,n,a,r=g(e);return r.is(y)?((s=t.target||f(e,v))&&(s=$(s)?s.call(this,e):"#"===s.charAt(0)?g(s):this.$el.find(s)).length&&(s.is(y)?e=(r=s).get(0):s.hasClass(l)?a=s:n=s),a||(i=B(e)&&e.name||!e.id?e.name:e.id,a=(n||this.$el).find(t.wrapper+"."+l+'[for="'+i+'"]'))):a=r,t.hide||a.length||(a=g("<"+t.wrapper+">").attr({class:l+(t.cls?" "+t.cls:""),style:t.style||c,for:i}),n?a.appendTo(n):B(e)?(e=r.parent(),a.appendTo(e.is("label")?e.parent():e)):a[t.pos&&"right"!==t.pos?"insertBefore":"insertAfter"](r)),a},showMsg:function(e,t,i){var s,n,a,r;e&&(n=(s=this).options,!C(e)||e.jquery||t?(g(e).is(y)&&(i=i||s.getField(e)),(a=(i||n).msgMaker)&&(t=s._getMsgOpt(t,i),e=(e.name&&B(e)?s.$el.find('input[name="'+e.name+'"]'):g(e)).get(0),t.msg||"error"===t.type||null!==(r=f(e,"data-"+t.type))&&(t.msg=r),E(t.msg)&&(r=s._getMsgDOM(e,t),w.test(r[0].className)||r.addClass(t.cls),6===A&&"bottom"===t.pos&&(r[0].style.marginTop=g(e).outerHeight()+"px"),r.html(a.call(s,t))[0].style.display="",$(n=i&&i.msgShow||n.msgShow)&&n.call(s,r,t.type)))):g.each(e,function(e,t){e=s.elements[e]||s.$el.find(W(e))[0];s.showMsg(e,t)}))},hideMsg:function(e,t,i){var s=this,n=s.options;e=g(e).get(0),g(e).is(y)&&(i=i||s.getField(e))&&(i.isValid||s.reseting)&&f(e,d,null),(t=s._getMsgOpt(t,i)).hide=!0,(e=s._getMsgDOM(e,t)).length&&($(n=i&&i.msgHide||n.msgHide)?n.call(s,e,t.type):(e[0].style.display="none",e[0].innerHTML=""))},getField:function(e,t){var i,s;if(E(e))i=e,e=c;else{if(f(e,p))return this._parse(e);i=e.id&&"#"+e.id in this.fields||!e.name?"#"+e.id:e.name}return((s=this.fields[i])||t&&(s=new this.Field(i)))&&(s.element=e),s},setField:function(e,t){var i={};e&&(E(e)?i[e]=t:i=e,this._initFields(i))},isFormValid:function(){var e,t,i=this.fields;for(e in i)if(t=i[e],t._rules&&(t.required||t.must||t.value)&&!t.isValid)return!1;return!0},holdSubmit:function(e){this.submiting=e===c||e},cleanUp:function(){this._reset(1)},destroy:function(){this._reset(1),this.$el.off(m).removeData(o),f(this.$el[0],_,this._NOVALIDATE)}},g(window).on("beforeunload",function(){this.focus()}),g(document).on("click",":submit",function(){var e;this.form&&((e=this.getAttributeNode("formnovalidate"))&&null!==e.nodeValue||null!==f(this,_))&&(t=!0)}).on("focusin submit validate","form,."+u,function(e){var t,i;null!==f(this,_)||!(t=g(this)).data(o)&&(i=H(this))&&(g.isEmptyObject(i.fields)?(f(this,_,_),t.off(m).removeData(o)):"focusin"===e.type?i._focusin(e):i._submit(e))}),new D({fallback:"This field is not valid.",loading:"Validating..."}),new q({required:function(e,t){var i=this,s=F(i.value),n=!0;if(t)if(1===t.length){if(U(t[0])){if(i.rules[t[0]]){if(!s&&!i.test(e,t[0]))return null;i._r="required"}}else if(!s&&!g(t[0],i.$el).length)return null}else if("not"===t[0])g.each(t.slice(1),function(){return n=s!==F(this)});else if("from"===t[0]){var a,r=i.$el.find(t[1]),l="_validated_";return(n=r.filter(function(){var e=i.getField(this);return e&&!!F(e.getValue())}).length>=(t[2]||1))?s||(a=null):a=L(r[0],i)||!1,g(e).data(l)||r.data(l,1).each(function(){e!==this&&i._validate(this)}).removeData(l),a}return n&&!!s},integer:function(e,t){var i,s="[1-9]\\d*",t=t?t[0]:"*";switch(t){case"+":i=s;break;case"-":i="-"+s;break;case"+0":i="0|"+s;break;case"-0":i="0|-"+s;break;default:i="0|-?"+s}return i="^(?:"+i+")$",new RegExp(i).test(this.value)||this.messages.integer&&this.messages.integer[t]},match:function(e,t){if(t){var i,s,n,a=this,r=!0,l="eq",o=1===t.length?t[0]:(l=t[0],t[1]),u=W(o),d=a.$el.find(u)[0];if(d){if(n=a.getField(d),i=a.value,s=n.getValue(),a._match||(a.$el.on("valid"+h+m,u,function(){g(e).trigger("validate")}),a._match=n._match=1),!a.required&&""===i&&""===s)return null;if((t=t[2])&&(/^date(time)?$/i.test(t)?(i=P(i),s=P(s)):"time"===t&&(i=+i.replace(/:/g,""),s=+s.replace(/:/g,""))),"eq"!==l&&!isNaN(+i)&&isNaN(+s))return!0;switch(l){case"lt":r=+i<+s;break;case"lte":r=+i<=+s;break;case"gte":r=+s<=+i;break;case"gt":r=+s<+i;break;case"neq":r=i!==s;break;default:r=i===s}return r||C(a.messages.match)&&a.messages.match[l].replace("{1}",a._getDisplay(d,n.display||o))}}},range:function(e,t){return this.getRangeMsg(this.value,t)},checked:function(e,t){if(B(e)){var i,e=e.name?this.$el.find('input[name="'+e.name+'"]').filter(function(){return!i&&B(this)&&(i=this),!this.disabled&&this.checked}).length:(i=e).checked;return t?this.getRangeMsg(e,t):!!e||L(i,this,"")||this.messages.required||!1}},length:function(e,t){var i=this.value,i=("true"===t[1]?i.replace(k,"xx"):i).length;return this.getRangeMsg(i,t,t[1]?"_2":"")},remote:function(e,t){if(t){var i,s=this,n=x.exec(t[0]),a=s._rules[s._i],r={},l="",o=n[3],u=n[2]||"POST",n=(n[1]||"").toLowerCase();return(a.must=!0,r[e.name]=s.value,t[1]&&g.map(t.slice(1),function(e){var t;~e.indexOf("=")?l+="&"+e:(t=e.split(":"),e=F(t[0]),t=F(t[1])||e,r[e]=s.$el.find(W(t)).val())}),r=g.param(r)+l,!s.must&&a.data&&a.data===r)?a.result:("cors"!==n&&/^https?:/.test(o)&&!~o.indexOf(location.host)&&(i="jsonp"),g.ajax({url:o,type:u,data:r,dataType:i}))}},filter:function(e,t){var i=this.value,t=i.replace(t?new RegExp("["+t[0]+"]","gm"):M,"");t!==i&&this.setValue(t)}}),R.config=function(e,t){function i(e,t){"rules"===e?new q(t):"messages"===e?new D(t):e in T?T[e]=t:N[e]=t}C(e)?g.each(e,i):E(e)&&i(e,t)},R.setTheme=function(e,t){C(e)?g.extend(!0,S,e):E(e)&&C(t)&&(S[e]=g.extend(S[e],t))},R.load=function(e){var t,s,i,n,a,r;e&&(t=document,s={},i=t.scripts[0],e.replace(/([^?=&]+)=([^&#]*)/g,function(e,t,i){s[t]=i}),n=s.dir||R.dir,R.css||""===s.css||((a=t.createElement("link")).rel="stylesheet",a.href=R.css=n+"jquery.validator.css",i.parentNode.insertBefore(a,i)),!R.local&&~e.indexOf("local")&&""!==s.local&&(R.local=(s.local||t.documentElement.lang||"en").replace("_","-"),R.pending=1,(a=t.createElement("script")).src=n+"local/"+R.local+".js",r="onload"in a?"onload":"onreadystatechange",a[r]=function(){a.readyState&&!/loaded|complete/.test(a.readyState)||(a=a[r]=null,delete R.pending,g(window).triggerHandler("validatorready"))},i.parentNode.insertBefore(a,i)))},function(){for(var e,t,i=document.scripts,s=i.length,n=/(.*validator(?:\.min)?.js)(\?.*(?:local|css|dir)(?:=[\w\-]*)?)?/;s--&&!t;)t=((e=i[s]).hasAttribute?e.src:e.getAttribute("src",4)||"").match(n);t&&(R.dir=t[1].split("/").slice(0,-1).join("/")+"/",R.load(t[2]))}(),g[o]=R});
